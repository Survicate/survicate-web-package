!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Survicate=t():e.Survicate=t()}(self,(()=>(()=>{var e={783:function(e,t,s){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(s(646));t.default=class{static init({cookies:e}){e&&e.forEach((({cookie_name:e,cookie_random:t})=>{const s=Math.floor(Math.random()*parseInt(t,10)+1);i.default.set(e,`${s}`)}))}}},84:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=s(800);t.default=new class{constructor(){this.isEnabled=!1}init(){this.isEnabled=!0}pushEvent(e,t){if(window.FS&&this.isEnabled&&e===r.FullStoryEvents.SurveyPointAnswered){const e=t;window.FS.event(r.FullStoryEvents.SurveyPointAnswered,{answer_str:e.textResponse,question_str:e.question,survey_name_str:e.surveyName}),window.FS.setUserVars({survey_id:t.survey.id,survicate_response_uuid_str:t.response_uuid,survicate_visitor_uuid_str:t.visitor_uuid})}}}},104:function(e,t,s){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=s(911),n=r(s(624));class o{constructor(){this.trackerRegex=/.*/,this.isEnabled=!1,this.settings={}}init(e){this.isEnabled=e.enabled,this.settings=e;let t=/.*/;e.tracker&&(e.regex?t=(0,n.default)(e.tracker_regex)||/.*/:e.tracker_names&&(t=new RegExp(`^(${e.tracker_names.map((e=>e.name)).join("|")})$`))),this.trackerRegex=t}static getGA4MatchingDataStreams(e){return"object"==typeof window.google_tag_manager&&"/.*/"!==e.toString()&&this.areAnyGA4Trackers(e)?Object.keys(window.google_tag_manager).filter((t=>e.test(t))):null}static areAnyGA4Trackers(e){var t;return!!(null===(t=e.source.match(/G-\w+/g))||void 0===t?void 0:t.length)}static areOnlyGA4Trackers(e){const t=/^G-\w+$/,s=e.source,r=s.match(/\bG-\w+\b/g);return r?r.every((e=>t.test(e))):t.test(s)}static getGaMatchingTrackers(e){const t=window.ga.getAll().map((e=>e.get("name")));return this.areOnlyGA4Trackers(e)?t:t.filter((t=>e.test(t)))}static getCategoryName(e){return`Survicate - ${e}`}static getActionName(e,t){let s;switch(e){case i.IntegrationEventTypes.SurveyClosed:s="Closed survey";break;case i.IntegrationEventTypes.SurveyMaximized:s="Maximized survey";break;case i.IntegrationEventTypes.SurveyMinimized:s="Minimized survey";break;case i.IntegrationEventTypes.SurveyPointAnswered:s=`Question answered - ${t}`;break;case i.IntegrationEventTypes.SurveyPointSeen:s=`Question seen - ${t}`;break;case i.IntegrationEventTypes.SurveySeen:s="Seen survey"}return s}static handleEvent(e){const{trackerNameRegex:t,eventType:s,pointContent:r,surveyName:i,pointResponses:n,interaction:a}=e,c=this.getActionName(s,r);if(!c)return;const l=this.getCategoryName(i),u=n,v={},_={};v.event_category=l,v.non_interaction=!a,u&&(v.event_label=u);const d=o.getGA4MatchingDataStreams(t);(null==d?void 0:d.length)&&(v.send_to=d),window.google_tag_manager&&Object.keys(window.google_tag_manager).some((e=>e.startsWith("GTM-")))&&"function"!=typeof window.gtag&&window.dataLayer&&(window.gtag=function(){window.dataLayer.push(arguments)}),"function"==typeof window.gtag&&window.gtag("event",c,v),"function"==typeof window.ga&&(_.hitType="event",_.eventCategory=l,_.eventAction=c,_.nonInteraction=!a,u&&(_.eventLabel=u),window.ga((()=>{o.getGaMatchingTrackers(t).forEach((e=>{window.ga(`${e}.send`,_)}))})))}pushEvent(e,t,s){if(this.isEnabled&&s&&s.google_analytics&&s.google_analytics.on_response){let r;r=s.google_analytics.anonymize&&"anonymizedTextResponse"in t?t.anonymizedTextResponse:t.textResponse;let n=!0;e!==i.IntegrationEventTypes.SurveyPointSeen&&e!==i.IntegrationEventTypes.SurveySeen||(n=!1),o.handleEvent({eventType:e,interaction:n,pointContent:t.question,pointResponses:r,surveyName:t.surveyName,trackerNameRegex:this.trackerRegex})}}}t.default=new o},624:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=e=>{const t=/^\/(.*)\/(.*)$/;if(!e)return null;let s=e;t.test(s)||(s=`/${s}/`);const r=t.exec(s),i=r?r[1]:"",n=r?r[2]:void 0;try{s=new RegExp(i,n)}catch(e){return null}return s}},446:function(e,t,s){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=s(911),n=s(481),o=r(s(84)),a=r(s(104)),c=r(s(667)),l=r(s(185)),u=r(s(119)),v=[{classInstance:c.default,name:n.IntegrationNames.Segment},{classInstance:a.default,name:n.IntegrationNames.GoogleAnalytics},{classInstance:u.default,name:n.IntegrationNames.Woopra},{classInstance:o.default,name:n.IntegrationNames.Fullstory},{classInstance:l.default,name:n.IntegrationNames.Smartlook}];t.default=class{static pushEvent(e,t,s){v.forEach((({name:r,classInstance:o})=>{const a=r===n.IntegrationNames.GoogleAnalytics?e:i.EventNamesMap[r][e];o.pushEvent(a,t,s)}))}}},667:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SegmentEvents=void 0;const r=s(609);var i;!function(e){e.SurveySeen="survicate_survey_shown",e.SurveyPointAnswered="survicate_survey_answered"}(i=t.SegmentEvents||(t.SegmentEvents={}));class n{constructor(){this.isEnabledPerWorkspace=!1}init(){this.isEnabledPerWorkspace=!0}pushEvent(e,t){if(window.analytics&&this.isEnabledPerWorkspace){if(e===i.SurveyPointAnswered){if("contactForm"in t)return void n.identify(t.contactForm);n.trackAnswered(t)}e===i.SurveySeen&&n.trackSurveySeen(t.surveyName)}}static identify(e){window.analytics.identify(e)}static trackAnswered(e){e.pointType!==r.SurveyPointType.question?window.analytics.track(i.SurveyPointAnswered,{survey:e.surveyName,question:e.question,answer:e.textResponse,type:e.pointType,user_tag:e.user_tag}):window.analytics.track(i.SurveyPointAnswered,{survey:e.surveyName,question:e.question,answer:e.textResponse,type:e.pointType,answer_type:e.answer_type})}static trackSurveySeen(e){window.analytics.track(i.SurveySeen,{survey:e})}}t.default=new n},185:(e,t)=>{"use strict";var s;Object.defineProperty(t,"__esModule",{value:!0}),t.SmartlookEvents=void 0,function(e){e.SurveyPointAnswered="survicate.questionAnswered"}(s=t.SmartlookEvents||(t.SmartlookEvents={}));t.default=new class{constructor(){this.isEnabled=!1}init(){this.isEnabled=!0}pushEvent(e,t){if(window.smartlook&&this.isEnabled&&e===s.SurveyPointAnswered){const e=t;if("function"!=typeof window.smartlook)return;window.smartlook("track",s.SurveyPointAnswered,{answer:e.textResponse,question:e.question,response_uuid:t.response_uuid,"survey.id":t.survey.id,"survey.name":e.surveyName})}}}},119:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WoopraEvents=void 0;const r=s(609);var i;!function(e){e.SurveySeen="survicate survey shown",e.SurveyPointAnswered="survicate survey answered"}(i=t.WoopraEvents||(t.WoopraEvents={}));class n{constructor(){this.isEnabledPerWorkspace=!1}init(){this.isEnabledPerWorkspace=!0}pushEvent(e,t){if(window.woopra&&this.isEnabledPerWorkspace){if(e===i.SurveyPointAnswered){if("contactForm"in t)return void n.identify(t.contactForm);n.trackAnswered(t)}e===i.SurveySeen&&n.trackSurveySeen(t.surveyName)}}static identify(e){window.woopra.identify(e).push()}static trackAnswered(e){e.pointType!==r.SurveyPointType.question?window.woopra.track(i.SurveyPointAnswered,{answer:e.textResponse,question:e.question,survey:e.surveyName,type:e.pointType,user_tag:e.user_tag}):window.woopra.track(i.SurveyPointAnswered,{answer:e.textResponse,answer_type:e.answer_type,question:e.question,survey:e.surveyName,type:e.pointType})}static trackSurveySeen(e){window.woopra.track(i.SurveySeen,{survey:e})}}t.default=new n},693:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getAPIToAnsweredIntegrations=void 0;const r=s(124);t.getAPIToAnsweredIntegrations=({fullstory:e,sessionCam:t,smartlook:s})=>{const i={};let n=!1;if(e){const e=window.FS&&"function"==typeof window.FS.getCurrentSessionURL&&window.FS.getCurrentSessionURL(!0)||void 0;e&&(i[r.AnsweredIntegration.fullstory]=e,n=!0)}if(t){const e=window.sessionCamRecorder&&"function"==typeof window.sessionCamRecorder.sessionId&&window.sessionCamRecorder.sessionId()||void 0;e&&(i[r.AnsweredIntegration.sessionCam]=e,n=!0)}if(s){const e=null===(o=window.smartlook)||void 0===o?void 0:o.playUrl;e&&(i[r.AnsweredIntegration.smartlook]=e,n=!0)}var o;return n?i:null}},983:function(e,t,s){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.setIdentitiesFromURL=t.isIdentityProvider=void 0;const i=s(422),n=s(470),o=r(s(459));t.isIdentityProvider=e=>i.IdentityProvidersArray.includes(e);t.setIdentitiesFromURL=(e,s,r)=>{const a=e[n.ReservedParams.p];if(!a||!(0,t.isIdentityProvider)(a))return;const c=(e=>{const t={};return Object.keys(e).filter((t=>{const s=!(t in n.ReservedParams)||t===n.ReservedParams.uid,r=!e[t].match(/{{.*}}/);return s&&r})).forEach((s=>{t[s]=e[s]})),t})(e);Object.keys(c).forEach((e=>{if(e===n.ReservedParams.uid&&a===i.Providers.Intercom)return void r.action(o.default)({identityProvider:i.Providers.Intercom,key:"user_id",value:c[e]},r);if(e===i.USER_ID_TRAIT||e===n.ReservedParams.uid)return void r.action(o.default)({identityProvider:i.Providers.Api,key:"id",value:c[e]},r);const t=(s.find((e=>e.provider===a))||{whitelist:[]}).whitelist||[];(i.PROVIDERS_TRAITS_WHITELIST[a]||[]).concat(t).includes(e)&&r.action(o.default)({identityProvider:a,key:e,value:c[e]},r)}))}},54:function(e,t,s){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.setIdentityFromCookie=void 0;const i=r(s(646)),n=s(481),o=r(s(459)),a={[n.IntegrationNames.Hubspot]:"hubspotutk",[n.IntegrationNames.Marketo]:"_mkto_trk"},c={[n.IntegrationNames.Pardot]:/^visitor_id[0-9]+$/g},l={[n.IntegrationNames.Hubspot]:"cookie",[n.IntegrationNames.Marketo]:"cookie",[n.IntegrationNames.Pardot]:"visitor_id"};t.setIdentityFromCookie=(e,t)=>{e!==n.IntegrationNames.Pardot?((e,t)=>{const s=i.default.get(a[e]);s&&t.action(o.default)({identityProvider:e,key:l[e],value:s},t)})(e,t):((e,t)=>{Object.keys(i.default.get()).forEach((s=>{c[e].test(s)&&t.action(o.default)({identityProvider:e,key:l[e],value:i.default.get(s)},t)}))})(e,t)}},280:(e,t,s)=>{"use strict";t.Y=void 0;const r=s(470);t.Y=e=>{const t={};return Object.keys(e).forEach((s=>{Object.values(r.ReservedParams).includes(s)||(t[s]=e[s])})),t}},658:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=s(761);t.default=({storageService:e,isKioskMode:t},s,i)=>{i.setState({visitor:s}),t||null==e||e.put({key:r.StorageTableKeys.visitor,table:r.StorageTables.all},s)}},337:function(e,t,s){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.setIdentitiesFromWindow=void 0;const i=s(422),n=s(481),o=r(s(459));t.setIdentitiesFromWindow=(e,t)=>{var s,r,a,c,l;const u=(null===(s=window.amplitude)||void 0===s?void 0:s.getInstance)&&(null===(a=null===(r=window.amplitude)||void 0===r?void 0:r.getInstance().options)||void 0===a?void 0:a.userId),v=(null===(c=window.mixpanel)||void 0===c?void 0:c.get_distinct_id)&&(null===(l=window.mixpanel)||void 0===l?void 0:l.get_distinct_id()),_=e.map((({provider:e,enabled:t})=>{if(e&&t)return e}));_.includes(n.IntegrationNames.Amplitude)&&u&&t.action(o.default)({identityProvider:i.Providers.Amplitude,key:"user_id",value:u},t),_.includes(n.IntegrationNames.Mixpanel)&&v&&t.action(o.default)({identityProvider:i.Providers.Mixpanel,key:"distinct_id",value:v},t)}},459:function(e,t,s){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(s(658));t.default=(e,{identityProvider:t,key:s,value:r},n)=>{const o=Object.assign({},e.visitor),a=Object.assign({},o.identities);a[t]=Object.assign(Object.assign({},a[t]),{[s]:r}),o.identities=a,n.action(i.default)(o,n)}},859:function(e,t,s){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.setIdentitiesFromSVA=void 0;const i=s(422),n=r(s(459)),o=s(983);t.setIdentitiesFromSVA=(e,t={},s={},r)=>{Object.keys(t).forEach((s=>{if(!(0,o.isIdentityProvider)(s))return;const a=t[s];Object.keys(a).forEach((t=>{const o=(e.find((e=>e.provider===s))||{whitelist:[]}).whitelist||[];(i.PROVIDERS_TRAITS_WHITELIST[s]||[]).concat(o).includes(t)&&r.action(n.default)({identityProvider:s,key:t,value:a[t]},r)}))})),s[i.USER_ID_TRAIT]&&r.action(n.default)({identityProvider:i.Providers.Api,key:"id",value:s[i.USER_ID_TRAIT]},r)}},605:function(e,t,s){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=s(481),n=r(s(783)),o=r(s(84)),a=r(s(104)),c=r(s(667)),l=r(s(185)),u=r(s(119)),v=s(693),_=s(54),d=s(337),p=s(859),m=s(983);t.default=class{constructor(){this.integrations=[]}init(e=[],t,s){this.integrations=e;const r=window._sva&&window._sva.integrations||{},v=window._sva&&window._sva.traits||{};(0,m.setIdentitiesFromURL)(t,this.integrations,s),(0,p.setIdentitiesFromSVA)(this.integrations,r,v,s),(0,d.setIdentitiesFromWindow)(this.integrations,s),this.integrations.forEach((e=>{if(e.enabled)switch(e.provider){case i.IntegrationNames.Marketo:case i.IntegrationNames.Hubspot:case i.IntegrationNames.Pardot:setTimeout((()=>{(0,_.setIdentityFromCookie)(e.provider,s)}),5e3);break;case i.IntegrationNames.GoogleAnalytics:a.default.init(e);break;case i.IntegrationNames.Fullstory:o.default.init();break;case i.IntegrationNames.Segment:c.default.init();break;case i.IntegrationNames.Woopra:u.default.init();break;case i.IntegrationNames.ABTesting:n.default.init(e);break;case i.IntegrationNames.Smartlook:l.default.init()}}))}getAPIToAnsweredJsonIntegrations(){const e=this.integrations.find((e=>e.provider===i.IntegrationNames.Fullstory)),t=this.integrations.find((e=>e.provider===i.IntegrationNames.SessionCam)),s=this.integrations.find((e=>e.provider===i.IntegrationNames.Smartlook));return(0,v.getAPIToAnsweredIntegrations)({fullstory:!(!e||!e.enabled),sessionCam:!(!t||!t.enabled),smartlook:!(!s||!s.enabled)})}}},124:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AnsweredIntegration=void 0,function(e){e.fullstory="fullstory_url",e.sessionCam="sessioncam_id",e.smartlook="smartlook_url"}(t.AnsweredIntegration||(t.AnsweredIntegration={}))},422:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.USER_ID_TRAIT=t.PROVIDERS_TRAITS_WHITELIST=t.IdentityProvidersArray=t.Providers=void 0;const r=s(481);var i;!function(e){e.Intercom="intercom",e.Api="api",e.Salesforce="salesforce",e.CustomerIO="customerio",e.Vero="vero",e.Boomtrain="boomtrain",e.Amplitude="amplitude",e.Mixpanel="mixpanel"}(i=t.Providers||(t.Providers={})),t.IdentityProvidersArray=[i.Intercom,i.Api,i.Salesforce,i.CustomerIO,i.Vero,i.Boomtrain,r.IntegrationNames.Marketo,r.IntegrationNames.Hubspot,r.IntegrationNames.Pardot,r.IntegrationNames.Zendesk],t.PROVIDERS_TRAITS_WHITELIST={api:["id"],intercom:["user_id"],marketo:["lead_id"],pardot:["prospect_id"],salesforce:["contact_id","lead_id","account_id","case_id","case_number","event_id","opportunity_id","contract_id","event_name","event_location"],zendesk:["t_id"]},t.USER_ID_TRAIT="user_id"},800:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FullStoryEvents=void 0,function(e){e.SurveyPointAnswered="Survicate question answered"}(t.FullStoryEvents||(t.FullStoryEvents={}))},911:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EventNamesMap=t.IntegrationEventTypes=void 0;const r=s(800),i=s(481),n=s(159),o=s(270),a=s(148);var c;!function(e){e.SurveyMinimized="SurveyMinimized",e.SurveyClosed="SurveyClosed",e.SurveyMaximized="SurveyMaximized",e.SurveySeen="SurveySeen",e.SurveyPointAnswered="SurveyPointAnswered",e.SurveyPointSeen="SurveyPointSeen"}(c=t.IntegrationEventTypes||(t.IntegrationEventTypes={})),t.EventNamesMap={[i.IntegrationNames.Woopra]:{[c.SurveySeen]:a.WoopraEvents.SurveySeen,[c.SurveyPointAnswered]:a.WoopraEvents.SurveyPointAnswered},[i.IntegrationNames.Segment]:{[c.SurveySeen]:n.SegmentEvents.SurveySeen,[c.SurveyPointAnswered]:n.SegmentEvents.SurveyPointAnswered},[i.IntegrationNames.Fullstory]:{[c.SurveyPointAnswered]:r.FullStoryEvents.SurveyPointAnswered},[i.IntegrationNames.Smartlook]:{[c.SurveyPointAnswered]:o.SmartlookEvents.SurveyPointAnswered}}},481:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IntegrationNames=void 0,function(e){e.Marketo="marketo",e.Hubspot="hubspot",e.Pardot="pardot",e.GoogleAnalytics="google_analytics",e.Segment="segment",e.Woopra="woopra",e.SessionCam="sessioncam",e.Fullstory="fullstory",e.ABTesting="ab_testing",e.Optimizely="optimizely",e.Intercom="intercom20",e.Zendesk="zendesk",e.Mixpanel="mixpanel",e.Amplitude="amplitude",e.Smartlook="smartlook"}(t.IntegrationNames||(t.IntegrationNames={}))},159:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SegmentEvents=void 0,function(e){e.SurveySeen="survicate_survey_shown",e.SurveyPointAnswered="survicate_survey_answered"}(t.SegmentEvents||(t.SegmentEvents={}))},270:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SmartlookEvents=void 0,function(e){e.SurveyPointAnswered="survicate.questionAnswered"}(t.SmartlookEvents||(t.SmartlookEvents={}))},148:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WoopraEvents=void 0,function(e){e.SurveySeen="survicate survey shown",e.SurveyPointAnswered="survicate survey answered"}(t.WoopraEvents||(t.WoopraEvents={}))},761:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StorageTableKeys=t.StorageTables=void 0,function(e){e.requests="requests",e.status="status",e.all="all"}(t.StorageTables||(t.StorageTables={})),function(e){e.visitor="visitor",e.requestHandler="requestHandler"}(t.StorageTableKeys||(t.StorageTableKeys={}))},609:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SurveyPointType=void 0,function(e){e.question="SurveyQuestion",e.nps="SurveyNps",e.form="SurveyForm",e.cta="SurveyCta"}(t.SurveyPointType||(t.SurveyPointType={}))},470:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ReservedParams=void 0,function(e){e.aid="aid",e.multiple_responses="multiple_responses",e.sid="sid",e.uid="uid",e.p="p",e.autofocus="autofocus"}(t.ReservedParams||(t.ReservedParams={}))},206:function(e){e.exports=function(e){var t={};function s(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,s),i.l=!0,i.exports}return s.m=e,s.c=t,s.d=function(e,t,r){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)s.d(r,i,function(t){return e[t]}.bind(null,i));return r},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="",s(s.s=90)}({17:function(e,t,s){"use strict";t.__esModule=!0,t.default=void 0;var r=s(18),i=function(){function e(){}return e.getFirstMatch=function(e,t){var s=t.match(e);return s&&s.length>0&&s[1]||""},e.getSecondMatch=function(e,t){var s=t.match(e);return s&&s.length>1&&s[2]||""},e.matchAndReturnConst=function(e,t,s){if(e.test(t))return s},e.getWindowsVersionName=function(e){switch(e){case"NT":return"NT";case"XP":case"NT 5.1":return"XP";case"NT 5.0":return"2000";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}},e.getMacOSVersionName=function(e){var t=e.split(".").splice(0,2).map((function(e){return parseInt(e,10)||0}));if(t.push(0),10===t[0])switch(t[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}},e.getAndroidVersionName=function(e){var t=e.split(".").splice(0,2).map((function(e){return parseInt(e,10)||0}));if(t.push(0),!(1===t[0]&&t[1]<5))return 1===t[0]&&t[1]<6?"Cupcake":1===t[0]&&t[1]>=6?"Donut":2===t[0]&&t[1]<2?"Eclair":2===t[0]&&2===t[1]?"Froyo":2===t[0]&&t[1]>2?"Gingerbread":3===t[0]?"Honeycomb":4===t[0]&&t[1]<1?"Ice Cream Sandwich":4===t[0]&&t[1]<4?"Jelly Bean":4===t[0]&&t[1]>=4?"KitKat":5===t[0]?"Lollipop":6===t[0]?"Marshmallow":7===t[0]?"Nougat":8===t[0]?"Oreo":9===t[0]?"Pie":void 0},e.getVersionPrecision=function(e){return e.split(".").length},e.compareVersions=function(t,s,r){void 0===r&&(r=!1);var i=e.getVersionPrecision(t),n=e.getVersionPrecision(s),o=Math.max(i,n),a=0,c=e.map([t,s],(function(t){var s=o-e.getVersionPrecision(t),r=t+new Array(s+1).join(".0");return e.map(r.split("."),(function(e){return new Array(20-e.length).join("0")+e})).reverse()}));for(r&&(a=o-Math.min(i,n)),o-=1;o>=a;){if(c[0][o]>c[1][o])return 1;if(c[0][o]===c[1][o]){if(o===a)return 0;o-=1}else if(c[0][o]<c[1][o])return-1}},e.map=function(e,t){var s,r=[];if(Array.prototype.map)return Array.prototype.map.call(e,t);for(s=0;s<e.length;s+=1)r.push(t(e[s]));return r},e.find=function(e,t){var s,r;if(Array.prototype.find)return Array.prototype.find.call(e,t);for(s=0,r=e.length;s<r;s+=1){var i=e[s];if(t(i,s))return i}},e.assign=function(e){for(var t,s,r=e,i=arguments.length,n=new Array(i>1?i-1:0),o=1;o<i;o++)n[o-1]=arguments[o];if(Object.assign)return Object.assign.apply(Object,[e].concat(n));var a=function(){var e=n[t];"object"==typeof e&&null!==e&&Object.keys(e).forEach((function(t){r[t]=e[t]}))};for(t=0,s=n.length;t<s;t+=1)a();return e},e.getBrowserAlias=function(e){return r.BROWSER_ALIASES_MAP[e]},e.getBrowserTypeByAlias=function(e){return r.BROWSER_MAP[e]||""},e}();t.default=i,e.exports=t.default},18:function(e,t,s){"use strict";t.__esModule=!0,t.ENGINE_MAP=t.OS_MAP=t.PLATFORMS_MAP=t.BROWSER_MAP=t.BROWSER_ALIASES_MAP=void 0,t.BROWSER_ALIASES_MAP={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},t.BROWSER_MAP={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},t.PLATFORMS_MAP={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},t.OS_MAP={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},t.ENGINE_MAP={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"}},90:function(e,t,s){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=s(91))&&r.__esModule?r:{default:r},n=s(18);function o(e,t){for(var s=0;s<t.length;s++){var r=t[s];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=function(){function e(){}var t,s,r;return e.getParser=function(e,t){if(void 0===t&&(t=!1),"string"!=typeof e)throw new Error("UserAgent should be a string");return new i.default(e,t)},e.parse=function(e){return new i.default(e).getResult()},t=e,r=[{key:"BROWSER_MAP",get:function(){return n.BROWSER_MAP}},{key:"ENGINE_MAP",get:function(){return n.ENGINE_MAP}},{key:"OS_MAP",get:function(){return n.OS_MAP}},{key:"PLATFORMS_MAP",get:function(){return n.PLATFORMS_MAP}}],(s=null)&&o(t.prototype,s),r&&o(t,r),e}();t.default=a,e.exports=t.default},91:function(e,t,s){"use strict";t.__esModule=!0,t.default=void 0;var r=c(s(92)),i=c(s(93)),n=c(s(94)),o=c(s(95)),a=c(s(17));function c(e){return e&&e.__esModule?e:{default:e}}var l=function(){function e(e,t){if(void 0===t&&(t=!1),null==e||""===e)throw new Error("UserAgent parameter can't be empty");this._ua=e,this.parsedResult={},!0!==t&&this.parse()}var t=e.prototype;return t.getUA=function(){return this._ua},t.test=function(e){return e.test(this._ua)},t.parseBrowser=function(){var e=this;this.parsedResult.browser={};var t=a.default.find(r.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.browser=t.describe(this.getUA())),this.parsedResult.browser},t.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},t.getBrowserName=function(e){return e?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""},t.getBrowserVersion=function(){return this.getBrowser().version},t.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},t.parseOS=function(){var e=this;this.parsedResult.os={};var t=a.default.find(i.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.os=t.describe(this.getUA())),this.parsedResult.os},t.getOSName=function(e){var t=this.getOS().name;return e?String(t).toLowerCase()||"":t||""},t.getOSVersion=function(){return this.getOS().version},t.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()},t.getPlatformType=function(e){void 0===e&&(e=!1);var t=this.getPlatform().type;return e?String(t).toLowerCase()||"":t||""},t.parsePlatform=function(){var e=this;this.parsedResult.platform={};var t=a.default.find(n.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.platform=t.describe(this.getUA())),this.parsedResult.platform},t.getEngine=function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()},t.getEngineName=function(e){return e?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""},t.parseEngine=function(){var e=this;this.parsedResult.engine={};var t=a.default.find(o.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.engine=t.describe(this.getUA())),this.parsedResult.engine},t.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this},t.getResult=function(){return a.default.assign({},this.parsedResult)},t.satisfies=function(e){var t=this,s={},r=0,i={},n=0;if(Object.keys(e).forEach((function(t){var o=e[t];"string"==typeof o?(i[t]=o,n+=1):"object"==typeof o&&(s[t]=o,r+=1)})),r>0){var o=Object.keys(s),c=a.default.find(o,(function(e){return t.isOS(e)}));if(c){var l=this.satisfies(s[c]);if(void 0!==l)return l}var u=a.default.find(o,(function(e){return t.isPlatform(e)}));if(u){var v=this.satisfies(s[u]);if(void 0!==v)return v}}if(n>0){var _=Object.keys(i),d=a.default.find(_,(function(e){return t.isBrowser(e,!0)}));if(void 0!==d)return this.compareVersion(i[d])}},t.isBrowser=function(e,t){void 0===t&&(t=!1);var s=this.getBrowserName().toLowerCase(),r=e.toLowerCase(),i=a.default.getBrowserTypeByAlias(r);return t&&i&&(r=i.toLowerCase()),r===s},t.compareVersion=function(e){var t=[0],s=e,r=!1,i=this.getBrowserVersion();if("string"==typeof i)return">"===e[0]||"<"===e[0]?(s=e.substr(1),"="===e[1]?(r=!0,s=e.substr(2)):t=[],">"===e[0]?t.push(1):t.push(-1)):"="===e[0]?s=e.substr(1):"~"===e[0]&&(r=!0,s=e.substr(1)),t.indexOf(a.default.compareVersions(i,s,r))>-1},t.isOS=function(e){return this.getOSName(!0)===String(e).toLowerCase()},t.isPlatform=function(e){return this.getPlatformType(!0)===String(e).toLowerCase()},t.isEngine=function(e){return this.getEngineName(!0)===String(e).toLowerCase()},t.is=function(e,t){return void 0===t&&(t=!1),this.isBrowser(e,t)||this.isOS(e)||this.isPlatform(e)},t.some=function(e){var t=this;return void 0===e&&(e=[]),e.some((function(e){return t.is(e)}))},e}();t.default=l,e.exports=t.default},92:function(e,t,s){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=s(17))&&r.__esModule?r:{default:r},n=/version\/(\d+(\.?_?\d+)+)/i,o=[{test:[/googlebot/i],describe:function(e){var t={name:"Googlebot"},s=i.default.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,e)||i.default.getFirstMatch(n,e);return s&&(t.version=s),t}},{test:[/opera/i],describe:function(e){var t={name:"Opera"},s=i.default.getFirstMatch(n,e)||i.default.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,e);return s&&(t.version=s),t}},{test:[/opr\/|opios/i],describe:function(e){var t={name:"Opera"},s=i.default.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,e)||i.default.getFirstMatch(n,e);return s&&(t.version=s),t}},{test:[/SamsungBrowser/i],describe:function(e){var t={name:"Samsung Internet for Android"},s=i.default.getFirstMatch(n,e)||i.default.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return s&&(t.version=s),t}},{test:[/Whale/i],describe:function(e){var t={name:"NAVER Whale Browser"},s=i.default.getFirstMatch(n,e)||i.default.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,e);return s&&(t.version=s),t}},{test:[/MZBrowser/i],describe:function(e){var t={name:"MZ Browser"},s=i.default.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,e)||i.default.getFirstMatch(n,e);return s&&(t.version=s),t}},{test:[/focus/i],describe:function(e){var t={name:"Focus"},s=i.default.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,e)||i.default.getFirstMatch(n,e);return s&&(t.version=s),t}},{test:[/swing/i],describe:function(e){var t={name:"Swing"},s=i.default.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,e)||i.default.getFirstMatch(n,e);return s&&(t.version=s),t}},{test:[/coast/i],describe:function(e){var t={name:"Opera Coast"},s=i.default.getFirstMatch(n,e)||i.default.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,e);return s&&(t.version=s),t}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe:function(e){var t={name:"Opera Touch"},s=i.default.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(n,e);return s&&(t.version=s),t}},{test:[/yabrowser/i],describe:function(e){var t={name:"Yandex Browser"},s=i.default.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(n,e);return s&&(t.version=s),t}},{test:[/ucbrowser/i],describe:function(e){var t={name:"UC Browser"},s=i.default.getFirstMatch(n,e)||i.default.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return s&&(t.version=s),t}},{test:[/Maxthon|mxios/i],describe:function(e){var t={name:"Maxthon"},s=i.default.getFirstMatch(n,e)||i.default.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,e);return s&&(t.version=s),t}},{test:[/epiphany/i],describe:function(e){var t={name:"Epiphany"},s=i.default.getFirstMatch(n,e)||i.default.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,e);return s&&(t.version=s),t}},{test:[/puffin/i],describe:function(e){var t={name:"Puffin"},s=i.default.getFirstMatch(n,e)||i.default.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,e);return s&&(t.version=s),t}},{test:[/sleipnir/i],describe:function(e){var t={name:"Sleipnir"},s=i.default.getFirstMatch(n,e)||i.default.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,e);return s&&(t.version=s),t}},{test:[/k-meleon/i],describe:function(e){var t={name:"K-Meleon"},s=i.default.getFirstMatch(n,e)||i.default.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,e);return s&&(t.version=s),t}},{test:[/micromessenger/i],describe:function(e){var t={name:"WeChat"},s=i.default.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(n,e);return s&&(t.version=s),t}},{test:[/qqbrowser/i],describe:function(e){var t={name:/qqbrowserlite/i.test(e)?"QQ Browser Lite":"QQ Browser"},s=i.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(n,e);return s&&(t.version=s),t}},{test:[/msie|trident/i],describe:function(e){var t={name:"Internet Explorer"},s=i.default.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,e);return s&&(t.version=s),t}},{test:[/\sedg\//i],describe:function(e){var t={name:"Microsoft Edge"},s=i.default.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,e);return s&&(t.version=s),t}},{test:[/edg([ea]|ios)/i],describe:function(e){var t={name:"Microsoft Edge"},s=i.default.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,e);return s&&(t.version=s),t}},{test:[/vivaldi/i],describe:function(e){var t={name:"Vivaldi"},s=i.default.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,e);return s&&(t.version=s),t}},{test:[/seamonkey/i],describe:function(e){var t={name:"SeaMonkey"},s=i.default.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,e);return s&&(t.version=s),t}},{test:[/sailfish/i],describe:function(e){var t={name:"Sailfish"},s=i.default.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,e);return s&&(t.version=s),t}},{test:[/silk/i],describe:function(e){var t={name:"Amazon Silk"},s=i.default.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,e);return s&&(t.version=s),t}},{test:[/phantom/i],describe:function(e){var t={name:"PhantomJS"},s=i.default.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,e);return s&&(t.version=s),t}},{test:[/slimerjs/i],describe:function(e){var t={name:"SlimerJS"},s=i.default.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,e);return s&&(t.version=s),t}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t={name:"BlackBerry"},s=i.default.getFirstMatch(n,e)||i.default.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,e);return s&&(t.version=s),t}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t={name:"WebOS Browser"},s=i.default.getFirstMatch(n,e)||i.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,e);return s&&(t.version=s),t}},{test:[/bada/i],describe:function(e){var t={name:"Bada"},s=i.default.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,e);return s&&(t.version=s),t}},{test:[/tizen/i],describe:function(e){var t={name:"Tizen"},s=i.default.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(n,e);return s&&(t.version=s),t}},{test:[/qupzilla/i],describe:function(e){var t={name:"QupZilla"},s=i.default.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(n,e);return s&&(t.version=s),t}},{test:[/firefox|iceweasel|fxios/i],describe:function(e){var t={name:"Firefox"},s=i.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e);return s&&(t.version=s),t}},{test:[/electron/i],describe:function(e){var t={name:"Electron"},s=i.default.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,e);return s&&(t.version=s),t}},{test:[/MiuiBrowser/i],describe:function(e){var t={name:"Miui"},s=i.default.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return s&&(t.version=s),t}},{test:[/chromium/i],describe:function(e){var t={name:"Chromium"},s=i.default.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(n,e);return s&&(t.version=s),t}},{test:[/chrome|crios|crmo/i],describe:function(e){var t={name:"Chrome"},s=i.default.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e);return s&&(t.version=s),t}},{test:[/GSA/i],describe:function(e){var t={name:"Google Search"},s=i.default.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,e);return s&&(t.version=s),t}},{test:function(e){var t=!e.test(/like android/i),s=e.test(/android/i);return t&&s},describe:function(e){var t={name:"Android Browser"},s=i.default.getFirstMatch(n,e);return s&&(t.version=s),t}},{test:[/playstation 4/i],describe:function(e){var t={name:"PlayStation 4"},s=i.default.getFirstMatch(n,e);return s&&(t.version=s),t}},{test:[/safari|applewebkit/i],describe:function(e){var t={name:"Safari"},s=i.default.getFirstMatch(n,e);return s&&(t.version=s),t}},{test:[/.*/i],describe:function(e){var t=-1!==e.search("\\(")?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:i.default.getFirstMatch(t,e),version:i.default.getSecondMatch(t,e)}}}];t.default=o,e.exports=t.default},93:function(e,t,s){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=s(17))&&r.__esModule?r:{default:r},n=s(18),o=[{test:[/Roku\/DVP/],describe:function(e){var t=i.default.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,e);return{name:n.OS_MAP.Roku,version:t}}},{test:[/windows phone/i],describe:function(e){var t=i.default.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,e);return{name:n.OS_MAP.WindowsPhone,version:t}}},{test:[/windows /i],describe:function(e){var t=i.default.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,e),s=i.default.getWindowsVersionName(t);return{name:n.OS_MAP.Windows,version:t,versionName:s}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(e){var t={name:n.OS_MAP.iOS},s=i.default.getSecondMatch(/(Version\/)(\d[\d.]+)/,e);return s&&(t.version=s),t}},{test:[/macintosh/i],describe:function(e){var t=i.default.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,e).replace(/[_\s]/g,"."),s=i.default.getMacOSVersionName(t),r={name:n.OS_MAP.MacOS,version:t};return s&&(r.versionName=s),r}},{test:[/(ipod|iphone|ipad)/i],describe:function(e){var t=i.default.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,e).replace(/[_\s]/g,".");return{name:n.OS_MAP.iOS,version:t}}},{test:function(e){var t=!e.test(/like android/i),s=e.test(/android/i);return t&&s},describe:function(e){var t=i.default.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,e),s=i.default.getAndroidVersionName(t),r={name:n.OS_MAP.Android,version:t};return s&&(r.versionName=s),r}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t=i.default.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,e),s={name:n.OS_MAP.WebOS};return t&&t.length&&(s.version=t),s}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t=i.default.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,e)||i.default.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,e)||i.default.getFirstMatch(/\bbb(\d+)/i,e);return{name:n.OS_MAP.BlackBerry,version:t}}},{test:[/bada/i],describe:function(e){var t=i.default.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,e);return{name:n.OS_MAP.Bada,version:t}}},{test:[/tizen/i],describe:function(e){var t=i.default.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,e);return{name:n.OS_MAP.Tizen,version:t}}},{test:[/linux/i],describe:function(){return{name:n.OS_MAP.Linux}}},{test:[/CrOS/],describe:function(){return{name:n.OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe:function(e){var t=i.default.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,e);return{name:n.OS_MAP.PlayStation4,version:t}}}];t.default=o,e.exports=t.default},94:function(e,t,s){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=s(17))&&r.__esModule?r:{default:r},n=s(18),o=[{test:[/googlebot/i],describe:function(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe:function(e){var t=i.default.getFirstMatch(/(can-l01)/i,e)&&"Nova",s={type:n.PLATFORMS_MAP.mobile,vendor:"Huawei"};return t&&(s.model=t),s}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:function(){return{type:n.PLATFORMS_MAP.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe:function(){return{type:n.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(){return{type:n.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe:function(){return{type:n.PLATFORMS_MAP.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe:function(){return{type:n.PLATFORMS_MAP.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:n.PLATFORMS_MAP.tablet}}},{test:function(e){var t=e.test(/ipod|iphone/i),s=e.test(/like (ipod|iphone)/i);return t&&!s},describe:function(e){var t=i.default.getFirstMatch(/(ipod|iphone)/i,e);return{type:n.PLATFORMS_MAP.mobile,vendor:"Apple",model:t}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:n.PLATFORMS_MAP.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe:function(){return{type:n.PLATFORMS_MAP.mobile}}},{test:function(e){return"blackberry"===e.getBrowserName(!0)},describe:function(){return{type:n.PLATFORMS_MAP.mobile,vendor:"BlackBerry"}}},{test:function(e){return"bada"===e.getBrowserName(!0)},describe:function(){return{type:n.PLATFORMS_MAP.mobile}}},{test:function(e){return"windows phone"===e.getBrowserName()},describe:function(){return{type:n.PLATFORMS_MAP.mobile,vendor:"Microsoft"}}},{test:function(e){var t=Number(String(e.getOSVersion()).split(".")[0]);return"android"===e.getOSName(!0)&&t>=3},describe:function(){return{type:n.PLATFORMS_MAP.tablet}}},{test:function(e){return"android"===e.getOSName(!0)},describe:function(){return{type:n.PLATFORMS_MAP.mobile}}},{test:function(e){return"macos"===e.getOSName(!0)},describe:function(){return{type:n.PLATFORMS_MAP.desktop,vendor:"Apple"}}},{test:function(e){return"windows"===e.getOSName(!0)},describe:function(){return{type:n.PLATFORMS_MAP.desktop}}},{test:function(e){return"linux"===e.getOSName(!0)},describe:function(){return{type:n.PLATFORMS_MAP.desktop}}},{test:function(e){return"playstation 4"===e.getOSName(!0)},describe:function(){return{type:n.PLATFORMS_MAP.tv}}},{test:function(e){return"roku"===e.getOSName(!0)},describe:function(){return{type:n.PLATFORMS_MAP.tv}}}];t.default=o,e.exports=t.default},95:function(e,t,s){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=s(17))&&r.__esModule?r:{default:r},n=s(18),o=[{test:function(e){return"microsoft edge"===e.getBrowserName(!0)},describe:function(e){if(/\sedg\//i.test(e))return{name:n.ENGINE_MAP.Blink};var t=i.default.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,e);return{name:n.ENGINE_MAP.EdgeHTML,version:t}}},{test:[/trident/i],describe:function(e){var t={name:n.ENGINE_MAP.Trident},s=i.default.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,e);return s&&(t.version=s),t}},{test:function(e){return e.test(/presto/i)},describe:function(e){var t={name:n.ENGINE_MAP.Presto},s=i.default.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,e);return s&&(t.version=s),t}},{test:function(e){var t=e.test(/gecko/i),s=e.test(/like gecko/i);return t&&!s},describe:function(e){var t={name:n.ENGINE_MAP.Gecko},s=i.default.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,e);return s&&(t.version=s),t}},{test:[/(apple)?webkit\/537\.36/i],describe:function(){return{name:n.ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe:function(e){var t={name:n.ENGINE_MAP.WebKit},s=i.default.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,e);return s&&(t.version=s),t}}];t.default=o,e.exports=t.default}})},901:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});var r=s(81),i=s.n(r),n=s(645),o=s.n(n)()(i());o.push([e.id,'#survicate-box{/*! normalize.css v8.0.0 | MIT License | github.com/necolas/normalize.css */}@keyframes shrink-bounce{0%{transform:scale(1)}33%{transform:scale(0.5)}100%{transform:scale(1)}}#survicate-box h1,#survicate-box h2,#survicate-box h3,#survicate-box h4{color:#29292a;font-weight:400;margin:0 0 16px;padding:0}#survicate-box h1,#survicate-box .h1{font-size:24px}#survicate-box h2,#survicate-box .h2{font-size:18px}#survicate-box h3,#survicate-box .h3{font-size:16px}#survicate-box h4,#survicate-box .h4{font-size:14px}#survicate-box .g-row{display:flex;flex-direction:row;box-sizing:border-box;margin-right:-16px;margin-left:-16px;flex-wrap:wrap}#survicate-box div[class*=g-col]{box-sizing:border-box;padding-right:16px;padding-left:16px}#survicate-box .g-col{flex-grow:1;flex-basis:0}#survicate-box .g-col-4{max-width:33.3333333333%;flex-basis:33.3333333333%}#survicate-box html{line-height:1.15;-webkit-text-size-adjust:100%}#survicate-box body{margin:0}#survicate-box h1{font-size:2em;margin:.67em 0}#survicate-box hr{box-sizing:content-box;height:0;overflow:visible}#survicate-box pre{font-family:monospace,monospace;font-size:1em}#survicate-box a{background-color:rgba(0,0,0,0)}#survicate-box abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}#survicate-box b,#survicate-box strong{font-weight:bolder}#survicate-box code,#survicate-box kbd,#survicate-box samp{font-family:monospace,monospace;font-size:1em}#survicate-box small{font-size:80%}#survicate-box sub,#survicate-box sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}#survicate-box sub{bottom:-0.25em}#survicate-box sup{top:-0.5em}#survicate-box img{border-style:none}#survicate-box button,#survicate-box input,#survicate-box optgroup,#survicate-box select,#survicate-box textarea{font-family:inherit;font-size:100%;line-height:1.15;margin:0}#survicate-box button,#survicate-box input{overflow:visible}#survicate-box button,#survicate-box select{text-transform:none}#survicate-box button,#survicate-box [type=button],#survicate-box [type=reset],#survicate-box [type=submit]{-webkit-appearance:button}#survicate-box button::-moz-focus-inner,#survicate-box [type=button]::-moz-focus-inner,#survicate-box [type=reset]::-moz-focus-inner,#survicate-box [type=submit]::-moz-focus-inner{border-style:none;padding:0}#survicate-box button:-moz-focusring,#survicate-box [type=button]:-moz-focusring,#survicate-box [type=reset]:-moz-focusring,#survicate-box [type=submit]:-moz-focusring{outline:1px dotted ButtonText}#survicate-box fieldset{padding:.35em .75em .625em}#survicate-box legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}#survicate-box progress{vertical-align:baseline}#survicate-box textarea{overflow:auto}#survicate-box [type=checkbox],#survicate-box [type=radio]{box-sizing:border-box;padding:0}#survicate-box [type=number]::-webkit-inner-spin-button,#survicate-box [type=number]::-webkit-outer-spin-button{height:auto}#survicate-box [type=search]{-webkit-appearance:textfield;outline-offset:-2px}#survicate-box [type=search]::-webkit-search-decoration{-webkit-appearance:none}#survicate-box ::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}#survicate-box details{display:block}#survicate-box summary{display:list-item}#survicate-box template{display:none}#survicate-box [hidden]{display:none}#survicate-box .sv__answer-hint{font-size:12px;line-height:20px;margin-bottom:8px}#survicate-box .sv__answer-hint+.sv__choice-button-wrapper{margin-top:8px}#survicate-box .sv__multiple-choice .sv__answer-hint,#survicate-box .sv__single-choice .sv__answer-hint{font-size:14px}#survicate-box .sv__multiple-choice .sv__answer-hint--small,#survicate-box .sv__single-choice .sv__answer-hint--small{font-size:12px;margin-bottom:0}#survicate-box .sv__footer{display:inline-block;font-size:11px;padding-bottom:0;padding-left:5px;padding-right:5px;padding-top:0}#survicate-box .sv__footer__wrapper{display:flex}#survicate-box .sv__labels{display:flex;justify-content:space-between;margin-bottom:20px;margin-left:0;margin-right:0;margin-top:20px}#survicate-box .sv__labels .sv__label{font-size:12px}#survicate-box .sv__labels .sv__label--left{margin-right:5px}#survicate-box .sv__labels .sv__label--right{margin-left:5px}#survicate-box .sv__progress-bar{height:4px;left:0;position:absolute;top:0;width:100%}#survicate-box .sv__progress-bar>div{height:100%}#survicate-box .sv__position{margin:0 10px 0 20px}#survicate-box .sv__opened-in-new-tab{align-items:center;display:flex;flex-direction:column;height:100vh;justify-content:center;text-align:center}#survicate-box .sv__opened-in-new-tab p{font-size:21px}#survicate-box .sv__branded-footer,#survicate-box .sv__branded-footer__content{align-items:center;display:flex}#survicate-box .sv__branded-footer{justify-content:center}#survicate-box .sv__branded-footer::before{border-top:1px solid #c2cbcb;content:"";left:24px;position:absolute;transform:translateY(-39px);width:calc(100% - 48px)}#survicate-box .sv__branded-footer__content{transform:translateX(16px)}#survicate-box .sv__branded-footer__content .sv__branded-footer__text{color:#7f8c8d;font-size:12px}#survicate-box .sv__branded-footer__content .sv__survicate-wordmark{height:10px}#survicate-box .sv__survey-status-view--with-branding .sv__branded-footer{background-color:#fff;bottom:0;height:72px;overflow:hidden;position:fixed;width:100%;z-index:1}#survicate-box .sv__survey-status-view--with-branding .sv__branded-footer .sv__survicate-wordmark{transform:translateX(-8px)}#survicate-box .sv__survey-status-view--with-branding .sv__branded-footer .sv__arrow-forward{height:12px;transform:translate(-24px, 1px)}#survicate-box .sv__micro-theme.sv__survey--button_link .sv__branded-footer::before{border-top-style:hidden}#survicate-box .sv__micro-theme .sv__footer__wrapper.sv__branded-footer--with-border{background-color:#fff;border-bottom-left-radius:10px;border-bottom-right-radius:10px;padding-bottom:24px;padding-left:0;padding-right:0;padding-top:23px;transform:translateY(16px);width:100%}#survicate-box .sv__micro-theme .sv__footer__wrapper .sv__branded-footer{padding-bottom:8px;padding-top:8px;position:unset}#survicate-box .sv__micro-theme .sv__footer__wrapper .sv__branded-footer .sv__survicate-wordmark{transform:translate(-8px, 0px)}#survicate-box .sv__micro-theme .sv__footer__wrapper .sv__branded-footer .sv__arrow-forward{height:14px;transform:translate(-24px, 1px)}#survicate-box .sv__choice-button{overflow-wrap:break-word}#survicate-box .sv__date{border-color:rgba(0,0,0,0);border-radius:6px;border-style:solid;border-width:2px;display:block;justify-content:flex-start}#survicate-box .sv__date__input{background-color:rgba(0,0,0,0);border:none;font-weight:400}#survicate-box .sv__date__input:focus{border-color:rgba(0,0,0,0) !important}#survicate-box .sv__date.sv__invalid{background-color:#ffedea;border-color:#e33a22;border-style:solid;border-width:2px}#survicate-box .sv__date.sv__invalid .sv__date__input{background-color:rgba(0,0,0,0)}#survicate-box .sv__dropdown__wrapper{margin-bottom:0px;margin-left:auto;margin-right:auto;margin-top:25px;position:relative}#survicate-box .sv__dropdown__wrapper .sv__select input{cursor:text}#survicate-box .sv__dropdown__wrapper .sv__select input:focus{padding:14px}#survicate-box .sv__dropdown__wrapper .sv__select input,#survicate-box .sv__dropdown__wrapper .sv__select input:focus{padding-right:48px;text-overflow:ellipsis}#survicate-box .sv__dropdown__wrapper .sv__select .sv__caret svg{transform:scale(1.5)}#survicate-box .sv__dropdown__wrapper .sv__select--open .sv__caret svg{transform:scale(1.5) rotate(180deg) translateY(2px)}#survicate-box .sv__dropdown__wrapper .sv__select .sv__select-list{margin-top:8px}#survicate-box .sv__dropdown__wrapper .sv__validation{top:11px}@media(max-width: 1181px){#survicate-box .sv-box-child .sv__dropdown__wrapper .sv__validation{top:-26px}}#survicate-box .sv__nps .sv__buttons{display:flex;justify-content:space-between}#survicate-box .sv__nps--vertical{margin:auto;width:100%}#survicate-box .sv__rating{text-align:center}#survicate-box .sv__rating__wrapper{flex-direction:column;margin-bottom:0;margin-left:auto;margin-right:auto;margin-top:0}#survicate-box .sv__rating__wrapper .sv__buttons{flex-direction:row}#survicate-box .sv__rating__wrapper .sv__buttons .sv__button{background:none;margin-bottom:0;margin-top:0;padding:0}#survicate-box .sv__rating__wrapper .sv__buttons .sv__button:first-child{margin-left:0}#survicate-box .sv__rating__wrapper .sv__buttons .sv__button:last-child{margin-right:0}#survicate-box .sv__rating__wrapper .sv__buttons .sv__button--selected{border:none}#survicate-box .sv__rating__number{font-weight:400}#survicate-box .sv__smiley-scale{margin:auto;text-align:center}#survicate-box .sv__smiley-scale .sv__selected{transform:scale(1.2)}#survicate-box .sv__smiley-scale.sv__three-smileys{text-align:center}#survicate-box .sv__smiley-scale.sv__three-smileys .sv__smiley-scale__buttons .sv__smiley-scale__button:first-child{margin-right:22px}#survicate-box .sv__smiley-scale.sv__three-smileys .sv__smiley-scale__buttons .sv__smiley-scale__button:last-child{margin-left:22px}#survicate-box .sv__smiley-scale__wrapper{display:inline-flex;flex-direction:column;margin-bottom:0;margin-left:auto;margin-right:auto;margin-top:0}#survicate-box .sv__smiley-scale__buttons{display:flex;justify-content:center}#survicate-box .sv__smiley-scale__button{background:none;border-radius:50%;height:59px;margin-bottom:0;margin-left:20px;margin-right:20px;margin-top:0;padding:0;transition:transform 200ms ease-out;width:59px}#survicate-box .sv__smiley-scale__button:first-child{margin-left:0}#survicate-box .sv__smiley-scale__button:last-child{margin-right:0}#survicate-box .sv__smiley-scale__button:hover{transform:scale(1.1)}#survicate-box .sv__smiley-scale__icon-container{background-size:contain;background-repeat:no-repeat;display:block;height:100%;position:relative;width:100%}#survicate-box .sv__smiley-scale .sv__very-sad{background-image:url("https://surveys-static.survicate.com/images/emojiAngry.png")}#survicate-box .sv__smiley-scale .sv__sad{background-image:url("https://surveys-static.survicate.com/images/emojiSad.png")}#survicate-box .sv__smiley-scale .sv__neutral{background-image:url("https://surveys-static.survicate.com/images/emojiNeutral.png")}#survicate-box .sv__smiley-scale .sv__happy{background-image:url("https://surveys-static.survicate.com/images/emojiSmile.png")}#survicate-box .sv__smiley-scale .sv__very-happy{background-image:url("https://surveys-static.survicate.com/images/emojiHeartEyes.png")}#survicate-box .sv__buttons{display:flex;justify-content:center}#survicate-box .sv__buttons .sv__button{border-radius:6px}#survicate-box .sv__buttons--vertical.sv__buttons{display:flex;flex-direction:column-reverse;width:100%}#survicate-box .sv__buttons--vertical.sv__buttons .sv__button{overflow-wrap:break-word;border:none;font-weight:400;height:48px;margin-bottom:8px;margin-left:0;margin-right:0;margin-top:0;width:100%}#survicate-box .sv__buttons--vertical.sv__buttons .sv__button--selected,#survicate-box .sv__buttons--vertical.sv__buttons .sv__button:active{border-style:solid;border-width:2px;font-weight:600}#survicate-box .sv__buttons--vertical.sv__buttons .sv__button--selected svg,#survicate-box .sv__buttons--vertical.sv__buttons .sv__button:active svg{margin-bottom:0}#survicate-box .sv__buttons__answer{overflow-x:auto;overflow-wrap:break-word}#survicate-box .sv__checkbox{cursor:pointer;display:inline-block;height:20px;margin-right:10px;position:relative;width:20px}#survicate-box .sv__checkbox.sv__circle{border-radius:50%}#survicate-box .sv__checkbox.sv__circle .sv__tick{border-radius:100%;display:none;height:5px;left:6px;top:4px;width:5px}#survicate-box .sv__checkbox.sv__square{border-radius:4px;border-style:solid;border-width:2px;margin-top:1px;transition:background-color .3s cubic-bezier(0.4, 0, 0.23, 1)}#survicate-box .sv__checkbox.sv__square:after{border-radius:100%;content:"";height:36px;left:-10px;position:absolute;top:-10px;width:36px}#survicate-box .sv__checkbox.sv__square svg{border-radius:3px;height:100%;position:absolute;transform:scale(1.2);width:100%}#survicate-box .sv__checkbox .sv__tick{display:none;display:block;position:absolute}#survicate-box .sv__checkbox.sv__circle .sv__tick{background-color:#fff;display:none;height:8px;top:6px;width:8px}#survicate-box .sv__mobile-datepicker{background-color:#fff;border-radius:10px;box-shadow:0 0 20px rgba(0,0,0,.15);display:flex;height:240px;justify-content:center;margin-bottom:32px;margin-left:32px;margin-right:32px;margin-top:20px;overflow:hidden;padding:20px;position:relative;text-transform:capitalize;width:calc(100% - 64px)}#survicate-box .sv__mobile-datepicker--selected{border-bottom-color:#dee2e2;border-bottom-style:solid;border-bottom-width:1px;border-top-color:#dee2e2;border-top-style:solid;border-top-width:1px;position:absolute;top:50%;transform:translate(0, -50%);width:calc(100% - 40px)}#survicate-box .sv__mobile-datepicker .sv__roller{text-align:center;width:100px}#survicate-box .sv__mobile-datepicker .sv__roller__option{font-size:16px;line-height:40px;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}#survicate-box .sv__mobile-datepicker .sv__roller__wrapper{overflow:hidden;position:relative}#survicate-box .sv__mobile-datepicker .sv__roller__wrapper::before,#survicate-box .sv__mobile-datepicker .sv__roller__wrapper::after{background-repeat:no-repeat;bottom:0;content:"";cursor:grab;display:block;height:100%;position:absolute;top:0;width:100%;z-index:1}#survicate-box .sv__mobile-datepicker .sv__roller__wrapper::before{background:linear-gradient(180deg, rgba(255, 255, 255, 0.2), #ffffff);background-position:right 0 top 120px;background-repeat:no-repeat}#survicate-box .sv__mobile-datepicker .sv__roller__wrapper::after{background:linear-gradient(180deg, #ffffff, rgba(255, 255, 255, 0.2));background-position:right 0 bottom 120px;background-repeat:no-repeat}#survicate-box .sv__select{border-radius:6px;position:relative;width:100%;z-index:1}#survicate-box .sv__select-icon{position:absolute;right:16px;top:10px}#survicate-box .sv__select input{border-radius:6px;cursor:pointer;font-size:16px;font-weight:400;padding:16px;width:100%}#survicate-box .sv__select--open{border-bottom-left-radius:0;border-bottom-right-radius:0;border-top-left-radius:6px;border-top-right-radius:6px;z-index:100}#survicate-box .sv__select .sv__clear-input-icon{background:none;font-weight:600}#survicate-box .sv__select .sv__caret{background:none;border:none;cursor:pointer}#survicate-box .sv__select .sv__select-list{border-bottom-left-radius:6px;border-bottom-right-radius:6px;border-top-left-radius:0;border-top-right-radius:0;list-style:none;margin:0;max-height:200px;overflow:auto;padding:0;position:absolute;width:100%;z-index:100}#survicate-box .sv__select .sv__select-list .sv__select-button{border-radius:0;border:none;font-size:inherit;font-weight:400;height:auto;overflow-wrap:break-word;padding-bottom:10px;padding-left:16px;padding-right:16px;padding-top:10px;text-align:left;transition:none;width:100%}#survicate-box .sv__select.sv-invalid{border:none}#survicate-box .sv__select.sv-invalid input,#survicate-box .sv__select.sv-invalid input:focus{background-color:#ffedea;border:2px;border-color:#e33a22;border-style:solid;color:initial;padding:14px}#survicate-box .sv__select.sv-invalid+.sv__submit-button__wrapper{visibility:visible}#survicate-box .sv__validation{align-items:center;background-color:#e33a22;border-radius:4px;display:flex;left:100%;padding-bottom:5px;padding-left:6px;padding-right:6px;padding-top:5px;position:absolute;top:36px;white-space:nowrap;width:max-content}#survicate-box .sv__validation__message{color:#fff;font-size:12px;margin-left:3px}#survicate-box .sv__validation::after{border-bottom-width:4px;border-color:rgba(0,0,0,0) #e33a22 rgba(0,0,0,0) rgba(0,0,0,0);border-left-width:0;border-right-width:8px;border-style:solid;border-top-width:4px;content:" ";height:0;left:-8px;position:absolute;top:9px;width:0}#survicate-box .sv__survey .sv__invalid input{background-color:#ffedea;color:#e33a22}#survicate-box .sv__survey .sv__invalid input:focus{border-color:#e33a22;border-width:2px}@media(max-width: 1181px){#survicate-box .sv-box-child .sv__validation{left:auto;right:0;top:1px}#survicate-box .sv-box-child .sv__validation::after{border-bottom-width:0;border-color:#e33a22 rgba(0,0,0,0) rgba(0,0,0,0) rgba(0,0,0,0);border-left-width:4px;border-right-width:4px;border-top-width:8px;bottom:-8px;left:auto;right:10px;top:auto}}#survicate-box .sv__point .sv__point-description a,#survicate-box .sv__point .sv__point-description b,#survicate-box .sv__point .sv__point-description i,#survicate-box .sv__point .sv__point-description strong,#survicate-box .sv__point .sv__point-description small,#survicate-box .sv__point .sv__point-question a,#survicate-box .sv__point .sv__point-question b,#survicate-box .sv__point .sv__point-question i,#survicate-box .sv__point .sv__point-question strong,#survicate-box .sv__point .sv__point-question small,#survicate-box .sv__point .sv__point-wrapper a,#survicate-box .sv__point .sv__point-wrapper b,#survicate-box .sv__point .sv__point-wrapper i,#survicate-box .sv__point .sv__point-wrapper strong,#survicate-box .sv__point .sv__point-wrapper small{color:inherit}#survicate-box .sv__point .sv__point-description a.sv__social-button,#survicate-box .sv__point .sv__point-description b.sv__social-button,#survicate-box .sv__point .sv__point-description i.sv__social-button,#survicate-box .sv__point .sv__point-description strong.sv__social-button,#survicate-box .sv__point .sv__point-description small.sv__social-button,#survicate-box .sv__point .sv__point-question a.sv__social-button,#survicate-box .sv__point .sv__point-question b.sv__social-button,#survicate-box .sv__point .sv__point-question i.sv__social-button,#survicate-box .sv__point .sv__point-question strong.sv__social-button,#survicate-box .sv__point .sv__point-question small.sv__social-button,#survicate-box .sv__point .sv__point-wrapper a.sv__social-button,#survicate-box .sv__point .sv__point-wrapper b.sv__social-button,#survicate-box .sv__point .sv__point-wrapper i.sv__social-button,#survicate-box .sv__point .sv__point-wrapper strong.sv__social-button,#survicate-box .sv__point .sv__point-wrapper small.sv__social-button{color:#fff}#survicate-box .sv__point .sv__point-description b,#survicate-box .sv__point .sv__point-description strong,#survicate-box .sv__point .sv__point-question b,#survicate-box .sv__point .sv__point-question strong,#survicate-box .sv__point .sv__point-wrapper b,#survicate-box .sv__point .sv__point-wrapper strong{font-weight:600}#survicate-box .sv__point .sv__point-description small,#survicate-box .sv__point .sv__point-question small,#survicate-box .sv__point .sv__point-wrapper small{font-size:12px}#survicate-box .sv__point .sv__point-description small a,#survicate-box .sv__point .sv__point-description small b,#survicate-box .sv__point .sv__point-description small i,#survicate-box .sv__point .sv__point-description small strong,#survicate-box .sv__point .sv__point-question small a,#survicate-box .sv__point .sv__point-question small b,#survicate-box .sv__point .sv__point-question small i,#survicate-box .sv__point .sv__point-question small strong,#survicate-box .sv__point .sv__point-wrapper small a,#survicate-box .sv__point .sv__point-wrapper small b,#survicate-box .sv__point .sv__point-wrapper small i,#survicate-box .sv__point .sv__point-wrapper small strong{font-size:inherit}#survicate-box *{font-family:"Open sans",sans-serif;font-size:14px;font-weight:400;line-height:normal;box-sizing:border-box;outline:none}#survicate-box .sv__outline *:focus{outline:1px solid #87cefa}#survicate-box button{padding:3px;display:inline-block;margin:0;border:none;cursor:pointer}#survicate-box p{margin:0}#survicate-box a{text-decoration:none}#survicate-box .sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);border:0}#survicate-box .sv-invalid.sv-invalid.sv-invalid{border:1px solid #c00}#survicate-box .sv__overlay{height:100vh;left:0;position:fixed;top:0;width:100vw;z-index:999995}#survicate-box .sv__overlay--dark{background-color:#000;opacity:.35}#survicate-box .sv__overlay--light{background-color:#fff;opacity:.5}@keyframes slide-out{0%{transform:translateX(0)}100%{transform:translateX(-100%)}}@keyframes slide-in{0%{transform:translateX(100%)}100%{transform:translateX(0)}}@keyframes slide-down{0%{transform:translateY(0)}100%{transform:translateY(100%)}}#survicate-box .sv__survey.sv__micro-theme{border-radius:10px;box-shadow:0 0 10px 5px rgba(41,41,42,.07);display:flex;flex-direction:column;max-height:664px;max-width:304px;min-width:304px;padding-bottom:16px;padding-left:0;padding-right:0;padding-top:0;position:fixed;width:unset;z-index:2147483646}#survicate-box .sv__survey.sv__micro-theme.sv__position-top-right,#survicate-box .sv__survey.sv__micro-theme.sv__position-top-left{top:0}#survicate-box .sv__survey.sv__micro-theme.sv__position-left,#survicate-box .sv__survey.sv__micro-theme.sv__position-right{bottom:0}#survicate-box .sv__survey.sv__micro-theme.sv__position-right,#survicate-box .sv__survey.sv__micro-theme.sv__position-top-right{right:30px}#survicate-box .sv__survey.sv__micro-theme.sv__position-left,#survicate-box .sv__survey.sv__micro-theme.sv__position-top-left{left:30px}#survicate-box .sv__survey.sv__micro-theme.sv__position-center{bottom:50%;max-width:608px;right:50%;transform:translate(50%, 50%)}#survicate-box .sv__survey.sv__micro-theme.sv__position-fullscreen{height:100vh;justify-content:space-between}#survicate-box .sv__survey.sv__micro-theme:not(.sv__position-center){margin:24px -6px}#survicate-box .sv__survey.sv__micro-theme.sv__minimized{align-items:center;cursor:pointer;display:inline-flex;flex-direction:row;justify-content:space-between;min-height:39px;overflow-wrap:break-word;padding:16px 24px}#survicate-box .sv__survey.sv__micro-theme.sv__minimized.sv__position-center{bottom:50%;right:50%;transform:translate(50%);width:auto}#survicate-box .sv__survey.sv__micro-theme.sv__minimized .sv__minimized-symbol{align-items:center;border-radius:6px;display:flex;height:40px;justify-content:center;margin-left:12px;width:40px}#survicate-box .sv__survey.sv__micro-theme.sv__minimized .sv__minimized__text{width:75%}#survicate-box .sv__survey.sv__micro-theme.sv__survey--nps,#survicate-box .sv__survey.sv__micro-theme.sv__survey--numerical_scale,#survicate-box .sv__survey.sv__micro-theme.sv__survey--rating{max-width:520px}#survicate-box .sv__survey.sv__micro-theme.sv__survey--finished{width:304px}#survicate-box .sv__survey.sv__micro-theme.sv__survey--finished.sv__survey--branded{background-color:#fff;color:#000}#survicate-box .sv__survey.sv__micro-theme.sv__survey--slide-out{animation-duration:.3s;animation-name:slide-out}#survicate-box .sv__survey.sv__micro-theme.sv__survey--slide-in{animation-duration:.3s;animation-name:slide-in}#survicate-box .sv__survey.sv__micro-theme.sv__survey--slide-down{animation-duration:.3s;animation-name:slide-down}#survicate-box .sv__micro-theme.sv__survey.sv__mobile-survey.sv__position-fullscreen .sv__point{margin:auto 0}#survicate-box .sv__micro-theme .sv__point{max-height:none;overflow-y:auto;padding:0}#survicate-box .sv__micro-theme .sv__point::-webkit-scrollbar{background-color:rgba(0,0,0,0);width:4px}#survicate-box .sv__micro-theme .sv__point::-webkit-scrollbar-thumb{background-color:rgba(0,0,0,.5);border-radius:4px}#survicate-box .sv__micro-theme .sv__point-wrapper{box-sizing:content-box;overflow:hidden;padding-bottom:0;padding-left:24px;padding-right:24px}#survicate-box .sv__micro-theme .sv__point-wrapper .sv__scroll-container{margin-right:-18px;padding-right:14px}#survicate-box .sv__micro-theme .sv__point .sv__point-text{margin:0;margin-bottom:8px;overflow-wrap:break-word;text-align:left}#survicate-box .sv__micro-theme .sv__point .sv__point-text.sv__point-description{font-size:12px;line-height:19px;margin-bottom:4px;margin-left:0;margin-right:0;margin-top:4px}#survicate-box .sv__micro-theme .sv__point .sv__point-text.sv__point-question{font-size:14px;font-weight:600;line-height:22px;margin-bottom:16px}#survicate-box .sv__micro-theme .sv__point .sv__point-text.sv__point-description a,#survicate-box .sv__micro-theme .sv__point .sv__point-text.sv__point-question a{font-size:inherit;font-weight:inherit;text-decoration:underline}#survicate-box .sv__micro-theme .sv__contact-form{display:flex;flex-direction:column}#survicate-box .sv__micro-theme .sv__contact-form-field{border-radius:6px;margin-bottom:8px;margin-top:0;position:relative;width:100%}#survicate-box .sv__micro-theme .sv__contact-form-field:last-child{margin-bottom:16px}#survicate-box .sv__micro-theme .sv__contact-form-field.sv__invalid input{background-color:#ffedea !important;border-color:#c00 !important;color:#e33a22 !important}#survicate-box .sv__micro-theme .sv__contact-form-field .sv__input{border-color:rgba(0,0,0,0);border-radius:4px;border-style:solid;border-width:2px;box-sizing:border-box;height:40px;outline-offset:3px;padding-bottom:0;padding-left:16px;padding-right:16px;padding-top:0;transition:none;width:100%}#survicate-box .sv__micro-theme .sv__contact-form-field .sv__input:focus{border-style:solid;border-width:2px}#survicate-box .sv__micro-theme .sv__contact-form-field-label{display:block;font-size:14px;font-weight:600;margin-bottom:8px;opacity:1;overflow-wrap:break-word;position:static;transition:opacity .5s}#survicate-box .sv__micro-theme .sv__contact-form-security,#survicate-box .sv__micro-theme .sv__contact-form-confirmation{align-items:center;display:flex;margin-top:16px;min-height:40px;padding:8px 16px}#survicate-box .sv__micro-theme .sv__contact-form-security .sv__checkbox,#survicate-box .sv__micro-theme .sv__contact-form-confirmation .sv__checkbox{margin-right:16px}#survicate-box .sv__micro-theme .sv__contact-form-security .sv__checkbox.sv__square.sv-invalid.sv-nested-bg-bw,#survicate-box .sv__micro-theme .sv__contact-form-confirmation .sv__checkbox.sv__square.sv-invalid.sv-nested-bg-bw{border-style:solid;border-width:2px}#survicate-box .sv__micro-theme .sv__contact-form-security .sv__lock-icon,#survicate-box .sv__micro-theme .sv__contact-form-confirmation .sv__lock-icon{margin-right:8px;padding-left:2px}#survicate-box .sv__micro-theme .sv__contact-form-security .sv__lock-icon svg,#survicate-box .sv__micro-theme .sv__contact-form-confirmation .sv__lock-icon svg{height:20px;margin-right:8px}#survicate-box .sv__micro-theme .sv__contact-form-security .sv__validation,#survicate-box .sv__micro-theme .sv__contact-form-confirmation .sv__validation{bottom:unset;top:-27px}#survicate-box .sv__micro-theme .sv__contact-form-confirmation *{flex:none}#survicate-box .sv__micro-theme .sv__contact-form-confirmation>div:last-child{cursor:pointer;flex-shrink:1}#survicate-box .sv__micro-theme .sv__contact-form-security{font-size:12px}#survicate-box .sv__micro-theme .sv__contact-form-agreement-label{overflow-wrap:break-word;overflow-x:auto}#survicate-box .sv__micro-theme .sv__choice-button{align-items:center;border-color:rgba(0,0,0,0);border-radius:6px;border-style:solid;border-width:2px;cursor:pointer;display:flex;font-weight:400;margin:5px 0;margin-bottom:0;margin-top:0;min-height:40px;padding:10px;text-align:left;transition:background-color 300ms;width:100%}#survicate-box .sv__micro-theme .sv__choice-button-wrapper{margin-bottom:8px}#survicate-box .sv__micro-theme .sv__choice-button-wrapper:last-child{margin-bottom:16px}#survicate-box .sv__micro-theme .sv__choice-button-question{align-items:center;display:flex;overflow-x:initial;width:100%}#survicate-box .sv__micro-theme .sv__choice-button-question .sv-bg-bv{width:auto}#survicate-box .sv__micro-theme .sv__choice-button-question .sv-col-fa{overflow-x:inherit;width:100%}#survicate-box .sv__micro-theme .sv__choice-button>div:last-child{width:auto}#survicate-box .sv__micro-theme .sv__choice-button.sv__choice-button--selected--expanded{align-items:baseline}#survicate-box .sv__micro-theme .sv__choice-button.sv__choice-button--selected--expanded>div:last-child{width:100%}#survicate-box .sv__micro-theme .sv__choice-button.sv__choice-button--selected .sv-col-fa{font-weight:600}#survicate-box .sv__micro-theme .sv__choice-button:active .sv__circle{background-color:rgba(0,0,0,0);border-style:solid;border-width:2px}#survicate-box .sv__micro-theme .sv__choice-button--selected--expanded{flex-direction:column}#survicate-box .sv__micro-theme .sv__choice-button:active .sv__circle,#survicate-box .sv__micro-theme .sv__choice-button--selected .sv__circle{background-clip:content-box;padding:2px}#survicate-box .sv__micro-theme .sv__choice-button .sv__textarea-wrapper{margin-top:16px}#survicate-box .sv__micro-theme .sv__choice-button .sv__textarea-wrapper .sv__answer-hint{font-size:12px}#survicate-box .sv__micro-theme .sv__choice-button .sv__textarea-wrapper .sv__textarea{border-color:rgba(0,0,0,0);border-radius:4px;border-style:solid;border-width:2px;margin-top:0;max-height:72px;min-height:64px;padding:8px;resize:none;width:100%}#survicate-box .sv__micro-theme .sv__choice-button .sv__textarea-wrapper .sv__textarea:active{border-width:2px}#survicate-box .sv__micro-theme .sv__choice-button .sv__checkbox{flex:1 0 auto}#survicate-box .sv__micro-theme .sv__choice-button .sv__circle{padding:3px;top:0}#survicate-box .sv__micro-theme .sv__choice-button .sv__answer-text{overflow-wrap:anywhere;word-break:break-word}#survicate-box .sv__micro-theme.sv__mobile-survey .sv__circle:hover,#survicate-box .sv__micro-theme.sv__mobile-survey .sv__circle:hover::after,#survicate-box .sv__micro-theme.sv__mobile-survey .sv__square:hover,#survicate-box .sv__micro-theme.sv__mobile-survey .sv__square:hover::after{box-shadow:none !important}#survicate-box .sv__micro-theme .sv__customer-satisfaction .sv__buttons--vertical{margin-bottom:0}#survicate-box .sv__micro-theme .sv__date{box-sizing:border-box;display:block;height:40px;margin-bottom:16px;margin-top:0;padding:10px;padding-bottom:8px;padding-left:8px;padding-top:8px;text-align:left}#survicate-box .sv__micro-theme .sv__date__input,#survicate-box .sv__micro-theme .sv__date__separator{display:inline-block}#survicate-box .sv__micro-theme .sv__date__input{background:none;padding:0;text-align:center;width:30%}#survicate-box .sv__micro-theme .sv__date__separator{padding:0}#survicate-box .sv__micro-theme .sv__date__wrapper .sv__mobile-datepicker{box-shadow:none;font-size:14px;margin:0 auto;padding:0;width:100%;width:max-content}#survicate-box .sv__micro-theme .sv__date__wrapper .sv__mobile-datepicker--selected{border:none;border-radius:6px;transform:translateY(-60%);width:100%}#survicate-box .sv__micro-theme .sv__date__wrapper .sv__mobile-datepicker .sv__roller__wrapper{display:flex}#survicate-box .sv__micro-theme .sv__date__wrapper .sv__mobile-datepicker .sv__roller__wrapper::before,#survicate-box .sv__micro-theme .sv__date__wrapper .sv__mobile-datepicker .sv__roller__wrapper::after{background:inherit}#survicate-box .sv__micro-theme .sv__date__wrapper .sv__mobile-datepicker .sv__roller__option{font-size:14px}#survicate-box .sv__micro-theme .sv__date.sv__invalid{border:2px solid #e33a22;position:relative}#survicate-box .sv__micro-theme .sv__date .sv__validation{bottom:38px;display:flex;padding:5px 6px;right:0}#survicate-box .sv__micro-theme .sv__point-texts--empty+.sv__date{margin-top:26px}#survicate-box .sv__micro-theme .sv__dropdown_list-survey-point{overflow-y:visible !important}#survicate-box .sv__micro-theme .sv__dropdown_list-survey-point .sv__point-wrapper{overflow:visible}#survicate-box .sv__micro-theme .sv__dropdown__wrapper{margin-left:0;margin-right:0;margin-top:0}#survicate-box .sv__micro-theme .sv__dropdown__wrapper .sv-invalid.sv__select .sv__clear-input-icon svg g g{fill:#000}#survicate-box .sv__micro-theme .sv__dropdown__wrapper .sv__select-list{margin-top:0}#survicate-box .sv__micro-theme .sv__dropdown__wrapper .sv__select-icon{top:16px}#survicate-box .sv__micro-theme .sv__dropdown__wrapper .sv__select-icon.sv__caret{border:0;right:20px}#survicate-box .sv__micro-theme .sv__dropdown__wrapper .sv__select .sv__clear-input-icon{right:0;top:0}#survicate-box .sv__micro-theme .sv__dropdown__wrapper .sv__select input{border-color:rgba(0,0,0,0);border-style:solid;border-width:2px;font-size:14px;height:50px;padding:16px}#survicate-box .sv__micro-theme .sv__dropdown__wrapper .sv__select .sv__validation{bottom:50px;top:auto}#survicate-box .sv__micro-theme .sv__dropdown__wrapper .sv__submit-button__wrapper{bottom:initial}#survicate-box .sv__micro-theme .sv__numerical-scale--mobile .sv__numerical-scale__wrapper{display:flex;flex-direction:column}#survicate-box .sv__micro-theme .sv__numerical-scale--mobile .sv__numerical-scale__buttons{flex-direction:column-reverse}#survicate-box .sv__micro-theme .sv__numerical-scale--mobile .sv__numerical-scale__button{margin-bottom:10px;margin-left:0;margin-right:0;margin-top:0;width:100%}#survicate-box .sv__micro-theme .sv__numerical-scale .sv__point-text{min-width:100%;width:min-content}#survicate-box .sv__micro-theme .sv__numerical-scale__wrapper{display:flex;flex-direction:column}#survicate-box .sv__micro-theme .sv__numerical-scale__wrapper .sv__buttons{display:flex;justify-content:center;margin-left:0;margin-right:0}#survicate-box .sv__micro-theme .sv__numerical-scale__wrapper .sv__buttons .sv__button{align-items:center;border-radius:6px;cursor:pointer;display:flex;justify-content:center;padding:initial;text-align:center}#survicate-box .sv__micro-theme .sv__numerical-scale__wrapper .sv__buttons .sv__button:first-child{margin-left:0}#survicate-box .sv__micro-theme .sv__numerical-scale__wrapper .sv__buttons .sv__button:last-child{margin-right:0}#survicate-box .sv__micro-theme .sv__rating .sv__point-text{min-width:100%;width:min-content}#survicate-box .sv__micro-theme .sv__rating-survey-point .sv__point-wrapper--with-personalization .sv__micro-top-bar__row,#survicate-box .sv__micro-theme .sv__rating__micro-top-bar.sv__micro-top-bar--with-personalization .sv__micro-top-bar__row{min-width:100%;width:min-content}#survicate-box .sv__micro-theme .sv__rating__number{font-weight:400}#survicate-box .sv__micro-theme .sv__rating .sv__buttons{justify-content:center;margin-bottom:16px}#survicate-box .sv__micro-theme .sv__rating .sv__buttons .sv__button{align-items:center;display:flex;flex-direction:column;height:unset;justify-content:center}#survicate-box .sv__micro-theme .sv__rating .sv__buttons .sv__button:hover{background-color:rgba(0,0,0,0)}#survicate-box .sv__micro-theme .sv__rating .sv__buttons .sv__button--selected,#survicate-box .sv__micro-theme .sv__rating .sv__buttons .sv__button:active{border-width:0}#survicate-box .sv__micro-theme .sv__rating .sv__buttons .sv__button svg{height:32px;margin-bottom:8px;width:32px}#survicate-box .sv__micro-theme .sv__rating .sv__buttons--vertical.sv__buttons{flex-direction:column-reverse}#survicate-box .sv__micro-theme .sv__rating .sv__buttons--vertical.sv__buttons .sv__button{flex-direction:row;height:40px;margin-bottom:8px;margin-left:0;margin-right:0;margin-top:0}#survicate-box .sv__micro-theme .sv__rating .sv__buttons--vertical.sv__buttons .sv__button:active{border-width:2px}#survicate-box .sv__micro-theme .sv__rating .sv__buttons--vertical.sv__buttons .sv__button svg{height:20px;margin-bottom:0;width:20px}#survicate-box .sv__micro-theme .sv__smiley_scale-survey-point .sv__smiley-scale__buttons{display:flex;justify-content:space-between;margin-bottom:32px;padding-left:3px;padding-right:3px}#survicate-box .sv__micro-theme .sv__smiley_scale-survey-point .sv__smiley-scale__wrapper{width:100%}#survicate-box .sv__micro-theme .sv__smiley_scale-survey-point .sv__smiley-scale__button{margin:0}#survicate-box .sv__micro-theme .sv__smiley_scale-survey-point .sv__smiley-scale__icon-container,#survicate-box .sv__micro-theme .sv__smiley_scale-survey-point .sv__smiley-scale__button{height:38px;width:38px}#survicate-box .sv__micro-theme .sv__smiley_scale-survey-point .sv__smiley-scale.sv__three-smileys .sv__smiley-scale__buttons{justify-content:center}#survicate-box .sv__micro-theme .sv__smiley_scale .sv__point-texts .sv__point-question{margin-bottom:32px}#survicate-box .sv__micro-theme.sv__mobile-survey .sv__smiley-scale__button:hover{transform:none}#survicate-box .sv__micro-theme .sv__point-texts--empty+.sv__smiley-scale__buttons{margin-top:16px}#survicate-box .sv__micro-theme .sv-box-child.sv-mobile .sv__smiley-scale__icon-container,#survicate-box .sv__micro-theme .sv-box-child.sv-mobile .sv__smiley-scale__button{height:48px;width:48px}@media only screen and (max-width: 767px),only screen and (max-device-width: 812px)and (-webkit-min-device-pixel-ratio: 3)and (orientation: landscape){#survicate-box .sv__micro-theme .sv-box-child:not(.sv-tablet):not(.sv-desktop) .sv__smiley-scale__icon-container,#survicate-box .sv__micro-theme .sv-box-child:not(.sv-tablet):not(.sv-desktop) .sv__smiley-scale__button{height:48px;width:48px}}#survicate-box .sv__micro-theme .sv__text-question .sv__textarea{border-color:rgba(0,0,0,0);border-radius:6px;border-style:solid;border-width:2px;font-size:14px;margin-bottom:16px;max-height:200px;min-height:80px;padding:8px;resize:none;width:100%}#survicate-box .sv__micro-theme .sv__text-question .sv__textarea:focus{border:solid 2px}#survicate-box .sv__micro-theme .sv__social-button{border-radius:4px;color:#fff;display:block;font-weight:600;margin-bottom:10px;padding:10px;position:relative;text-align:center;transition:background-color 300ms}#survicate-box .sv__micro-theme .sv__social-button.sv__fb{background-color:#3579ea;border-bottom:1px solid #11192b}#survicate-box .sv__micro-theme .sv__social-button.sv__fb:hover{background-color:#165ed6}#survicate-box .sv__micro-theme .sv__social-button.sv__twitter{background-color:#4aa1ec;border-bottom:1px solid #0f5f9b}#survicate-box .sv__micro-theme .sv__social-button.sv__twitter:hover{background-color:#1c89e7}#survicate-box .sv__micro-theme .sv__social-button.sv__twitter svg{left:17px;top:12px}#survicate-box .sv__micro-theme .sv__social-button.sv__linkedin{background-color:#2a66bc;border-bottom:1px solid #0f5f9b}#survicate-box .sv__micro-theme .sv__social-button.sv__linkedin:hover{background-color:#4480d5}#survicate-box .sv__micro-theme .sv__social-button.sv__linkedin svg{left:17px}#survicate-box .sv__micro-theme .sv__social-button svg{fill:#fff;left:20px;position:absolute}#survicate-box .sv__micro-theme .sv__nps--horizontal .sv__buttons{display:flex;flex-wrap:wrap;gap:8px;justify-content:center}#survicate-box .sv__micro-theme .sv__nps .sv__button{border-radius:4px;padding:initial;text-align:center}#survicate-box .sv__micro-theme .sv__footer{justify-content:center}#survicate-box .sv__micro-theme .sv__footer__wrapper{align-items:center;display:flex;justify-content:center;margin-top:0}#survicate-box .sv__micro-theme .sv__footer__button{align-items:center;display:flex;padding:8px}#survicate-box .sv__micro-theme .sv__footer__button svg{height:10px;margin-top:-2px;width:68px}#survicate-box .sv__micro-theme .sv__footer__small-text{font-size:12px;margin-right:4px}#survicate-box .sv__micro-theme .sv__micro-top-bar{margin-left:24px;margin-right:24px;margin-top:24px}#survicate-box .sv__micro-theme .sv__micro-top-bar--with-personalization.sv__micro-top-bar--with-logo .sv__micro-top-bar__row{align-items:center}#survicate-box .sv__micro-theme .sv__micro-top-bar--with-personalization .sv__micro-top-bar__row{align-items:flex-start}#survicate-box .sv__micro-theme .sv__micro-top-bar__personalization{align-items:center;display:flex;margin-top:12px}#survicate-box .sv__micro-theme .sv__micro-top-bar__row{align-items:center;display:flex;justify-content:space-between;position:relative;top:-10px}#survicate-box .sv__micro-theme .sv__micro-top-bar__row .sv__micro-top-bar__logo{margin-right:8px;max-height:24px;max-width:60%}#survicate-box .sv__micro-theme .sv__micro-top-bar__row .sv__micro-top-bar__avatar{border-radius:100%;border-style:none;height:24px;max-width:unset;object-fit:cover;object-position:center;width:24px}#survicate-box .sv__micro-theme .sv__micro-top-bar__row .sv__micro-top-bar__short-text{line-height:1.3;margin-right:8px;word-break:break-word}#survicate-box .sv__micro-theme .sv__micro-top-bar__row .sv__bar-buttons{color:#b3b3b3;display:flex;justify-content:flex-end}#survicate-box .sv__micro-theme .sv__micro-top-bar__row .sv__bar-buttons .sv-col-small-button-bw{background:none;border:none;color:inherit;display:inline-block;font-family:"Open sans",sans-serif;font-weight:600;padding:6px;transition:color 300ms}#survicate-box .sv__micro-theme .sv__micro-top-bar__row .sv__bar-buttons .sv-col-small-button-bw:focus{outline-offset:3px}#survicate-box .sv__micro-theme .sv__micro-top-bar__row .sv__bar-buttons .sv__btn-close,#survicate-box .sv__micro-theme .sv__micro-top-bar__row .sv__bar-buttons .sv__btn-minimize{padding:0}#survicate-box .sv__micro-theme .sv__micro-top-bar__row .sv__bar-buttons .sv__btn-close{margin-right:-12px}#survicate-box .sv__micro-theme .sv__micro-top-bar__row .sv__bar-buttons .sv__btn-minimize svg rect:first-child{fill:rgba(0,0,0,0)}#survicate-box .sv__micro-theme .sv__micro-top-bar__row .sv__bar-buttons .sv__btn-minimize:hover svg g,#survicate-box .sv__micro-theme .sv__micro-top-bar__row .sv__bar-buttons .sv__btn-minimize:active svg g{opacity:1}#survicate-box .sv__micro-theme .sv__micro-top-bar--flat{align-items:flex-end;display:flex;flex-direction:row-reverse}#survicate-box .sv__micro-theme .sv__micro-top-bar--flat .sv__micro-top-bar__row{flex-direction:row-reverse;justify-content:space-between}#survicate-box .sv__micro-theme .sv__micro-top-bar--flat .sv__progress-bar__wrapper{width:100%}#survicate-box .sv__micro-theme .sv__micro-top-bar--flat .sv__progress-bar__wrapper .sv__progress-bar{top:2px}#survicate-box .sv__micro-theme .sv__micro-top-bar--flat .sv__bar-buttons{margin-left:16px;margin-right:unset}#survicate-box .sv__micro-theme.sv__mobile-survey .sv__btn-close:hover svg g g{fill:inherit !important}#survicate-box .sv__micro-theme.sv__survey--finished .sv__micro-top-bar--branded{margin-bottom:24px}#survicate-box .sv__micro-theme.sv__survey--finished .sv__micro-top-bar--branded .sv__micro-top-bar__row{flex-direction:row;justify-content:space-between;width:100%}#survicate-box .sv__micro-theme.sv__survey--finished .sv__micro-top-bar--branded .sv__micro-top-bar__row .sv__survicate__logo{max-width:106px}#survicate-box .sv__micro-theme .sv__progress-bar{border-radius:4px;height:4px;position:relative;top:0}#survicate-box .sv__micro-theme .sv__progress-bar>div{border-radius:4px}#survicate-box .sv__micro-theme .sv__progress-bar__wrapper{height:28px}@media only screen and (min-width: 813px),only screen and (min-width: 768px)and (-webkit-max-device-pixel-ratio: 2){#survicate-box .sv__micro-theme .sv-box-child:not(.sv-mobile) .sv__position-top-right .sv__progress-bar,#survicate-box .sv__micro-theme .sv-box-child:not(.sv-mobile) .sv__position-top-left .sv__progress-bar{border-radius:0}#survicate-box .sv__micro-theme .sv-box-child:not(.sv-mobile) .sv__position-top-right .sv__progress-bar>div,#survicate-box .sv__micro-theme .sv-box-child:not(.sv-mobile) .sv__position-top-left .sv__progress-bar>div{border-radius:0}}#survicate-box .sv__micro-theme .sv-box-child.sv-tablet .sv__position-top-right .sv__progress-bar,#survicate-box .sv__micro-theme .sv-box-child.sv-tablet .sv__position-top-left .sv__progress-bar,#survicate-box .sv__micro-theme .sv-box-child.sv-desktop .sv__position-top-right .sv__progress-bar,#survicate-box .sv__micro-theme .sv-box-child.sv-desktop .sv__position-top-left .sv__progress-bar{border-radius:0}#survicate-box .sv__micro-theme .sv-box-child.sv-tablet .sv__position-top-right .sv__progress-bar>div,#survicate-box .sv__micro-theme .sv-box-child.sv-tablet .sv__position-top-left .sv__progress-bar>div,#survicate-box .sv__micro-theme .sv-box-child.sv-desktop .sv__position-top-right .sv__progress-bar>div,#survicate-box .sv__micro-theme .sv-box-child.sv-desktop .sv__position-top-left .sv__progress-bar>div{border-radius:0}#survicate-box .sv__micro-theme.sv__survey--branded .sv__finish-view{overflow-x:hidden;overflow-y:auto}#survicate-box .sv__micro-theme .sv__finish-view,#survicate-box .sv__micro-theme .sv__branded-finish-view--content{display:flex;flex-direction:column}#survicate-box .sv__micro-theme .sv__finish-view{margin-left:24px;margin-right:24px}#survicate-box .sv__micro-theme .sv__finish-view .sv__branded-finish-view--content{margin-right:-18px;overflow-y:auto;padding-right:14px}#survicate-box .sv__micro-theme .sv__finish-view .sv__branded-finish-view--content::-webkit-scrollbar{background-color:rgba(0,0,0,0);width:4px}#survicate-box .sv__micro-theme .sv__finish-view .sv__branded-finish-view--content::-webkit-scrollbar-thumb{background-color:rgba(0,0,0,.15) !important;border-radius:4px}#survicate-box .sv__micro-theme .sv__finish-view .sv__introduction{margin-bottom:24px}#survicate-box .sv__micro-theme .sv__finish-view .sv__paragraph__item,#survicate-box .sv__micro-theme .sv__finish-view .sv__thank-you-message{font-weight:600}#survicate-box .sv__micro-theme .sv__finish-view .sv__thank-you-message{align-items:flex-end;display:flex;margin-bottom:8px}#survicate-box .sv__micro-theme .sv__finish-view .sv__paragraph__container{margin-bottom:32px}#survicate-box .sv__micro-theme .sv__finish-view .sv__paragraph__item{margin-bottom:16px}#survicate-box .sv__micro-theme .sv__finish-view .sv__finish-logo{margin-bottom:48px;margin-left:auto;margin-right:auto;width:168px}#survicate-box .sv__micro-theme .sv__finish-view .sv__simple-link-button__wrapper{border-top:1px solid #c2cbcb;padding-bottom:8px;padding-top:24px}#survicate-box .sv__micro-theme .sv__finish-view .sv__simple-link-button__wrapper .sv__simple-link-button{align-items:center;background-color:#6f27f6;border-radius:6px;color:#fff;display:flex;font-size:16px;font-weight:600;height:56px;justify-content:center;width:100%}#survicate-box .sv__micro-theme .sv__finish-view .sv__simple-link-button__wrapper .sv__simple-link-button:hover{background-color:#390993}@media(max-width: 1181px){#survicate-box .sv__micro-theme .sv-box-child .sv__finish-view{width:300px}}#survicate-box .sv__micro-theme .sv__buttons{margin-bottom:16px}#survicate-box .sv__micro-theme .sv__buttons--vertical.sv__buttons .sv__button{align-items:center;display:flex;height:auto;justify-content:center;min-height:40px;padding:8px;width:100%}#survicate-box .sv__micro-theme .sv__buttons--vertical.sv__buttons .sv__button svg{margin-bottom:0;margin-right:10px;width:20px}#survicate-box .sv__micro-theme .sv__buttons .sv__button{font-size:14px;height:40px;margin-right:4px;width:40px}#survicate-box .sv__micro-theme .sv__buttons .sv__button:last-child{margin-right:0}#survicate-box .sv__micro-theme .sv__buttons .sv__button--selected,#survicate-box .sv__micro-theme .sv__buttons .sv__button:active{border-color:unset;border-style:solid;border-width:2px}#survicate-box .sv__micro-theme .sv__social-button{border-radius:6px}#survicate-box .sv__micro-theme .sv__checkbox{background:rgba(0,0,0,0);height:20px;width:20px}#survicate-box .sv__micro-theme .sv__checkbox.sv__square{border-radius:4px}#survicate-box .sv__micro-theme .sv__checkbox.sv__square svg{border-radius:0;transform:scale(1.2)}#survicate-box .sv__micro-theme .sv__checkbox.sv__square::after{height:20px;left:-2px;top:-2px;width:20px}#survicate-box .sv__micro-theme .sv__circle{border-style:solid;border-width:2px;top:2px}#survicate-box .sv__micro-theme .sv__circle:active{background-clip:content-box;padding:2px}#survicate-box .sv__micro-theme .sv__labels{margin-bottom:8px;margin-left:0;margin-right:0;margin-top:0;overflow-wrap:break-word}#survicate-box .sv__micro-theme .sv__labels .sv__label{font-size:12px;line-height:18px}#survicate-box .sv__micro-theme .sv__labels .sv__label--right{margin-left:4px}#survicate-box .sv__micro-theme .sv__labels .sv__label--left{margin-right:4px}#survicate-box .sv__micro-theme .sv__select{margin-bottom:16px;position:relative}#survicate-box .sv__micro-theme .sv__select-icon{top:16px}#survicate-box .sv__micro-theme .sv__select-list{border-radius:6px !important;border-style:solid;border-width:1px;bottom:calc(100% + 10px);box-shadow:0 0 10px 5px rgba(41,41,42,.07)}#survicate-box .sv__micro-theme .sv__select-list::-webkit-scrollbar{background-color:rgba(0,0,0,0);width:4px}#survicate-box .sv__micro-theme .sv__select-list::-webkit-scrollbar-thumb{background-color:rgba(0,0,0,.5);border-radius:4px}#survicate-box .sv__micro-theme .sv__select .sv__input{width:100%}#survicate-box .sv__micro-theme .sv__select .sv__input .sv__caret{background:none}#survicate-box .sv__micro-theme .sv__select .sv__input,#survicate-box .sv__micro-theme .sv__select .sv__select-list .sv__select-button{min-height:40px}#survicate-box .sv__micro-theme.sv__position-mobile .sv__dropdown__wrapper .sv__select-list{bottom:calc(100% + 10px);top:unset}#survicate-box .sv__micro-theme.sv__position-top-right .sv__dropdown__wrapper .sv__select-list,#survicate-box .sv__micro-theme.sv__position-top-left .sv__dropdown__wrapper .sv__select-list,#survicate-box .sv__micro-theme.sv__position-center .sv__dropdown__wrapper .sv__select-list{bottom:initial}#survicate-box .sv__micro-theme .sv__submit-button__wrapper{border-top-style:solid;border-top-width:1px;bottom:0;margin-left:24px;margin-top:0;padding-bottom:8px;padding-left:0;padding-right:0;padding-top:23px;width:calc(100% - 48px)}#survicate-box .sv__micro-theme .sv__submit-button__wrapper .sv__submit-button{align-items:center;border-bottom-width:0;border-radius:4px;border-style:none none solid none;display:flex;font-weight:600;height:auto;justify-content:center;margin:auto;min-height:40px;outline-offset:3px;overflow-wrap:break-word;width:100%}#survicate-box .sv__micro-theme .sv__submit-button__wrapper .sv__submit-button:disabled{cursor:not-allowed;opacity:.5}#survicate-box .sv__micro-theme .sv__submit-button__wrapper .sv__submit-button:disabled:hover{opacity:.5}#survicate-box .sv__micro-theme .sv__submit-button__wrapper .sv__submit-button:hover{opacity:.8;text-decoration:none}#survicate-box .sv__micro-theme.sv__mobile-survey .sv__submit-button:hover{opacity:unset}#survicate-box .sv__micro-theme .sv__validation{bottom:40px;left:auto;right:0;top:auto}#survicate-box .sv__micro-theme .sv__validation::after{border-color:#e33a22 rgba(0,0,0,0) rgba(0,0,0,0) rgba(0,0,0,0);border-width:8px 4px 0 4px;bottom:-8px;left:auto;right:10px;top:auto}#survicate-box .sv__micro-theme .sv-invalid.sv-invalid.sv-invalid{border:none}#survicate-box .sv-desktop .sv__survey.sv__micro-theme .sv__mobile-datepicker{width:100%}#survicate-box .sv-box-child.sv-mobile .sv__survey{border-radius:4px;left:20px;margin:20px auto;right:20px;transform:none;width:calc(100% - 40px)}#survicate-box .sv-box-child.sv-mobile .sv__survey.sv__position-top-right,#survicate-box .sv-box-child.sv-mobile .sv__survey.sv__position-top-left{top:0}#survicate-box .sv-box-child.sv-mobile .sv__survey.sv__position-left,#survicate-box .sv-box-child.sv-mobile .sv__survey.sv__position-right{bottom:0}#survicate-box .sv-box-child.sv-mobile .sv__survey.sv__position-center{transform:translateY(50%)}#survicate-box .sv-box-child.sv-mobile .sv__survey.sv__minimized{left:0;margin:0;right:0;width:100%}#survicate-box .sv-box-child.sv-mobile .sv__survey.sv__minimized.sv__position-center{right:0;transform:none;width:100%}#survicate-box .sv-box-child.sv-mobile .sv__survey.sv__minimized .sv__minimized-symbol{background-color:rgba(0,0,0,0);bottom:10px;position:absolute;right:15px}@media only screen and (max-width: 568px){#survicate-box .sv-box-child:not(.sv-tablet):not(.sv-desktop) .sv__survey{border-radius:4px;left:20px;margin:20px auto;right:20px;transform:none;width:calc(100% - 40px)}#survicate-box .sv-box-child:not(.sv-tablet):not(.sv-desktop) .sv__survey.sv__position-top-right,#survicate-box .sv-box-child:not(.sv-tablet):not(.sv-desktop) .sv__survey.sv__position-top-left{top:0}#survicate-box .sv-box-child:not(.sv-tablet):not(.sv-desktop) .sv__survey.sv__position-left,#survicate-box .sv-box-child:not(.sv-tablet):not(.sv-desktop) .sv__survey.sv__position-right{bottom:0}#survicate-box .sv-box-child:not(.sv-tablet):not(.sv-desktop) .sv__survey.sv__position-center{transform:translateY(50%)}#survicate-box .sv-box-child:not(.sv-tablet):not(.sv-desktop) .sv__survey.sv__minimized{left:0;margin:0;right:0;width:100%}#survicate-box .sv-box-child:not(.sv-tablet):not(.sv-desktop) .sv__survey.sv__minimized.sv__position-center{right:0;transform:none;width:100%}#survicate-box .sv-box-child:not(.sv-tablet):not(.sv-desktop) .sv__survey.sv__minimized .sv__minimized-symbol{background-color:rgba(0,0,0,0);bottom:10px;position:absolute;right:15px}}@media only screen and (max-width: 1181px)and (orientation: portrait){#survicate-box .sv-box-child:not(.sv-desktop) .sv__survey.sv__micro-theme{border-radius:10px 10px 0 0;bottom:0;display:flex;flex-direction:column;left:initial;margin:0;max-height:90vh;max-width:100%;min-width:100%;right:initial;top:unset;transform:unset;width:100%}#survicate-box .sv-box-child:not(.sv-desktop) .sv__survey.sv__micro-theme.sv__position-fullscreen{max-height:unset}#survicate-box .sv-box-child:not(.sv-desktop) .sv__survey.sv__micro-theme input,#survicate-box .sv-box-child:not(.sv-desktop) .sv__survey.sv__micro-theme textarea{font-size:16px}#survicate-box .sv-box-child:not(.sv-desktop) .sv__survey.sv__micro-theme .sv__point{overflow-y:auto}#survicate-box .sv-box-child:not(.sv-desktop) .sv__survey.sv__micro-theme .sv__point .sv__scroll-container{transition:max-height .3s ease-in-out}#survicate-box .sv-box-child:not(.sv-desktop) .sv__survey.sv__micro-theme .sv__point .sv__point-wrapper{max-width:unset}#survicate-box .sv-box-child:not(.sv-desktop) .sv__survey.sv__micro-theme .sv__point .sv__point-wrapper .sv__point-description{font-size:14px;line-height:22px}#survicate-box .sv-box-child:not(.sv-desktop) .sv__survey.sv__micro-theme .sv__point .sv__point-wrapper .sv__point-question{font-size:16px;line-height:24px}#survicate-box .sv-box-child:not(.sv-desktop) .sv__survey.sv__micro-theme .sv__point .sv__point-wrapper .sv__choice-button{min-height:48px}#survicate-box .sv-box-child:not(.sv-desktop) .sv__survey.sv__micro-theme.sv__minimized{align-items:center;flex-direction:row;height:104px}#survicate-box .sv-box-child:not(.sv-desktop) .sv__survey.sv__micro-theme.sv__minimized .sv__minimized-symbol{bottom:unset;position:relative;right:unset}#survicate-box .sv-box-child:not(.sv-desktop) .sv__survey.sv__micro-theme .sv__micro-top-bar{max-width:none}#survicate-box .sv-box-child:not(.sv-desktop) .sv__survey .sv__answer-picker{height:280px;overflow:hidden;position:relative}#survicate-box .sv-box-child:not(.sv-desktop) .sv__survey .sv__answer-picker--selected{position:absolute;top:25%;width:100%}#survicate-box .sv-box-child:not(.sv-desktop) .sv__survey .sv__answer-picker .sv__roller{align-items:center;display:flex;flex-direction:column}}#survicate-box .sv-box-child.sv-mobile .sv__survey.sv__micro-theme{border-radius:10px 10px 0 0;bottom:0;display:flex;flex-direction:column;left:initial;margin:0;max-height:90vh;max-width:100%;min-width:100%;right:initial;top:unset;transform:unset;width:100%}#survicate-box .sv-box-child.sv-mobile .sv__survey.sv__micro-theme.sv__position-fullscreen{max-height:unset}#survicate-box .sv-box-child.sv-mobile .sv__survey.sv__micro-theme input,#survicate-box .sv-box-child.sv-mobile .sv__survey.sv__micro-theme textarea{font-size:16px}#survicate-box .sv-box-child.sv-mobile .sv__survey.sv__micro-theme .sv__point{overflow-y:auto}#survicate-box .sv-box-child.sv-mobile .sv__survey.sv__micro-theme .sv__point .sv__scroll-container{transition:max-height .3s ease-in-out}#survicate-box .sv-box-child.sv-mobile .sv__survey.sv__micro-theme .sv__point .sv__point-wrapper{max-width:unset}#survicate-box .sv-box-child.sv-mobile .sv__survey.sv__micro-theme .sv__point .sv__point-wrapper .sv__point-description{font-size:14px;line-height:22px}#survicate-box .sv-box-child.sv-mobile .sv__survey.sv__micro-theme .sv__point .sv__point-wrapper .sv__point-question{font-size:16px;line-height:24px}#survicate-box .sv-box-child.sv-mobile .sv__survey.sv__micro-theme .sv__point .sv__point-wrapper .sv__choice-button{min-height:48px}#survicate-box .sv-box-child.sv-mobile .sv__survey.sv__micro-theme.sv__minimized{align-items:center;flex-direction:row;height:104px}#survicate-box .sv-box-child.sv-mobile .sv__survey.sv__micro-theme.sv__minimized .sv__minimized-symbol{bottom:unset;position:relative;right:unset}#survicate-box .sv-box-child.sv-mobile .sv__survey.sv__micro-theme .sv__micro-top-bar{max-width:none}#survicate-box .sv-box-child.sv-mobile .sv__survey .sv__answer-picker{height:280px;overflow:hidden;position:relative}#survicate-box .sv-box-child.sv-mobile .sv__survey .sv__answer-picker--selected{position:absolute;top:25%;width:100%}#survicate-box .sv-box-child.sv-mobile .sv__survey .sv__answer-picker .sv__roller{align-items:center;display:flex;flex-direction:column}@media only screen and (max-width: 568px){#survicate-box .sv-box-child:not(.sv-tablet):not(.sv-desktop) .sv__survey.sv__micro-theme{border-radius:10px 10px 0 0;bottom:0;display:flex;flex-direction:column;left:initial;margin:0;max-height:90vh;max-width:100%;min-width:100%;right:initial;top:unset;transform:unset;width:100%}#survicate-box .sv-box-child:not(.sv-tablet):not(.sv-desktop) .sv__survey.sv__micro-theme.sv__position-fullscreen{max-height:unset}#survicate-box .sv-box-child:not(.sv-tablet):not(.sv-desktop) .sv__survey.sv__micro-theme input,#survicate-box .sv-box-child:not(.sv-tablet):not(.sv-desktop) .sv__survey.sv__micro-theme textarea{font-size:16px}#survicate-box .sv-box-child:not(.sv-tablet):not(.sv-desktop) .sv__survey.sv__micro-theme .sv__point{overflow-y:auto}#survicate-box .sv-box-child:not(.sv-tablet):not(.sv-desktop) .sv__survey.sv__micro-theme .sv__point .sv__scroll-container{transition:max-height .3s ease-in-out}#survicate-box .sv-box-child:not(.sv-tablet):not(.sv-desktop) .sv__survey.sv__micro-theme .sv__point .sv__point-wrapper{max-width:unset}#survicate-box .sv-box-child:not(.sv-tablet):not(.sv-desktop) .sv__survey.sv__micro-theme .sv__point .sv__point-wrapper .sv__point-description{font-size:14px;line-height:22px}#survicate-box .sv-box-child:not(.sv-tablet):not(.sv-desktop) .sv__survey.sv__micro-theme .sv__point .sv__point-wrapper .sv__point-question{font-size:16px;line-height:24px}#survicate-box .sv-box-child:not(.sv-tablet):not(.sv-desktop) .sv__survey.sv__micro-theme .sv__point .sv__point-wrapper .sv__choice-button{min-height:48px}#survicate-box .sv-box-child:not(.sv-tablet):not(.sv-desktop) .sv__survey.sv__micro-theme.sv__minimized{align-items:center;flex-direction:row;height:104px}#survicate-box .sv-box-child:not(.sv-tablet):not(.sv-desktop) .sv__survey.sv__micro-theme.sv__minimized .sv__minimized-symbol{bottom:unset;position:relative;right:unset}#survicate-box .sv-box-child:not(.sv-tablet):not(.sv-desktop) .sv__survey.sv__micro-theme .sv__micro-top-bar{max-width:none}#survicate-box .sv-box-child:not(.sv-tablet):not(.sv-desktop) .sv__survey .sv__answer-picker{height:280px;overflow:hidden;position:relative}#survicate-box .sv-box-child:not(.sv-tablet):not(.sv-desktop) .sv__survey .sv__answer-picker--selected{position:absolute;top:25%;width:100%}#survicate-box .sv-box-child:not(.sv-tablet):not(.sv-desktop) .sv__survey .sv__answer-picker .sv__roller{align-items:center;display:flex;flex-direction:column}}#survicate-box .sv__survey-bottom-placeholder{height:12px}#survicate-box .survicate_plus-button_OvC0J{bottom:10px;position:absolute;right:15px}#survicate-box .sv__survey.sv-tablet.sv__micro-theme{min-height:285px}#survicate-box .sv__survey.sv-tablet.sv__micro-theme .sv__micro-top-bar{max-width:none}#survicate-box input::-webkit-input-placeholder{line-height:normal !important}',""]);const a=o},645:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var s="",r=void 0!==t[5];return t[4]&&(s+="@supports (".concat(t[4],") {")),t[2]&&(s+="@media ".concat(t[2]," {")),r&&(s+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),s+=e(t),r&&(s+="}"),t[2]&&(s+="}"),t[4]&&(s+="}"),s})).join("")},t.i=function(e,s,r,i,n){"string"==typeof e&&(e=[[null,e,void 0]]);var o={};if(r)for(var a=0;a<this.length;a++){var c=this[a][0];null!=c&&(o[c]=!0)}for(var l=0;l<e.length;l++){var u=[].concat(e[l]);r&&o[u[0]]||(void 0!==n&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=n),s&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=s):u[2]=s),i&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=i):u[4]="".concat(i)),t.push(u))}},t}},81:e=>{"use strict";e.exports=function(e){return e[1]}},646:function(e){e.exports=function(){"use strict";function e(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var r in s)e[r]=s[r]}return e}function t(s,r){function i(t,i,n){if("undefined"!=typeof document){"number"==typeof(n=e({},r,n)).expires&&(n.expires=new Date(Date.now()+864e5*n.expires)),n.expires&&(n.expires=n.expires.toUTCString()),t=encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var o="";for(var a in n)n[a]&&(o+="; "+a,!0!==n[a]&&(o+="="+n[a].split(";")[0]));return document.cookie=t+"="+s.write(i,t)+o}}function n(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var t=document.cookie?document.cookie.split("; "):[],r={},i=0;i<t.length;i++){var n=t[i].split("="),o=n.slice(1).join("=");try{var a=decodeURIComponent(n[0]);if(r[a]=s.read(o,a),e===a)break}catch(e){}}return e?r[e]:r}}return Object.create({set:i,get:n,remove:function(t,s){i(t,"",e({},s,{expires:-1}))},withAttributes:function(s){return t(this.converter,e({},this.attributes,s))},withConverter:function(s){return t(e({},this.converter,s),this.attributes)}},{attributes:{value:Object.freeze(r)},converter:{value:Object.freeze(s)}})}return t({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"})}()},400:(e,t,s)=>{"use strict";s.r(t),s.d(t,{Component:()=>x,Fragment:()=>w,cloneElement:()=>B,createContext:()=>W,createElement:()=>g,createRef:()=>y,h:()=>g,hydrate:()=>U,isValidElement:()=>o,options:()=>i,render:()=>H,toChildArray:()=>P});var r,i,n,o,a,c,l,u,v,_={},d=[],p=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,m=Array.isArray;function h(e,t){for(var s in t)e[s]=t[s];return e}function b(e){var t=e.parentNode;t&&t.removeChild(e)}function g(e,t,s){var i,n,o,a={};for(o in t)"key"==o?i=t[o]:"ref"==o?n=t[o]:a[o]=t[o];if(arguments.length>2&&(a.children=arguments.length>3?r.call(arguments,2):s),"function"==typeof e&&null!=e.defaultProps)for(o in e.defaultProps)void 0===a[o]&&(a[o]=e.defaultProps[o]);return f(e,a,i,n,null)}function f(e,t,s,r,o){var a={type:e,props:t,key:s,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:null==o?++n:o,__i:-1,__u:0};return null==o&&null!=i.vnode&&i.vnode(a),a}function y(){return{current:null}}function w(e){return e.children}function x(e,t){this.props=e,this.context=t}function S(e,t){if(null==t)return e.__?S(e.__,e.__i+1):null;for(var s;t<e.__k.length;t++)if(null!=(s=e.__k[t])&&null!=s.__e)return s.__e;return"function"==typeof e.type?S(e):null}function k(e){var t,s;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(s=e.__k[t])&&null!=s.__e){e.__e=e.__c.base=s.__e;break}return k(e)}}function M(e){(!e.__d&&(e.__d=!0)&&a.push(e)&&!A.__r++||c!==i.debounceRendering)&&((c=i.debounceRendering)||l)(A)}function A(){var e,t,s,r,n,o,c,l,v;for(a.sort(u);e=a.shift();)e.__d&&(t=a.length,r=void 0,o=(n=(s=e).__v).__e,l=[],v=[],(c=s.__P)&&((r=h({},n)).__v=n.__v+1,i.vnode&&i.vnode(r),F(c,r,n,s.__n,void 0!==c.ownerSVGElement,32&n.__u?[o]:null,l,null==o?S(n):o,!!(32&n.__u),v),r.__.__k[r.__i]=r,L(l,r,v),r.__e!=o&&k(r)),a.length>t&&a.sort(u));A.__r=0}function O(e,t,s,r,i,n,o,a,c,l,u){var v,p,m,h,b,g=r&&r.__k||d,f=t.length;for(s.__d=c,N(s,t,g),c=s.__d,v=0;v<f;v++)null!=(m=s.__k[v])&&"boolean"!=typeof m&&"function"!=typeof m&&(p=-1===m.__i?_:g[m.__i]||_,m.__i=v,F(e,m,p,i,n,o,a,c,l,u),h=m.__e,m.ref&&p.ref!=m.ref&&(p.ref&&D(p.ref,null,m),u.push(m.ref,m.__c||h,m)),null==b&&null!=h&&(b=h),65536&m.__u||p.__k===m.__k?c=T(m,c,e):"function"==typeof m.type&&void 0!==m.__d?c=m.__d:h&&(c=h.nextSibling),m.__d=void 0,m.__u&=-196609);s.__d=c,s.__e=b}function N(e,t,s){var r,i,n,o,a,c=t.length,l=s.length,u=l,v=0;for(e.__k=[],r=0;r<c;r++)null!=(i=e.__k[r]=null==(i=t[r])||"boolean"==typeof i||"function"==typeof i?null:"string"==typeof i||"number"==typeof i||"bigint"==typeof i||i.constructor==String?f(null,i,null,null,i):m(i)?f(w,{children:i},null,null,null):i.__b>0?f(i.type,i.props,i.key,i.ref?i.ref:null,i.__v):i)?(i.__=e,i.__b=e.__b+1,a=I(i,s,o=r+v,u),i.__i=a,n=null,-1!==a&&(u--,(n=s[a])&&(n.__u|=131072)),null==n||null===n.__v?(-1==a&&v--,"function"!=typeof i.type&&(i.__u|=65536)):a!==o&&(a===o+1?v++:a>o?u>c-o?v+=a-o:v--:v=a<o&&a==o-1?a-o:0,a!==r+v&&(i.__u|=65536))):(n=s[r])&&null==n.key&&n.__e&&(n.__e==e.__d&&(e.__d=S(n)),q(n,n,!1),s[r]=null,u--);if(u)for(r=0;r<l;r++)null!=(n=s[r])&&0==(131072&n.__u)&&(n.__e==e.__d&&(e.__d=S(n)),q(n,n))}function T(e,t,s){var r,i;if("function"==typeof e.type){for(r=e.__k,i=0;r&&i<r.length;i++)r[i]&&(r[i].__=e,t=T(r[i],t,s));return t}return e.__e!=t&&(s.insertBefore(e.__e,t||null),t=e.__e),t&&t.nextSibling}function P(e,t){return t=t||[],null==e||"boolean"==typeof e||(m(e)?e.some((function(e){P(e,t)})):t.push(e)),t}function I(e,t,s,r){var i=e.key,n=e.type,o=s-1,a=s+1,c=t[s];if(null===c||c&&i==c.key&&n===c.type)return s;if(r>(null!=c&&0==(131072&c.__u)?1:0))for(;o>=0||a<t.length;){if(o>=0){if((c=t[o])&&0==(131072&c.__u)&&i==c.key&&n===c.type)return o;o--}if(a<t.length){if((c=t[a])&&0==(131072&c.__u)&&i==c.key&&n===c.type)return a;a++}}return-1}function E(e,t,s){"-"===t[0]?e.setProperty(t,null==s?"":s):e[t]=null==s?"":"number"!=typeof s||p.test(t)?s:s+"px"}function C(e,t,s,r,i){var n;e:if("style"===t)if("string"==typeof s)e.style.cssText=s;else{if("string"==typeof r&&(e.style.cssText=r=""),r)for(t in r)s&&t in s||E(e.style,t,"");if(s)for(t in s)r&&s[t]===r[t]||E(e.style,t,s[t])}else if("o"===t[0]&&"n"===t[1])n=t!==(t=t.replace(/(PointerCapture)$|Capture$/,"$1")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+n]=s,s?r?s.u=r.u:(s.u=Date.now(),e.addEventListener(t,n?R:j,n)):e.removeEventListener(t,n?R:j,n);else{if(i)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!==t&&"height"!==t&&"href"!==t&&"list"!==t&&"form"!==t&&"tabIndex"!==t&&"download"!==t&&"rowSpan"!==t&&"colSpan"!==t&&"role"!==t&&t in e)try{e[t]=null==s?"":s;break e}catch(e){}"function"==typeof s||(null==s||!1===s&&"-"!==t[4]?e.removeAttribute(t):e.setAttribute(t,s))}}function j(e){var t=this.l[e.type+!1];if(e.t){if(e.t<=t.u)return}else e.t=Date.now();return t(i.event?i.event(e):e)}function R(e){return this.l[e.type+!0](i.event?i.event(e):e)}function F(e,t,s,r,n,o,a,c,l,u){var v,_,d,p,b,g,f,y,S,k,M,A,N,T,P,I=t.type;if(void 0!==t.constructor)return null;128&s.__u&&(l=!!(32&s.__u),o=[c=t.__e=s.__e]),(v=i.__b)&&v(t);e:if("function"==typeof I)try{if(y=t.props,S=(v=I.contextType)&&r[v.__c],k=v?S?S.props.value:v.__:r,s.__c?f=(_=t.__c=s.__c).__=_.__E:("prototype"in I&&I.prototype.render?t.__c=_=new I(y,k):(t.__c=_=new x(y,k),_.constructor=I,_.render=$),S&&S.sub(_),_.props=y,_.state||(_.state={}),_.context=k,_.__n=r,d=_.__d=!0,_.__h=[],_._sb=[]),null==_.__s&&(_.__s=_.state),null!=I.getDerivedStateFromProps&&(_.__s==_.state&&(_.__s=h({},_.__s)),h(_.__s,I.getDerivedStateFromProps(y,_.__s))),p=_.props,b=_.state,_.__v=t,d)null==I.getDerivedStateFromProps&&null!=_.componentWillMount&&_.componentWillMount(),null!=_.componentDidMount&&_.__h.push(_.componentDidMount);else{if(null==I.getDerivedStateFromProps&&y!==p&&null!=_.componentWillReceiveProps&&_.componentWillReceiveProps(y,k),!_.__e&&(null!=_.shouldComponentUpdate&&!1===_.shouldComponentUpdate(y,_.__s,k)||t.__v===s.__v)){for(t.__v!==s.__v&&(_.props=y,_.state=_.__s,_.__d=!1),t.__e=s.__e,t.__k=s.__k,t.__k.forEach((function(e){e&&(e.__=t)})),M=0;M<_._sb.length;M++)_.__h.push(_._sb[M]);_._sb=[],_.__h.length&&a.push(_);break e}null!=_.componentWillUpdate&&_.componentWillUpdate(y,_.__s,k),null!=_.componentDidUpdate&&_.__h.push((function(){_.componentDidUpdate(p,b,g)}))}if(_.context=k,_.props=y,_.__P=e,_.__e=!1,A=i.__r,N=0,"prototype"in I&&I.prototype.render){for(_.state=_.__s,_.__d=!1,A&&A(t),v=_.render(_.props,_.state,_.context),T=0;T<_._sb.length;T++)_.__h.push(_._sb[T]);_._sb=[]}else do{_.__d=!1,A&&A(t),v=_.render(_.props,_.state,_.context),_.state=_.__s}while(_.__d&&++N<25);_.state=_.__s,null!=_.getChildContext&&(r=h(h({},r),_.getChildContext())),d||null==_.getSnapshotBeforeUpdate||(g=_.getSnapshotBeforeUpdate(p,b)),O(e,m(P=null!=v&&v.type===w&&null==v.key?v.props.children:v)?P:[P],t,s,r,n,o,a,c,l,u),_.base=t.__e,t.__u&=-161,_.__h.length&&a.push(_),f&&(_.__E=_.__=null)}catch(e){t.__v=null,l||null!=o?(t.__e=c,t.__u|=l?160:32,o[o.indexOf(c)]=null):(t.__e=s.__e,t.__k=s.__k),i.__e(e,t,s)}else null==o&&t.__v===s.__v?(t.__k=s.__k,t.__e=s.__e):t.__e=z(s.__e,t,s,r,n,o,a,l,u);(v=i.diffed)&&v(t)}function L(e,t,s){t.__d=void 0;for(var r=0;r<s.length;r++)D(s[r],s[++r],s[++r]);i.__c&&i.__c(t,e),e.some((function(t){try{e=t.__h,t.__h=[],e.some((function(e){e.call(t)}))}catch(e){i.__e(e,t.__v)}}))}function z(e,t,s,i,n,o,a,c,l){var u,v,d,p,h,g,f,y=s.props,w=t.props,x=t.type;if("svg"===x&&(n=!0),null!=o)for(u=0;u<o.length;u++)if((h=o[u])&&"setAttribute"in h==!!x&&(x?h.localName===x:3===h.nodeType)){e=h,o[u]=null;break}if(null==e){if(null===x)return document.createTextNode(w);e=n?document.createElementNS("http://www.w3.org/2000/svg",x):document.createElement(x,w.is&&w),o=null,c=!1}if(null===x)y===w||c&&e.data===w||(e.data=w);else{if(o=o&&r.call(e.childNodes),y=s.props||_,!c&&null!=o)for(y={},u=0;u<e.attributes.length;u++)y[(h=e.attributes[u]).name]=h.value;for(u in y)h=y[u],"children"==u||("dangerouslySetInnerHTML"==u?d=h:"key"===u||u in w||C(e,u,null,h,n));for(u in w)h=w[u],"children"==u?p=h:"dangerouslySetInnerHTML"==u?v=h:"value"==u?g=h:"checked"==u?f=h:"key"===u||c&&"function"!=typeof h||y[u]===h||C(e,u,h,y[u],n);if(v)c||d&&(v.__html===d.__html||v.__html===e.innerHTML)||(e.innerHTML=v.__html),t.__k=[];else if(d&&(e.innerHTML=""),O(e,m(p)?p:[p],t,s,i,n&&"foreignObject"!==x,o,a,o?o[0]:s.__k&&S(s,0),c,l),null!=o)for(u=o.length;u--;)null!=o[u]&&b(o[u]);c||(u="value",void 0!==g&&(g!==e[u]||"progress"===x&&!g||"option"===x&&g!==y[u])&&C(e,u,g,y[u],!1),u="checked",void 0!==f&&f!==e[u]&&C(e,u,f,y[u],!1))}return e}function D(e,t,s){try{"function"==typeof e?e(t):e.current=t}catch(e){i.__e(e,s)}}function q(e,t,s){var r,n;if(i.unmount&&i.unmount(e),(r=e.ref)&&(r.current&&r.current!==e.__e||D(r,null,t)),null!=(r=e.__c)){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(e){i.__e(e,t)}r.base=r.__P=null,e.__c=void 0}if(r=e.__k)for(n=0;n<r.length;n++)r[n]&&q(r[n],t,s||"function"!=typeof e.type);s||null==e.__e||b(e.__e),e.__=e.__e=e.__d=void 0}function $(e,t,s){return this.constructor(e,s)}function H(e,t,s){var n,o,a,c;i.__&&i.__(e,t),o=(n="function"==typeof s)?null:s&&s.__k||t.__k,a=[],c=[],F(t,e=(!n&&s||t).__k=g(w,null,[e]),o||_,_,void 0!==t.ownerSVGElement,!n&&s?[s]:o?null:t.firstChild?r.call(t.childNodes):null,a,!n&&s?s:o?o.__e:t.firstChild,n,c),L(a,e,c)}function U(e,t){H(e,t,U)}function B(e,t,s){var i,n,o,a,c=h({},e.props);for(o in e.type&&e.type.defaultProps&&(a=e.type.defaultProps),t)"key"==o?i=t[o]:"ref"==o?n=t[o]:c[o]=void 0===t[o]&&void 0!==a?a[o]:t[o];return arguments.length>2&&(c.children=arguments.length>3?r.call(arguments,2):s),f(e.type,c,i||e.key,n||e.ref,null)}function W(e,t){var s={__c:t="__cC"+v++,__:e,Consumer:function(e,t){return e.children(t)},Provider:function(e){var s,r;return this.getChildContext||(s=[],(r={})[t]=this,this.getChildContext=function(){return r},this.shouldComponentUpdate=function(e){this.props.value!==e.value&&s.some((function(e){e.__e=!0,M(e)}))},this.sub=function(e){s.push(e);var t=e.componentWillUnmount;e.componentWillUnmount=function(){s.splice(s.indexOf(e),1),t&&t.call(e)}}),e.children}};return s.Provider.__=s.Consumer.contextType=s}r=d.slice,i={__e:function(e,t,s,r){for(var i,n,o;t=t.__;)if((i=t.__c)&&!i.__)try{if((n=i.constructor)&&null!=n.getDerivedStateFromError&&(i.setState(n.getDerivedStateFromError(e)),o=i.__d),null!=i.componentDidCatch&&(i.componentDidCatch(e,r||{}),o=i.__d),o)return i.__E=i}catch(t){e=t}throw e}},n=0,o=function(e){return null!=e&&null==e.constructor},x.prototype.setState=function(e,t){var s;s=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=h({},this.state),"function"==typeof e&&(e=e(h({},s),this.props)),e&&h(s,e),null!=e&&this.__v&&(t&&this._sb.push(t),M(this))},x.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),M(this))},x.prototype.render=w,a=[],l="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,u=function(e,t){return e.__v.__b-t.__v.__b},A.__r=0,v=0},379:e=>{"use strict";var t=[];function s(e){for(var s=-1,r=0;r<t.length;r++)if(t[r].identifier===e){s=r;break}return s}function r(e,r){for(var n={},o=[],a=0;a<e.length;a++){var c=e[a],l=r.base?c[0]+r.base:c[0],u=n[l]||0,v="".concat(l," ").concat(u);n[l]=u+1;var _=s(v),d={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==_)t[_].references++,t[_].updater(d);else{var p=i(d,r);r.byIndex=a,t.splice(a,0,{identifier:v,updater:p,references:1})}o.push(v)}return o}function i(e,t){var s=t.domAPI(t);s.update(e);return function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;s.update(e=t)}else s.remove()}}e.exports=function(e,i){var n=r(e=e||[],i=i||{});return function(e){e=e||[];for(var o=0;o<n.length;o++){var a=s(n[o]);t[a].references--}for(var c=r(e,i),l=0;l<n.length;l++){var u=s(n[l]);0===t[u].references&&(t[u].updater(),t.splice(u,1))}n=c}}},569:e=>{"use strict";var t={};e.exports=function(e,s){var r=function(e){if(void 0===t[e]){var s=document.querySelector(e);if(window.HTMLIFrameElement&&s instanceof window.HTMLIFrameElement)try{s=s.contentDocument.head}catch(e){s=null}t[e]=s}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(s)}},216:e=>{"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},565:(e,t,s)=>{"use strict";e.exports=function(e){var t=s.nc;t&&e.setAttribute("nonce",t)}},795:e=>{"use strict";e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(s){!function(e,t,s){var r="";s.supports&&(r+="@supports (".concat(s.supports,") {")),s.media&&(r+="@media ".concat(s.media," {"));var i=void 0!==s.layer;i&&(r+="@layer".concat(s.layer.length>0?" ".concat(s.layer):""," {")),r+=s.css,i&&(r+="}"),s.media&&(r+="}"),s.supports&&(r+="}");var n=s.sourceMap;n&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(n))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,s)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},589:e=>{"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},378:(e,t,s)=>{var r=s(400);function i(e,t){for(var s in t)e[s]=t[s];return e}function n(e){this.getChildContext=function(){return{store:e.store}}}n.prototype.render=function(e){return e.children&&e.children[0]||e.children},t.$=function(e,t){var s;return"function"!=typeof e&&("string"==typeof(s=e||{})&&(s=s.split(/\s*,\s*/)),e=function(e){for(var t={},r=0;r<s.length;r++)t[s[r]]=e[s[r]];return t}),function(s){function n(n,o){var a=this,c=o.store,l=e(c?c.getState():{},n),u=t?function(e,t){"function"==typeof e&&(e=e(t));var s={};for(var r in e)s[r]=t.action(e[r]);return s}(t,c):{store:c},v=function(){var t=e(c?c.getState():{},n);for(var s in t)if(t[s]!==l[s])return l=t,a.setState({});for(var r in l)if(!(r in t))return l=t,a.setState({})};this.componentWillReceiveProps=function(e){n=e,v()},this.componentDidMount=function(){c.subscribe(v)},this.componentWillUnmount=function(){c.unsubscribe(v)},this.render=function(e){return r.h(s,i(i(i({},u),e),l))}}return(n.prototype=new r.Component).constructor=n}},t.z=n},616:e=>{function t(e,t){for(var s=0;s<t.length;s++){var r=t[s];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,n(r.key),r)}}function s(e,t,s){return(t=n(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var s=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=s){var r,i,n,o,a=[],c=!0,l=!1;try{if(n=(s=s.call(e)).next,0===t){if(Object(s)!==s)return;c=!1}else for(;!(c=(r=n.call(s)).done)&&(a.push(r.value),a.length!==t);c=!0);}catch(e){l=!0,i=e}finally{try{if(!c&&null!=s.return&&(o=s.return(),Object(o)!==o))return}finally{if(l)throw i}}return a}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var s=Object.prototype.toString.call(e).slice(8,-1);"Object"===s&&e.constructor&&(s=e.constructor.name);if("Map"===s||"Set"===s)return Array.from(e);if("Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return i(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var s=0,r=new Array(t);s<t;s++)r[s]=e[s];return r}function n(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var r=s.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}function o(e,t){return function(e,t){if(t.get)return t.get.call(e);return t.value}(e,c(e,t,"get"))}function a(e,t,s){return function(e,t,s){if(t.set)t.set.call(e,s);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=s}}(e,c(e,t,"set"),s),s}function c(e,t,s){if(!t.has(e))throw new TypeError("attempted to "+s+" private field on non-instance");return t.get(e)}function l(e,t,s){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return s}function u(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function v(e,t,s){u(e,t),t.set(e,s)}function _(e,t){u(e,t),t.add(e)}var d=[" daum[ /]"," deusu/"," yadirectfetcher","(?:^| )site","(?:^|[^g])news","@[a-z]","\\(at\\)[a-z]","\\(github\\.com/","\\[at\\][a-z]","^12345","^<","^[\\w \\.\\-\\(\\)]+(/v?\\d+(\\.\\d+)?(\\.\\d{1,10})?)?$","^[^ ]{50,}$","^active","^ad muncher","^amaya","^anglesharp/","^anonymous","^avsdevicesdk/","^axios/","^bidtellect/","^biglotron","^btwebclient/","^castro","^clamav[ /]","^client/","^cobweb/","^coccoc","^custom","^ddg[_-]android","^discourse","^dispatch/\\d","^downcast/","^duckduckgo","^facebook","^fdm[ /]\\d","^getright/","^gozilla/","^hatena","^hobbit","^hotzonu","^hwcdn/","^jeode/","^jetty/","^jigsaw","^linkdex","^lwp[-: ]","^metauri","^microsoft bits","^movabletype","^mozilla/\\d\\.\\d \\(compatible;?\\)$","^mozilla/\\d\\.\\d \\w*$","^navermailapp","^netsurf","^offline explorer","^php","^postman","^postrank","^python","^read","^reed","^restsharp/","^snapchat","^space bison","^svn","^swcd ","^taringa","^test certificate info","^thumbor/","^tumblr/","^user-agent:mozilla","^valid","^venus/fedoraplanet","^w3c","^webbandit/","^webcopier","^wget","^whatsapp","^xenu link sleuth","^yahoo","^yandex","^zdm/\\d","^zoom marketplace/","^{{.*}}$","adbeat\\.com","appinsights","archive","ask jeeves/teoma","bit\\.ly/","bluecoat drtr","bot","browsex","burpcollaborator","capture","catch","check","chrome-lighthouse","chromeframe","cloud","crawl","cryptoapi","dareboost","datanyze","dataprovider","dejaclick","dmbrowser","download","evc-batch/","feed","firephp","freesafeip","gomezagent","google","headlesschrome/","http","httrack","hubspot marketing grader","hydra","ibisbrowser","images","inspect","iplabel","ips-agent","java","library","mail\\.ru/","manager","monitor","morningscore/","neustar wpm","nutch","offbyone","optimize","pageburst","pagespeed","perl","phantom","pingdom","powermarks","preview","proxy","ptst[ /]\\d","reader","rexx;","rigor","rss","scan","scrape","search","serp ?reputation ?management","server","sogou","sparkler/","speedcurve","spider","splash","statuscake","stumbleupon\\.com","supercleaner","synapse","synthetic","torrent","tracemyfile","transcoder","trendsmapresolver","twingly recon","url","virtuoso","wappalyzer","webglance","webkit2png","websitemetadataretriever","whatcms/","wordpress","zgrab"];!function(e){try{new RegExp("(?<! cu)bot").test("dangerbot")}catch(t){return e}[["bot","(?<! cu)bot"],["google","(?<! (?:channel/|google/))google(?!(app|/google| pixel))"],["http","(?<!(?:lib))http"],["java","java(?!;)"],["search","(?<! ya(?:yandex)?)search"]].forEach((function(t){var s=r(t,2),i=s[0],n=s[1],o=e.lastIndexOf(i);~o&&e.splice(o,1,n)}))}(d);var p=new WeakMap,m=new WeakMap,h=new WeakSet,b=new WeakSet;function g(){a(this,m,new RegExp(o(this,p).join("|"),"i"))}function f(e){return o(this,p).indexOf(e.toLowerCase())}var y=new(function(){function e(t){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),_(this,b),_(this,h),v(this,p,{writable:!0,value:void 0}),v(this,m,{writable:!0,value:void 0}),a(this,p,t||d.slice()),l(this,h,g).call(this);return Object.defineProperties((function(e){return i.test(e)}),Object.entries(Object.getOwnPropertyDescriptors(e.prototype)).reduce((function(e,t){var n=r(t,2),o=n[0],a=n[1];return"function"==typeof a.value&&Object.assign(e,s({},o,{value:i[o].bind(i)})),"function"==typeof a.get&&Object.assign(e,s({},o,{get:function(){return i[o]}})),e}),{}))}var i,n,c;return i=e,n=[{key:"pattern",get:function(){return new RegExp(o(this,m))}},{key:"test",value:function(e){return Boolean(e)&&o(this,m).test(e)}},{key:"find",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").match(o(this,m));return e&&e[0]}},{key:"matches",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return o(this,p).filter((function(t){return new RegExp(t,"i").test(e)}))}},{key:"clear",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.exclude(this.matches(e))}},{key:"extend",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];[].push.apply(o(this,p),t.filter((function(t){return-1===l(e,b,f).call(e,t)})).map((function(e){return e.toLowerCase()}))),l(this,h,g).call(this)}},{key:"exclude",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=e.length;t--;){var s=l(this,b,f).call(this,e[t]);s>-1&&o(this,p).splice(s,1)}l(this,h,g).call(this)}},{key:"spawn",value:function(t){return new e(t||o(this,p))}}],n&&t(i.prototype,n),c&&t(i,c),Object.defineProperty(i,"prototype",{writable:!1}),e}());e.exports=y}},t={};function s(r){var i=t[r];if(void 0!==i)return i.exports;var n=t[r]={id:r,exports:{}};return e[r].call(n.exports,n,n.exports,s),n.exports}s.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return s.d(t,{a:t}),t},s.d=(e,t)=>{for(var r in t)s.o(t,r)&&!s.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),s.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.nc=void 0;var r={};return(()=>{"use strict";var e;s.d(r,{default:()=>na}),function(e){e.questionAnswered="question_answered",e.surveyDisplayed="survey_displayed",e.surveyCompleted="survey_completed",e.surveyClosed="survey_closed"}(e||(e={}));const t=new class{constructor(){this.lastEventId=0,this.listeners={[e.questionAnswered]:[],[e.surveyClosed]:[],[e.surveyCompleted]:[],[e.surveyDisplayed]:[]}}add(e,t){if(this.lastEventId+=1,!this.listeners[e])throw new Error("Event Listeners: Wrong event name.");return this.listeners[e].push({callback:t,id:this.lastEventId}),this.lastEventId}removeEventById(t){const s=e=>e.id!==t;this.listeners[e.questionAnswered]=this.listeners[e.questionAnswered].filter(s),this.listeners[e.surveyDisplayed]=this.listeners[e.surveyDisplayed].filter(s),this.listeners[e.surveyCompleted]=this.listeners[e.surveyCompleted].filter(s),this.listeners[e.surveyClosed]=this.listeners[e.surveyClosed].filter(s)}removeAllEventListenersByName(e){if(!this.listeners[e])throw new Error("Event listeners of this name cannot be removed: wrong event name.");this.listeners[e]=[]}remove(e){"number"!=typeof e?this.removeAllEventListenersByName(e):this.removeEventById(e)}fireEvent(t,s){this.listeners[t].forEach((({callback:r})=>{const{surveyId:i,questionId:n,answer:o}=s;try{t===e.questionAnswered&&n&&o?r(i,n,o):r(i,o)}catch(e){console.error(`Your callback function to Survicate '${t}' event returned an error: ${e}`)}}))}};var i,n,o,a,c,l,u,v,_,d,p,m,h;!function(e){e.light="light",e.dark="dark"}(i||(i={})),function(e){e.immediately="immediately",e.delayed="delayed",e.exitIntent="leaveintent",e.scroll="scroll",e.event="event"}(n||(n={})),function(e){e.immediately="immediately",e.delayed="delayed",e.exitIntent="exitIntent",e.scroll="onScroll"}(o||(o={})),function(e){e.center="center",e.dialog="dialog",e.fullscreen="fullscreen",e.left="left",e.right="right",e.topLeft="topleft",e.topRight="topright"}(a||(a={})),function(e){e.visit="visit",e.visitor="visitor"}(c||(c={})),function(e){e[e.none=0]="none",e[e.expired=1]="expired",e[e.notExpired=2]="notExpired",e[e.recurringStopped=3]="recurringStopped"}(l||(l={}));class b{static ruleFulfilled(e,t,s){if(!e)return!0;if(this.isSurveyInteractionActive(e,s.initialSurveysEngagement,{checkRecurringLifespan:!0}))return!1;if(this.isSurveyInteractionActive(e,s.engagedSurveys))return!1;const r=this.findInteractionStatus(e,s.engagedSurveys)===l.none,i=this.isNotExpiredPerVisit(e,t)||this.isNotExpiredPerVisitor(e,s);return(!r||!i)&&(!e.settings.display_not_engaged||!t.engaged)}static findInteractionStatus(e,t,s){var r;if(!Array.isArray(t)||!(null==t?void 0:t.length)||!e)return l.none;const i=null==e?void 0:e.settings,n=t.find((t=>(t.surveyId||t)===e.id));if(!n)return l.none;if(i.recurring&&!(null==s?void 0:s.skipRecurringCheck)){if(null==s?void 0:s.checkRecurringLifespan){const e=1e3*(null!==(r=i.recurring_stop_after)&&void 0!==r?r:0);if(e>0&&n.timestamp+e<=Date.now())return l.recurringStopped}const e=1e3*i.recurring_period;if(n.timestamp+e<=Date.now())return l.expired}return l.notExpired}static isSurveyInteractionActive(e,t,s){const r=this.findInteractionStatus(e,t,s);return r===l.notExpired||r===l.recurringStopped}static isNotExpiredPerVisit(e,t){return e.settings.display_per===c.visit&&this.findInteractionStatus(e,t.displayedSurveys,{skipRecurringCheck:!0})===l.notExpired}static isNotExpiredPerVisitor(e,t){return e.settings.display_per===c.visitor&&this.findInteractionStatus(e,t.displayedSurveys,{skipRecurringCheck:!0})===l.notExpired}}!function(e){e.on="on",e.before="before",e.after="after"}(u||(u={})),function(e){e.exact="exact",e.any="any",e.is_not_equal="is_not_equal",e.is_equal="is_equal",e.is_between="is_between",e.is_not_between="is_not_between",e.is_on_the_date="is_on_the_date",e.is_earlier_than="is_earlier_than",e.is_later_than="is_later_than",e.is_less_than="is_less_than",e.is_less_than_or_equal="is_less_than_or_equal",e.is_true="is_true",e.is_false="is_false",e.is_greater_than="is_greater_than",e.is_greater_than_or_equal="is_greater_than_or_equal",e.contains="contains",e.does_not_contain="does_not_contain"}(v||(v={})),function(e){e.and="and",e.or="or"}(_||(_={})),function(e){e.all="All",e.mobile="Mobile",e.desktop="Desktop"}(d||(d={})),function(e){e.identified="identified",e.unidentified="unidentified"}(p||(p={})),function(e){e.search="search",e.referral="referral",e.direct="direct",e.utm="utm"}(m||(m={})),function(e){e.attributes="attributes",e.browser="browser",e.cookies="cookies",e.device="device",e.languages="languages",e.loggedInStatus="logged_in_status",e.operatingSystem="operating_system",e.optimizely="optimizely",e.tags="tags",e.visitDepth="visit_depth",e.visitedUrls="visited_urls",e.visitFrequency="visit_frequency",e.visitSource="visit_source"}(h||(h={}));const g=new class{constructor(){this.userAgent="",this.resetUserAgent()}isAppleOS(){return!!this.userAgent.match(/Mac/i)}isWidthMobile(){return!!window.innerWidth&&window.innerWidth<768}isBrowserIE(){return this.userAgent.includes("MSIE")||!!this.userAgent.match(/Trident.*rv\:11\./)}hasHover(){return!this.isDeviceMobileOrTablet()}isDeviceMobileOrTablet(e=""){let t=!1;return function(e){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)))&&(t=!0)}(e||this.userAgent),t}resetUserAgent(e){const t=e||window;this.userAgent=t.navigator.userAgent||t.navigator.vendor||t.opera}};class f{static ruleFulfilled({type:e},{visit:t}){return e===d.all||(e===d.mobile?this.isMobile(t.user_agent):!this.isMobile(t.user_agent))}static isMobile(e){return g.isDeviceMobileOrTablet(e)}}class y{static ruleFulfilled({list:e},{visit:t}){return e.some((e=>t.language.startsWith(e)))}}class w{static ruleFulfilled({type:e},{visitor:t}){const s=t.identities&&t.identities.api&&t.identities.api.id,r=t.attributes.email;return e===p.identified==!(!s&&!r)}}class x{static ruleFulfilled({experiment_id:e,variation_name:t},{visit:s}){return new Promise((r=>{e&&t.type||r(!0);let i=0;const n=setInterval((()=>{if(i+=100,i>=8e3)return clearInterval(n),r(!1);const o=s.optimizelyState||window.optimizely&&window.optimizely.get&&window.optimizely.get("state");if(!o)return!1;if(!o.getVariationMap)return clearInterval(n),r(!1);const a=o.getVariationMap();return a[e]?"any"===t.type?(clearInterval(n),r(!0)):(clearInterval(n),void r(a[e].name===t.value)):(clearInterval(n),r(!1))}),100)}))}}class S{static ruleFulfilled({list:e},{visitor:t}){return e.some((e=>t.tags.includes(e)))}}class k{static ruleFulfilled({count:e},{visit:t}){return e<t.views.length}}class M{static ruleFulfilled({urls:e},{visit:t}){return e.some((e=>t.views.some((t=>new RegExp(e.regexp_text_pattern).test(t.replace(/^(?:https?:\/\/)?(?:www\.)?/i,""))))))}}class A{static ruleFulfilled({count:e},{visitor:t}){return 0===e?1===t.visitsCount:e<t.visitsCount}}var O=function(e,t,s,r){return new(s||(s=Promise))((function(i,n){function o(e){try{c(r.next(e))}catch(e){n(e)}}function a(e){try{c(r.throw(e))}catch(e){n(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))};const N=e=>({get:t=>O(void 0,void 0,void 0,(function*(){return{data:(yield window.fetch(`${e}${t}`,{headers:{"Content-Type":"application/json"},method:"GET"})).clone().json()}})),post:(t,s)=>O(void 0,void 0,void 0,(function*(){return window.fetch(`${e}${t}`,{body:JSON.stringify(s),headers:{"Content-Type":"application/json"},method:"POST"})}))});var T=function(e,t,s,r){return new(s||(s=Promise))((function(i,n){function o(e){try{c(r.next(e))}catch(e){n(e)}}function a(e){try{c(r.throw(e))}catch(e){n(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))};class P{static ruleFulfilled({type:e,urls:t,campaign:s},{visit:r}){switch(e){case m.direct:return!r.referrerUrl;case m.referral:return t.some((e=>new RegExp(e.regexp_text_pattern).test(r.referrerUrl.replace(/^(?:https?:\/\/)?(?:www\.)?/i,""))));case m.utm:return this.isUTMCorrect(s,r);case m.search:return this.isReferrerSearchEngine(r.referrerUrl)}return!0}static isReferrerSearchEngine(e){return T(this,void 0,void 0,(function*(){const{data:t}=yield N("https://surveys-static.survicate.com").get("/data/search_engine_regexes.json");if(!e||!t.length)return!1;for(let s=0;s<t.length;s+=1){if(new RegExp(t[s]).test(e))return!0}return!1}))}static isUTMCorrect(e,t){return this.isUTMParameterValid(e.medium,"utm_medium",t)&&this.isUTMParameterValid(e.content,"utm_content",t)&&this.isUTMParameterValid(e.name,"utm_campaign",t)&&this.isUTMParameterValid(e.source,"utm_source",t)&&this.isUTMParameterValid(e.term,"utm_term",t)}static isUTMParameterValid(e,t,s){if(!e.length)return!0;const r=this.getParameterByName(t,s.initialUrl);return e.some((e=>e===r))}static getParameterByName(e,t){const s=e.replace(/[\[\]]/g,"\\$&"),r=new RegExp(`[?&]${s}(=([^&#]*)|&|#|$)`).exec(t);return r?r[2]?decodeURIComponent(r[2].replace(/\+/g," ")):"":null}}var I,E,C=s(422);!function(e){e.and="and",e.or="or"}(I||(I={})),function(e){e.is="is",e.is_not="is_not",e.is_between="is_between",e.is_exactly="is_exactly",e.includes_any_of_the_following="includes_any_of_the_following",e.includes_all_of_the_following="includes_all_of_the_following",e.doesnt_include_any_of_the_following="doesnt_include_any_of_the_following",e.question_is_answered="question_is_answered",e.question_is_not_answered="question_is_not_answered",e.answer_contains="answer_contains",e.answer_doesnt_contain="answer_doesnt_contain",e.has_any_value="has_any_value",e.is_filled_in="is_filled_in",e.is_not_filled_in="is_not_filled_in",e.is_ranked_as="is_ranked_as",e.is_not_ranked_as="is_not_ranked_as",e.is_ranked_between="is_ranked_between"}(E||(E={}));const j=(e,{value:t,operator:s,condition:r})=>{const i=t.map((e=>`${e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}`)),n=e.toLowerCase(),o=(e=>e.map((e=>{const t=e.toLowerCase(),s=/^[a-z0-9]/i.test(e),r=/[a-z0-9]$/i.test(e),i=/^[a-z0-9].*[a-z0-9]$/i.test(e);return!s&&r?new RegExp(`\\B${t}\\b`):s&&!r?new RegExp(`\\b${t}\\B`):!i&&t.length>1?new RegExp(`\\B${t}\\B`):new RegExp(`\\b${t}\\b`)})))(i),a=o.every((e=>!!e.exec(n))),c=o.some((e=>!!e.exec(n)));return s===I.and?r===E.answer_contains?a:c:r===E.answer_contains?c:a},R=(e,t)=>{const[s,r]=e;return t>=s&&t<=r};class F{static compareDates(e,t,s){switch(e){case u.on:return t===s;case u.before:return t>s;case u.after:return t<s}}static isEqual(e,t){return e.some((e=>e===t))}static isNotEqual(e,t){return e.every((e=>e!==t))}static isLessThan(e,t){return t<e}static isLessThanOrEqual(e,t){return t<=e}static isGreaterThan(e,t){return t>e}static isGreaterThanOrEqual(e,t){return t>=e}static getTimeThreshold(e){return(new Date).getTime()-e}}const L=e=>e instanceof Date?e:new Date(e.toString()),z=(e,t)=>{switch(t){case"number":return Number(e);case"boolean":return e;case"datetime":return"string"==typeof e&&/\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}(\.\d+)?(([+-]\d{2}:\d{2})|Z)/.test(e)?e.slice(0,10):"[object Date]"===Object.prototype.toString.call(e)?e.toISOString().slice(0,10):(console.error("Invalid datetime attribute. Please provide date in ISO string or Date object."),null);case"time_interval":return"number"==typeof e?e:L(e).getTime();default:return String(e).trim()}};class D{static ruleFulfilled({attributes:e,relation:t},{visitor:s}){var r,i;const n=Object.assign({},s.attributes);(null===(i=null===(r=null==s?void 0:s.identities)||void 0===r?void 0:r.api)||void 0===i?void 0:i.id)&&(n[C.USER_ID_TRAIT]=s.identities.api.id);const o=({name:e,operator:t,values:s,attribute_type:r})=>{if(t===v.any)return e in n;if(!s||!Object.keys(n).length||!(e in n))return!1;const i=z(n[e],r);if(null===i)return!1;const o=s.map((e=>z(e,r))).filter((e=>null!==e));if(!o.length)return!1;if((t===v.is_between||t===v.is_not_between)&&o.length<2)return console.error("Not enough values for 'is_between' checks"),!1;switch(t){case v.is_equal:return F.isEqual(o,i);case v.is_not_equal:return F.isNotEqual(o,i);case v.is_between:return R([o[0],o[1]],i);case v.is_not_between:return!R([o[0],o[1]],i);case v.is_on_the_date:return F.compareDates(u.on,o[0],i);case v.is_earlier_than:return F.compareDates(u.before,o[0],i);case v.is_later_than:return F.compareDates(u.after,o[0],i);case v.is_less_than:return"time_interval"===r?F.compareDates(u.after,F.getTimeThreshold(o[0]),i):F.isLessThan(o[0],i);case v.is_less_than_or_equal:return F.isLessThanOrEqual(o[0],i);case v.is_true:return!0===i;case v.is_false:return!1===i;case v.is_greater_than:return"time_interval"===r?F.compareDates(u.before,F.getTimeThreshold(o[0]),i):F.isGreaterThan(o[0],i);case v.is_greater_than_or_equal:return F.isGreaterThanOrEqual(o[0],i);case v.contains:return j(i,{condition:E.answer_contains,operator:I.or,value:o});case v.does_not_contain:return!j(i,{condition:E.answer_contains,operator:I.and,value:o});default:return console.error(`Unsupported OperatorType: ${t}`),!1}};return t===_.and?e.every(o):e.some(o)}}function q(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var r in s)e[r]=s[r]}return e}var $=function e(t,s){function r(e,r,i){if("undefined"!=typeof document){"number"==typeof(i=q({},s,i)).expires&&(i.expires=new Date(Date.now()+864e5*i.expires)),i.expires&&(i.expires=i.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var n="";for(var o in i)i[o]&&(n+="; "+o,!0!==i[o]&&(n+="="+i[o].split(";")[0]));return document.cookie=e+"="+t.write(r,e)+n}}return Object.create({set:r,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var s=document.cookie?document.cookie.split("; "):[],r={},i=0;i<s.length;i++){var n=s[i].split("="),o=n.slice(1).join("=");try{var a=decodeURIComponent(n[0]);if(r[a]=t.read(o,a),e===a)break}catch(e){}}return e?r[e]:r}},remove:function(e,t){r(e,"",q({},t,{expires:-1}))},withAttributes:function(t){return e(this.converter,q({},this.attributes,t))},withConverter:function(t){return e(q({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(s)},converter:{value:Object.freeze(t)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"});class H{static isCookieFulfilled({name:e,operator:t,values:s}){const r=$.get(e);return t===v.is_equal&&(null==s?void 0:s.length)?s.some((e=>`${r}`==`${e}`)):!!r}static ruleFulfilled({cookies:e,relation:t}){return t===_.and?e.every((e=>H.isCookieFulfilled(e))):e.some((e=>H.isCookieFulfilled(e)))}}var U=function(e,t,s,r){return new(s||(s=Promise))((function(i,n){function o(e){try{c(r.next(e))}catch(e){n(e)}}function a(e){try{c(r.throw(e))}catch(e){n(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))};class B{static areFulfilled({audiences:e,survey:t,visit:s,visitor:r}){return U(this,void 0,void 0,(function*(){const i=e.filter((e=>t.audiences_ids.includes(e.id)));return(yield Promise.all(i.map((e=>U(this,void 0,void 0,(function*(){return(yield this.isUserInAudience(e,{visit:s,visitor:r}))?e:null})))))).filter((e=>null!==e)).length>0}))}static isUserInAudience(e,t){return U(this,void 0,void 0,(function*(){const s=yield Promise.all(e.filters.map((e=>this.userPassesRule(e,t))));return e.filters_relation===_.and?s.every((e=>e)):s.some((e=>e))}))}static userPassesRule(e,t){return U(this,void 0,void 0,(function*(){const s={[h.attributes]:D,[h.cookies]:H,[h.device]:f,[h.languages]:y,[h.loggedInStatus]:w,[h.tags]:S,[h.visitDepth]:k,[h.visitedUrls]:M,[h.visitFrequency]:A,[h.visitSource]:P,[h.optimizely]:x}[e.name];if(!s)return!0;return(yield s.ruleFulfilled(e.parameters,t))!==e.exclude}))}}class W{static ruleFulfilled(e,t,s){const r=s.href.replace("://www.","://").replace(`${s.protocol}//`,"");if(e)return!0;const i=t.filter((e=>!e.visible&&!!e.link&&!!e.regexp_text_pattern));if(this.linksMatchUrl(i,s.href,r))return!1;const n=t.filter((e=>e.visible&&!!e.link&&!!e.regexp_text_pattern));return!n.length||this.linksMatchUrl(n,s.href,r)}static linksMatchUrl(e,t,s){for(let r=0;r<e.length;r+=1){const i=new RegExp(e[r].regexp_text_pattern);if(i.test(t)||i.test(s))return!0}return!1}}var V=s(206),G=s.n(V);const K=e=>{try{return JSON.parse(e)}catch(t){return e}},Y={storage:{},getItem(e){return this.storage[e]},setItem(e,t){this.storage[e]=t},removeItem(e){return delete this.storage[e]}};var Z,Q;!function(e){e.requests="requests",e.status="status",e.all="all"}(Z||(Z={})),function(e){e.visitor="visitor",e.requestHandler="requestHandler"}(Q||(Q={}));const J=`survi::${(window._svc||{}).workspaceKey}::`;let X;try{X=window.localStorage,X.setItem("test_key","value"),X.removeItem("test_key")}catch(gn){X=Y}class ee{static each(e){const t=X.storage?X.storage:X;Object.keys(t).forEach((t=>{const s=ee.get(t,!0);e(s,t)}))}static get(e,t=!1){const s=t?"":J;return K(X.getItem(`${s}${e}`))}static set(e,t,s=!1){const r=s?"":J;try{return X.setItem(`${r}${e}`,JSON.stringify(t))}catch(s){X=Y,this.copyCurrentLSAndRemoveRequests(window.localStorage),X.setItem(`${r}${e}`,JSON.stringify(t))}}static remove(e,t=!1){const s=t?"":J;return X.removeItem(`${s}${e}`)}static copyCurrentLSAndRemoveRequests(e){Object.entries(e).forEach((([e,t])=>{e.includes(J)&&(X.setItem(e,t),this.removeRequestsFromWindowLS(e))}))}}ee.removeRequestsFromWindowLS=e=>{e.includes(`${J}${Z.requests}`)&&window.localStorage.removeItem(e)};const te={storage:{},getItem(e){return this.storage[e]},setItem(e,t){this.storage[e]=t},removeItem(e){return delete this.storage[e]}},se=`survi::${(window._svc||{}).workspaceKey}::`;let re;try{re=window.sessionStorage,re.setItem("test_key","value"),re.removeItem("test_key")}catch(gn){re=te}const ie=class{static get(e){return K(re.getItem(se+e))}static set(e,t){re.setItem(se+e,JSON.stringify(t))}static remove(e){re.removeItem(se+e)}};var ne,oe,ae,ce,le;function ue(e,t){for(var s in t)e[s]=t[s];return e}!function(e){e.referrerUrl="visitReferrerUrl",e.initialUrl="visitInitialUrl",e.displayedSurveys="visitDisplayedSurveys",e.views="visitViews",e.engaged="visitEngaged",e.answers="visitAnswers",e.sampledSurveys="visitSampledSurveys"}(ne||(ne={})),function(e){e.uuid="visitorUuid",e.attributes="visitorAttributes",e.engagedSurveys="visitorEngagedSurveys",e.displayedSurveys="visitorDisplayedSurveys",e.identities="visitorIdentities",e.tags="visitorTags",e.visitsCount="visitsCount"}(oe||(oe={})),function(e){e.requestHandler="requestHandler",e.savedVisitor="visitorSaved"}(ae||(ae={})),function(e){e.state="singleTabState",e.tabId="singleTabId"}(ce||(ce={})),function(e){e.errorSent="errorSent"}(le||(le={}));const ve={audiences:[],integrations:[],surveys:[],themes:[],workspaceKey:null};var _e;!function(e){e.empty="",e.mobile="mobile",e.tablet="tablet",e.desktop="desktop"}(_e||(_e={}));var de;!function(e){e.engaged="engagedSurveys",e.displayed="displayedSurveys"}(de||(de={}));const pe={attributes:{},displayedSurveys:[],engagedSurveys:[],identities:{},initialSurveysEngagement:[],tags:[],uuid:"",visitsCount:0},me={forceDisplay:void 0,isAlreadyAnswered:!1,isAnsweredByEmail:!1,isFinished:!1,isMinimized:!1,isOverlayActive:!1,pointsAnswered:{},pointsDisplayed:[],pointsForward:[],responseUuid:"",survey:null,theme:null,translationLanguage:null,translations:null,triggeredPointPreview:null},he=(_e.desktop,function(e){var t=[];function s(e){for(var s=[],r=0;r<t.length;r++)t[r]===e?e=null:s.push(t[r]);t=s}function r(s,r,i){e=r?s:ue(ue({},e),s);for(var n=t,o=0;o<n.length;o++)n[o](e,i)}return e=e||{},{action:function(t){function s(e){r(e,!1,t)}return function(){for(var r=arguments,i=[e],n=0;n<arguments.length;n++)i.push(r[n]);var o=t.apply(this,i);if(null!=o)return o.then?o.then(s):s(o)}},setState:r,subscribe:function(e){return t.push(e),function(){s(e)}},unsubscribe:s,getState:function(){return e}}}({backendData:ve,backendService:null,isKioskMode:!1,isPreview:!1,previewDevice:_e.empty,sampledSurveys:null,storageService:null,surveyApiState:{surveysTriggeredByApi:[]},surveyState:me,tabId:0,update:{},visitor:pe}));var be;!function(e){e.aid="aid",e.multiple_responses="multiple_responses",e.sid="sid",e.uid="uid",e.p="p",e.autofocus="autofocus"}(be||(be={}));const ge=new class{constructor(){this.params={},this.searchString=window.location.search.substring(1),this.url=this.getUrl(),this.params=this.searchString?this.getParams():{}}hasEncodedParams(){return!!this.parseParams(this.searchString)._svbep}decodeSearchString(){return atob(this.searchString.split("_svbep=")[1]).substring(1)}getParams(){return this.hasEncodedParams()?this.parseParams(this.decodeSearchString()):this.parseParams(this.searchString)}getPointId(){return this.getParams().pointId||null}getUrl(){const e=this.hasEncodedParams()?this.decodeSearchString():this.searchString;return`${window.location.origin}${window.location.pathname}${e?`?${e}`:""}${window.location.hash}`}parseParams(e){const t={};return e.split("&").forEach((e=>{const[s,r]=e.split("=");if(r)try{t[s]=decodeURIComponent(r)}catch(e){t[s]=unescape(r)}})),t}replaceWindowUrl(){if(he.getState().isPreview||this.hasEncodedParams()||!this.searchString)return;const e=`?${this.searchString}`,t="?_svbep=",s=e.includes(t)?t:`${t}${btoa(e)}`;window.history.replaceState({},"",s)}};const fe=new class{constructor(){this.referrerUrlFromStorage=ie.get(ne.referrerUrl),this.initialUrlFromStorage=ie.get(ne.initialUrl),this.visit={answers:this.getVisitAnswers(),device_type:this.getDeviceType(),displayedSurveys:this.getDisplayedSurveys(),engaged:this.getEngaged(),initialUrl:this.initialUrlFromStorage||ge.getUrl().replace(`${window.location.protocol}//`,""),language:window.navigator.language,operating_system:this.getOperatingSystem(),optimizelyState:window.optimizely&&window.optimizely.get&&window.optimizely.get("state"),referrerUrl:this.getReferrer(),sampledSurveys:this.getSampledSurveys(),user_agent:window.navigator.userAgent,views:this.getViews()},this.setCurrentView(),this.initialUrlFromStorage!==this.visit.initialUrl&&ie.set(ne.initialUrl,this.visit.initialUrl),this.referrerUrlFromStorage!==this.visit.referrerUrl&&ie.set(ne.referrerUrl,this.visit.referrerUrl)}get(){return this.visit}getVisitAnswers(){return ee.get(ne.answers)||{}}getAnswer(e){return this.visit.answers[e]}getDisplayedSurveys(){return ie.get(ne.displayedSurveys)||[]}getSampledSurveys(){return ie.get(ne.sampledSurveys)||[]}getReferrer(){return document.referrer}getDeviceType(){let e=(t=G().getParser(window.navigator.userAgent).getPlatformType()).charAt(0).toUpperCase()+t.slice(1);var t;return["Desktop","Tablet","Mobile","Tv"].includes(e)||(e=null),e}getOperatingSystem(){const e=G().getParser(window.navigator.userAgent).getOSName();return e?["Windows","macOS","iOS","Android","Linux","Chrome OS"].includes(e)?e:"Other":null}getViews(){return ie.get(ne.views)||[]}getEngaged(){return ie.get(ne.engaged)||!1}addAnswer(e,t){const s=Object.assign({},this.visit.answers);s[e]=t,this.visit.answers=s,ee.set(ne.answers,s)}setCurrentView(){this.visit.views.push(ge.getUrl().replace(`${window.location.protocol}//`,"")),ie.set(ne.views,this.visit.views)}setEngaged(){this.visit.engaged=!0,ie.set(ne.engaged,!0)}addDisplayedSurvey(e){const t=this.getDisplayedSurveys(),s={surveyId:e,timestamp:(new Date).getTime()},r=t.findIndex((t=>(t.surveyId||t)===e));-1!==r?t[r]=s:t.push(s),ie.set(ne.displayedSurveys,t),this.visit.displayedSurveys=t}addSampledSurvey(e,t){const s=this.getSampledSurveys(),r={sampled:t,surveyId:e},i=s.findIndex((t=>(t.surveyId||t)===e));-1!==i?s[i]=r:s.push(r),ie.set(ne.sampledSurveys,s),this.visit.sampledSurveys=s}resetVisit(){this.visit.answers={},this.visit.views=[],this.visit.displayedSurveys=[],this.visit.sampledSurveys=[],this.visit.engaged=!1,ie.remove(ne.engaged),ee.remove(ne.answers),ie.remove(ne.views),ie.remove(ne.displayedSurveys),ie.remove(ne.sampledSurveys),this.setCurrentView()}};class ye{static ruleFulfilled(e,{sampledSurveys:t}){if(e.settings.display_percentage>=100)return!0;const s=t.find((t=>(t.surveyId||t)===e.id));if(s)return s.sampled;const r=100*Math.random()<=e.settings.display_percentage;return fe.addSampledSurvey(e.id,r),r}}class we{static ruleFulfilled(e,t,s){var r;if(!e)return!0;const i=null!==(r=e.settings.recurring_max_views)&&void 0!==r?r:0;return!i||(e.settings.display_per===c.visit?s.visitsCount:t.views.length)<=i}}class xe{static areFulfilled({survey:e,visit:t,visitor:s}){return b.ruleFulfilled(e,t,s)&&we.ruleFulfilled(e,t,s)&&W.ruleFulfilled(e.settings.display_all,e.links,document.location)&&ye.ruleFulfilled(e,t)}}class Se{static ruleFulfilled(e,{delayed:t}){return e.settings.appear_method!==n.delayed||!!t&&e.settings.display_delay<=t}}class ke{static ruleFulfilled(e,{exitIntent:t}){return e.settings.appear_method!==n.exitIntent||!!t}}class Me{static ruleFulfilled(e,{scroll:t}){return e.settings.appear_method!==n.scroll||!!t&&e.settings.display_scroll<=t}}class Ae{static ruleFulfilled(e,{eventTrigger:t}){var s;const r=e.settings;if(r.appear_method!==n.event)return!0;const i=null!==(s=r.events)&&void 0!==s?s:[];return!(!i.length||!t)&&i.some((e=>t.name===e.name&&this.evaluateEventPropsMatch(t.properties,e)))}static evaluateEventPropsMatch(e,t){return!t.properties.length||this.compareEventProps(e,t)}static compareEventProps(e,t){if(!e)return!1;const s=Object.keys(e),r=t=>s.includes(t.name)&&e[t.name]===t.value,{relation:i,properties:n}=t;return i===_.and?n.every(r):n.some(r)}}class Oe{static areFulfilled(e,t){return ke.ruleFulfilled(e,t)&&Se.ruleFulfilled(e,t)&&Me.ruleFulfilled(e,t)&&Ae.ruleFulfilled(e,t)}}var Ne,Te;!function(e){e.exact="exact",e.regexp="regexp",e.end="end",e.simple="simple",e.contains="contains"}(Ne||(Ne={})),function(e){e.WidgetSurvey="WidgetSurvey",e.PageSurvey="PageSurvey",e.MobileSurvey="MobileSurvey",e.FeedbackButtonSurvey="FeedbackSurvey",e.IntercomSurvey="IntercomSurvey"}(Te||(Te={}));const Pe=e=>{if(!e||-1===[Te.WidgetSurvey,Te.PageSurvey].indexOf(e.type))return null;const{languages:t}=e.settings,s=window.navigator.language.substring(0,2);return(null==t?void 0:t.find((e=>e===s)))||null};var Ie,Ee,Ce=s(446),je=s.n(Ce),Re=s(911);!function(e){e.question="SurveyQuestion",e.nps="SurveyNps",e.form="SurveyForm",e.cta="SurveyCta"}(Ie||(Ie={})),function(e){e.seen="seen.json",e.answered="answered_v3.json"}(Ee||(Ee={}));const Fe=e=>({attributes:e.attributes,identities:e.identities,tags:e.tags,uuid:e.uuid});var Le,ze,De,qe,$e,He;!function(e){e.nps="nps"}(Le||(Le={})),function(e){e.default="default",e.horizontal="horizontal"}(ze||(ze={})),function(e){e.hearts="hearts",e.stars="stars",e.thumbs="thumbs"}(De||(De={})),function(e){e.day="DD",e.month="MM",e.year="YYYY"}(qe||(qe={})),function(e){e.single="single",e.multiple="multiple",e.text="text",e.smileyScale="smiley_scale",e.date="date",e.rating="rating",e.dropdown="dropdown_list",e.matrix="matrix",e.ranking="ranking",e.numericalScale="numerical_scale",e.customerSatisfaction="csat"}($e||($e={})),function(e){e.verySad="Extremely unsatisfied",e.sad="Unsatisfied",e.neutral="Neutral",e.happy="Happy",e.veryHappy="Extremely happy"}(He||(He={}));const Ue=(e,t)=>{const{answer_type:s,surveyId:r,questionId:i,textResponse:n}=t,o={answer_type:s};if(!e.length)return{questionId:i,surveyId:r};switch(s){case $e.smileyScale:case $e.rating:o.answer_value=n;break;case $e.single:case $e.dropdown:o.answer_id=e[0].survey_question_answer_id;break;case $e.multiple:o.answer_ids=e.map((e=>e.survey_question_answer_id));break;case $e.text:case $e.date:case Le.nps:o.answer_value=e[0].content}return{answer:o,questionId:i,surveyId:r}},Be=(e,t)=>e&&t?`${e};${t}`:e||t||"";var We=s(605),Ve=s.n(We);const Ge=(e,t)=>t>0?Math.floor(e*((100-t)/100)):Math.floor(255-(100+t)/100*(255-e)),Ke=e=>Math.min(Math.max(e,0),255),Ye=e=>{let t=e;4===e.length&&(t=`#${e[1]}${e[1]}${e[2]}${e[2]}${e[3]}${e[3]}`);return{R:parseInt(t.substring(1,3),16),G:parseInt(t.substring(3,5),16),B:parseInt(t.substring(5,7),16)}},Ze=(e,t)=>{let{R:s,G:r,B:i}=Ye(e);s=Ke(Ge(s,t)),r=Ke(Ge(r,t)),i=Ke(Ge(i,t));return`#${1===s.toString(16).length?`0${s.toString(16)}`:s.toString(16)}${1===r.toString(16).length?`0${r.toString(16)}`:r.toString(16)}${1===i.toString(16).length?`0${i.toString(16)}`:i.toString(16)}`},Qe=(e,t)=>{const{R:s,G:r,B:i}=Ye(e);return`rgba(${s}, ${r}, ${i}, ${t})`};var Je,Xe,et;!function(e){e.micro="MicroTheme",e.simple="SimpleTheme",e.mobile="MobileTheme",e.intercom="IntercomTheme",e.newMobile="NewMobileTheme"}(Je||(Je={})),function(e){e.cover="cover",e.repeat="repeat",e.contain="contain"}(Xe||(Xe={})),function(e){e.left="left",e.center="center",e.right="right",e.bottom="bottom",e.top="top"}(et||(et={}));const tt="#7f8c8d",st="#ffffff",rt=(Ze("#7f8c8d",-90),"#70c84a"),it=(Ze("#7f8c8d",-10),"#ffffff"),nt="#29292a",ot=(Ze("#7f8c8d",-90),Ze("#7f8c8d",-10),e=>"#"===e.charAt(0)?e.substring(1,7):e),at=(e,t)=>(299*parseInt(ot(e).substring(0,2),16)+597*(e=>parseInt(ot(e).substring(2,4),16))(e)+114*(e=>parseInt(ot(e).substring(4,6),16))(e))/1e3>130?(null==t?void 0:t.dark)||"#000000":(null==t?void 0:t.light)||"#ffffff";var ct;!function(e){e[e.mobile=767]="mobile",e[e.tablet=1080]="tablet"}(ct||(ct={}));const lt=ct;class ut{static addMicroThemeCss(e,t){const s=(e=>{const{answer:t,button:s,background:r,progress_bar:i,question:n,bg_answer:o}=e;return[{className:".sv__survey",isTopLevelClass:!0,property:"background-color",value:r},{className:".sv-col-fa",property:"color",value:t},{className:".sv__checkbox.sv__circle",property:"color",value:t},{className:".sv-col-question",property:"color",value:n},{className:".sv__contact-form .sv__contact-form-field.sv__light.sv__invalid input.sv-nested-bg-bw",property:"background-color",value:o},{className:".sv-col-description",property:"color",value:n},{className:".sv__btn-close svg g",property:"fill",value:Qe(n,.5)},{className:".sv__btn-close:hover svg g g",property:"fill",value:n},{className:".sv__btn-close:active svg g g",property:"fill",value:n},{className:".sv__survey--finished.sv__survey--branded .sv__btn-close svg g",isTopLevelClass:!0,property:"fill",value:"rgba(41, 41, 42, 0.5)"},{className:".sv__survey--finished.sv__survey--branded .sv__btn-close:hover svg g g",isTopLevelClass:!0,property:"fill",value:"black"},{className:".sv__survey--finished.sv__survey--branded .sv__btn-close:active svg g g",isTopLevelClass:!0,property:"fill",value:"black"},{className:".sv__progress-bar",property:"background-color",value:Qe(n,.15)},{className:".sv__progress-bar-fill",property:"background-color",value:i},{className:".sv__survey",property:"background-color",value:r},{className:".sv__submit-button__wrapper",property:"border-top-color",value:Qe(n,.2)},{className:".sv__submit-button",property:"background-color",value:s},{className:".sv__submit-button",property:"color",value:at(s)},{className:".sv__choice-button",property:"background-color",value:Qe(t,.1)},{className:".sv__choice-button",property:"background-color",state:":hover",value:Qe(t,.2)},{className:".sv__mobile-survey .sv__choice-button",isTopLevelClass:!0,property:"background-color",state:":hover",value:Qe(t,.1)},{className:".sv__choice-button",property:"background-color",state:":active",value:Qe(t,.2)},{className:".sv__answer-hint",property:"color",value:t},{className:".sv__square",property:"border-color",value:t},{className:".sv__square",property:"box-shadow",state:":focus::after",value:`0 0 0 8px ${Qe(t,.1)}`},{className:".sv__square",property:"box-shadow",state:":hover::after",value:`0 0 0 8px ${Qe(t,.1)}`},{className:".sv__square",property:"box-shadow",state:":active::after",value:`0 0 0 8px ${Qe(t,.1)}`},{className:".sv__circle",property:"box-shadow",state:":focus",value:`0 0 0 8px ${Qe(t,.1)}`},{className:".sv__circle",property:"box-shadow",state:":hover",value:`0 0 0 8px ${Qe(t,.1)}`},{className:".sv__circle",property:"box-shadow",state:":active",value:`0 0 0 8px ${Qe(t,.1)}`},{className:".sv__textarea",property:"background-color",value:Qe(t,.1)},{className:".sv__textarea",property:"color",value:t},{className:".sv__textarea",property:"border-color",state:":focus",value:t},{className:".sv__input",property:"background-color",value:Qe(t,.1)},{className:".sv__input",property:"color",value:t},{className:".sv__input",property:"border-color",state:":focus",value:t},{className:".sv__input::placeholder",property:"color",value:Qe(t,.5)},{className:".sv__select-list",property:"border-color",value:Qe(t,.2)},{className:".sv__select-list",property:"background-color",value:r},{className:"*::-webkit-scrollbar-thumb",property:"background-color",value:Qe(n,.15)},{className:".sv__select-button",property:"background-color",value:r},{className:".sv__select-button",property:"background-color",state:":hover",value:Qe(t,.15)},{className:".sv__dropdown__wrapper svg g g",property:"fill",value:Qe(t,.5)},{className:".sv__contact-form-security",property:"background-color",value:Qe(t,.1)},{className:".sv__btn-minimize--padded svg g rect",property:"fill",value:Qe(n,.5)},{className:".sv__btn-minimize--padded svg rect:first-child",property:"fill",value:Qe(n,.5)},{className:".sv__btn-minimize--padded:hover svg rect",property:"fill",value:Qe(n,.9)},{className:".sv__btn-minimize--padded:active svg rect",property:"fill",value:Qe(n,.9)},{className:".sv__btn-minimize svg g rect",property:"fill",value:Qe(n,.85)},{className:".sv__btn-minimize:hover svg g rect",property:"fill",value:n},{className:".sv__minimized-symbol",property:"background-color",value:s},{className:".sv__minimized-symbol",property:"background-color",state:":hover",value:Qe(s,.7)},{className:".sv__minimized-symbol",property:"background-color",state:":active",value:Qe(s,.7)},{className:".sv__minimized__text",property:"color",value:t},{className:".sv__minimized-symbol svg g g path",property:"fill",value:at(s,{dark:"#000",light:"#FFF"})},{className:".sv__choice-button textarea",property:"background-color",value:Qe(t,.1)},{className:".sv__contact-form-confirmation",property:"background-color",value:Qe(t,.1)},{className:".sv__contact-form-confirmation__content",property:"color",value:t},{className:".sv__micro-top-bar",property:"color",value:n},{className:".sv__rating .sv__button",property:"background-color",state:":hover",value:"transparent"},{className:".sv__rating .sv__button .sv__rating__number",property:"color",value:t},{className:".sv__contact-form-security.sv-col-small-button-bw span",property:"color",value:t},{className:".sv__contact-form-field-label",property:"color",value:t},{className:".sv__choice-button--selected .sv__circle",property:"background-color",value:t},{className:".sv__choice-button.sv__choice-button--selected",property:"border-color",value:t},{className:".sv__choice-button.sv__choice-button--selected .sv__circle",property:"border-color",value:t},{className:".sv__choice-button",property:"border-color",state:":active",value:t},{className:".sv__choice-button:active .sv__circle",property:"border-color",value:t},{className:".sv__choice-button:active .sv__circle",property:"background-color",value:t},{className:".sv__lock-icon g g path",property:"fill",value:t},{className:".sv__checkbox g g path",property:"fill",value:t},{className:".sv__date",property:"background-color",value:Qe(t,.1)},{className:".sv__date input",property:"color",value:t},{className:".sv__date.focused",property:"border-color",value:t},{className:".sv__date input::placeholder",property:"color",value:Qe(t,.5)},{className:".sv__mobile-datepicker",property:"color",value:t},{className:".sv__mobile-datepicker",property:"background-color",value:r},{className:".sv__date-wrapper .sv__mobile-datepicker",property:"border-color",state:":focus",value:t},{className:".sv__micro-top-bar__row svg path",property:"fill",value:t},{className:".sv__label",property:"color",value:t},{className:".sv__mobile-datepicker--selected",property:"background-color",value:Qe(t,.1)},{className:".sv-bg-bs",property:"border-bottom",value:"none"},{className:".sv__answer-picker--selected",property:"background-color",value:Qe(t,.1)},{className:".sv__button",property:"color",value:t},{className:".sv__numerical-scale .sv__button",property:"background-color",value:Qe(t,.1)},{className:".sv__nps .sv__button",property:"background-color",value:Qe(t,.1)},{className:".sv__customer-satisfaction .sv__button",property:"background-color",value:Qe(t,.1)},{className:".sv__button",property:"background-color",state:":hover",value:Qe(t,.2)},{className:".sv__mobile-survey .sv__button",isTopLevelClass:!0,property:"background-color",state:":hover",value:Qe(t,.1)},{className:".sv__button svg path",property:"fill",value:Qe(t,.3)},{className:".sv__mobile-survey .sv__button:hover svg path",isTopLevelClass:!0,property:"fill",value:Qe(t,.3)},{className:".sv__button:hover svg path",property:"fill",value:t},{className:".sv__button:hover .sv__rating__number",property:"color",value:t},{className:".sv__button--vertical",property:"background-color",value:Qe(t,.1)},{className:".sv__button--vertical svg path",property:"fill",value:Qe(t,.5)},{className:".sv__button .sv__rating__number",property:"color",value:Qe(t,.3)},{className:".sv__button--selected svg path",property:"fill",value:t},{className:".sv__mobile-survey .sv__button--selected svg path",isTopLevelClass:!0,property:"fill",value:Qe(t,.3)},{className:".sv__button--selected .sv__rating__number",property:"color",value:t},{className:".sv__rating--vertical .sv__button",property:"background-color",value:Qe(t,.1)},{className:".sv__rating--vertical .sv__buttons .sv__button:active",property:"background-color",value:Qe(t,.2)},{className:".sv__rating--vertical .sv__buttons .sv__button--selected",property:"background-color",value:Qe(t,.2)},{className:".sv__mobile-survey .sv__rating--vertical .sv__buttons .sv__button--selected",isTopLevelClass:!0,property:"background-color",value:Qe(t,.1)},{className:".sv__rating--vertical .sv__buttons .sv__button",property:"background-color",state:":hover",value:Qe(t,.2)},{className:".sv__mobile-survey .sv__rating .sv__buttons .sv__button",isTopLevelClass:!0,property:"background-color",state:":hover",value:"transparent"},{className:".sv__mobile-survey .sv__rating--vertical .sv__buttons .sv__button",isTopLevelClass:!0,property:"background-color",state:":hover",value:Qe(t,.1)},{className:".sv__footer__button svg path",property:"fill",value:at(r,{dark:"#171D1A",light:"#F1F1F1"})},{className:".sv__footer__small-text",property:"color",value:at(r,{dark:"#171D1A",light:"#F1F1F1"})},{className:".sv__date .sv__date__separator",property:"color",value:t},{className:".sv__finish-view .sv__thank-you-message",property:"color",value:n}]})(t);s.forEach((({property:t,className:s,state:r,isTopLevelClass:i,value:n})=>{e(`${i?".sv__micro-theme":".sv__micro-theme "}${r?s+r:s}`,t,`${n} !important`)}))}static addSimpleThemeCss(e,t){const{answer:s,button:r,background:i,progress_bar:n,question:o}=t;e(".sv__body","background-color",i),e(".sv__label","color",o),e(".sv-bg-main","background-color",s),e(".sv-border-color-main","border-color",r),e(".sv-checkbox-tick-border-color","border-color",i),e(".sv__square svg path","color",s),e(".sv__submit-button","background-color",r),e(".sv__submit-button","color",at(r)),e(".sv-col-description","color",s),e(".sv-col-fa","background-color","transparent"),e(".sv-col-fa","color",s),e(".sv-bg-fa","color",s),e(".sv-col-main","color",s),e(".sv-navigation","background-color",Qe(s,.1)),e(".sv-navigation::before","border-color",s),e(".sv-navigation-mobile","background-color",Qe(s,.1)),e(".sv-navigation-mobile::before","border-color",n),e(".sv-progress-bar","background-color","#ebeeee"),e(".sv-progress-bar-fill","background-color",n),e(".sv__rating .sv__button svg path","fill",Qe(s,.1)),e(".sv__rating .sv__button--selected svg path","fill",s),e(".sv__rating .sv__button .sv__rating__number","color",s),e(".sv__ranking-option","background-color",Qe(s,.1)),e(".sv-ranking-option .sv__caret","border-bottom-color",r),e(".sv-ranking-option .sv__caret","border-top-color",r),e(".sv-ranking-option .sv__caret svg path:nth-child(2)","fill",s),e(".sv__ranking-option-handler svg path:nth-child(2)","fill",s),e(".sv__ranking-option-body strong","color",s),e(".sv__choice-button","background-color",Qe(s,.1)),e(".sv__choice-button.sv__selected","background-color",Qe(s,.1)),e(".sv__choice-button.sv__selected","background-color",Qe(s,.1)),e(".sv__choice-button.sv__selected","border-color",s),e(".sv__choice-button .sv__checkbox.sv__circle","border-color",s),e(".sv__choice-button .sv__checkbox.sv__square","border-color",s),e(".sv__multiple-choice__message","color",s),e(".sv__survey input","background-color",Qe(s,.1)),e(".sv__survey input","color",s),e(".sv__survey input:focus","border-color",s),e(".sv__contact-form-field-label","color",s),e(".sv__contact-form-confirmation","background-color",Qe(s,.1)),e(".sv__contact-form-confirmation div","color",s),e(".sv__contact-form-confirmation .sv-invalid","border",`2px solid ${s} !important`),e(".sv__contact-form-security","background-color",Qe(s,.1)),e(".sv__contact-form-security span","color",s),e(".sv__branding input","background-color",Qe(s,.1)),e(".sv__branding input:focus","border-color",s),e(".sv__branding input","color",s),e(".sv__date input","color",s),e(".sv__date.focused","border-color",s),e(".sv__date input::placeholder","color",Qe(s,.5)),e(".sv__date","background-color",Qe(s,.1)),e(".sv__date.sv__invalid input","color",s),e(".sv__matrix-survey-point .sv__point-wrapper .sv__point-question","color",s),e(".sv__matrix-row","background-color",Qe(s,.1)),e(".sv__matrix-row.sv__selected","border-color",s),e(".sv__matrix-cell","color",o),e(".sv__matrix-cell div","color",s),e(".sv__matrix-cell .sv__checkbox.sv__circle","border-color",s),e(".sv__ranking-wrapper .sv__select","background-color",Qe(s,.1)),e(".sv__select input","color",s),e(".sv__select input","background-color",Qe(s,.1)),e(".sv__select svg g","fill",s),e(".sv__dropdown__wrapper .sv__select .sv__select-button","background-color",Qe(s,.1)),e(".sv__clear-input-icon svg g","stroke",s),e(".sv__select input::placeholder","color",Qe(s,.6)),e(".sv__select--open","border-color",s),e(".sv__select--open ul","border-color",s),e(".sv__select--open ul span","color",s),e(".sv__ranking-wrapper .sv__select .sv__select-list .sv__select-button","background-color",at(s)),e(".sv__textarea","background-color",Qe(s,.1)),e(".sv__textarea","color",s),e(".sv__answer-hint","color",s),e(".sv__textarea-wrapper .sv__textarea","background-color",Qe(s,.1)),e(".sv__textarea-wrapper .sv__textarea","color",s),e(".sv__textarea-wrapper .sv__textarea:focus","border-color",s),e(".sv__textarea-wrapper .sv__textarea::placeholder","color",Qe(s,.6)),e(".sv__text-question .sv__textarea:focus","border-color",s),e(".sv__text-question .sv__textarea::placeholder","color",Qe(s,.6)),e(".sv__point-question","color",o),e(".sv-col-description","color",o),e(".sv__nps .sv__labels","color",o),e(".sv__nps .sv__button","background-color",Qe(s,.1)),e(".sv__nps  .sv__button-selected","background-color",Qe(s,.1)),e(".sv__square","border-color",s),e(".sv__lock-icon g g path","fill",s),e(".sv__scroll-indicator .sv__scroll-indicator-arrow","border-color",s),e(".sv__drag-n-drop--placeholder","border-color",s),e(".sv__numerical-scale .sv__button","color",s),e(".sv__numerical-scale .sv__button.sv__selected","border-color",s),e(".sv__numerical-scale .sv__button","background-color",Qe(s,.1)),e(".sv__customer-satisfaction .sv__button","color",s),e(".sv__customer-satisfaction .sv__button","background-color",Qe(s,.1)),e(".sv__customer-satisfaction .sv__button.sv__selected","border-color",s),e(".sv__customer-satisfaction .sv__label","color",s),g.hasHover()&&(e(".sv__rating .sv__button:hover svg path","fill",s),e(".sv__mobile .sv__rating .sv__button:hover svg path","fill",Qe(s,.1)),e(".sv__mobile .sv__rating .sv__button--selected.sv__button:hover svg path","fill",s),e(".sv__choice-button:hover","background-color",Qe(s,.2)),e(".sv__dropdown__wrapper .sv__select .sv__select-button:hover","background-color",Qe(s,.2)),e(".sv__dropdown__wrapper .sv__select .sv__select-button--focused","background-color",Qe(s,.2)),e(".sv__nps .sv__button:hover","background-color",Qe(s,.2)),e(".sv__nps  .sv__button:hover","background-color",Qe(s,.2)),e(".sv__nps__wrapper--vertical .sv__nps .sv__button:hover","background-color",Qe(s,.1)),e(".sv__nps__wrapper--vertical .sv__nps .sv__button:active","border-color",s),e(".sv__choice-button .sv__circle:hover","box-shadow",`0 0 0 8px ${Qe(s,.1)}`),e(".sv__choice-button .sv__circle:focus","box-shadow",`0 0 0 8px ${Qe(s,.2)}`),e(".sv__choice-button .sv__circle:active","box-shadow",`0 0 0 8px ${Qe(s,.2)}`),e(".sv__matrix-cell .sv__circle:hover","box-shadow",`0 0 0 8px ${Qe(s,.1)}`),e(".sv__matrix-cell .sv__circle:focus","box-shadow",`0 0 0 8px ${Qe(s,.2)}`),e(".sv__matrix-cell .sv__circle:active","box-shadow",`0 0 0 8px ${Qe(s,.2)}`),e(".sv__choice-button .sv__square:hover::after","background-color",Qe(s,.1)),e(".sv__choice-button .sv__square:focus::after","background-color",Qe(s,.2)),e(".sv__choice-button .sv__square:active::after","background-color",Qe(s,.2)),e(".sv__submit-button:hover","background-color",Ze(r,-10)),e(".sv__submit-button:focus","box-shadow",`0 0 0 2px white, 0 0 0 4px ${r};`),e(".sv__numerical-scale .sv__button:hover","background-color",Qe(s,.2)))}static customSimpleThemeCss(e){return`body{margin: 0 !important;}\n    #survicate-box .sv-col-description * { color: ${e.font_widget} }\n    html{position: relative; max-width: 100vw; background-color: white;}\n    @media only screen and (max-width: ${lt.mobile}px) {\n      html{height: 100%;}\n      body{height: 100%;}\n      #survicate-box{height: 100%;}\n      #survicate-box .sv__submit-btn-present .sv__point-wrapper {padding-bottom: 50px;}\n    }\n    @media only screen and (min-width: ${lt.mobile+1}px) {\n      #survicate-box .sv-bg-bs {\n        border-radius: 6px;\n      }\n    }`}}const vt="survicate-core-theme";class _t{static getCssFromRules(e){let t="";return Object.keys(e).forEach((s=>{t+=`#survicate-box ${s}{`,e[s].forEach((({propertyName:e,value:s})=>{t+=`${e}: ${s};`})),t+="}"})),t}static addImportantsToCustomCss(e=""){if("string"!=typeof e)return"";const t=e.replace(/\s+!important;/g,";"),s=[];let r=!1,i=0;for(let e=0;e<t.length;e+=1){const n=e=>e+6<t.length&&"b"===t[e+1]&&"base64"===t.substring(e+1,e+7);!r&&(e=>"@"===t[e])(e)&&(r=!0),r?("{"===t[e]&&(i+=1),"}"===t[e]&&(i-=1,0===i&&(r=!1))):";"!==t[e]||n(e)||s.push(e)}let n=0,o="";return s.forEach((e=>{o=`${o}${t.substring(n,e)} !important`,n=e})),o=`${o}${t.substring(n)}`,o}static getCss(e){const t={},s=(e,s,r)=>{t[e]||(t[e]=[]),t[e].push({propertyName:s,value:r})};let r="";switch(e.type){case Je.simple:ut.addSimpleThemeCss(s,e.color_scheme),r+=ut.customSimpleThemeCss(e.color_scheme);break;case Je.micro:ut.addMicroThemeCss(s,e.color_scheme)}const i=this.getCssFromRules(t)+r;return he.getState().isPreview&&!1===e.custom_css_enabled?i:i+this.addImportantsToCustomCss(e.custom_css)}static getSimpleThemeColors(e){return{answer:e.answer||tt,background:e.background||st,bg_answer:Ze(e.answer||tt,-90),bg_submit:e.button||e.main_color,bg_widget:e.background||st,button:e.button||e.main_color,font_answer:Ze(e.answer||tt,-10),font_submit:it,font_widget:e.question||nt,main_color:e.main_color||rt,progress_bar:e.progress_bar||e.main_color,question:e.question||nt}}static getMicroThemeColors(e){return{answer:e.answer||tt,background:e.background||st,bg_answer:Ze(e.answer||tt,-90),bg_submit:e.button||e.main_color,bg_widget:e.background||st,button:e.button||e.main_color,font_answer:Ze(e.answer||tt,-10),font_submit:it,font_widget:e.question||nt,main_color:e.main_color||rt,progress_bar:e.progress_bar||e.main_color,question:e.question||nt}}static extendTheme(e){return e.type===Je.simple?Object.assign(Object.assign({},e),{color_scheme:this.getSimpleThemeColors(e.color_scheme)}):Object.assign(Object.assign({},e),{color_scheme:this.getMicroThemeColors(e.color_scheme)})}static reloadCss(e){let t=document.getElementById(vt);t||(t=document.createElement("style"),t.id=vt,document.head.appendChild(t)),t.textContent=_t.getCss(e)}}const dt=e=>e?{ascending:(t,s)=>t[e]-s[e],descending:(t,s)=>s[e]-t[e]}:{ascending:(e,t)=>e-t,descending:(e,t)=>t-e},pt=({surveyApiState:e,backendData:t,surveyState:{survey:s},visitor:r,update:i},n={})=>{s||Gr.findSurveyToDisplay({audiences:t.audiences,integrations:t.integrations,surveys:Array.isArray(i.surveys)&&i.surveys.length>0?i.surveys:t.surveys,surveysTriggeredByApi:e.surveysTriggeredByApi,triggers:n,visit:fe.get(),visitor:r})};const mt=new class{constructor(){this.url=ge.getUrl(),this.interval=null}clearInterval(){this.interval&&(clearInterval(this.interval),this.interval=null)}startInterval(e){this.clearInterval(),this.interval=window.setInterval((()=>{this.hasUrlChanged()&&(this.url=ge.getUrl(),e())}),1e3)}hasUrlChanged(){return ge.getUrl()!==this.url}};const ht=new class{constructor(){this.loadTime=Date.now()}fireEvent(e){he.getState().surveyState.survey||he.action(pt)({delayed:e})}startListening(e){const t=e.filter((e=>e.settings.appear_method===n.delayed));if(!t.length)return;const s=t.map((e=>e.settings.display_delay)).sort(dt().ascending)[0];this.intervalListener=window.setInterval((()=>{mt.hasUrlChanged()&&this.resetLoadTime();const e=(Date.now()-this.loadTime)/1e3;e>=s&&this.fireEvent(e)}),1e3)}resetLoadTime(){this.loadTime=Date.now()}stopListening(){clearInterval(this.intervalListener),this.resetLoadTime()}},bt=(e,t)=>{let s=!1;return(...r)=>{const i=()=>{e.call(null,...r),s=!0,setTimeout((()=>{s=!1}),t)};s?setTimeout((()=>{s||i()}),t):i()}};class gt{constructor(){this.html=document.querySelector("html"),this.surveysRemaining=0,this.desktopHandler=bt((e=>{e.clientY>20||this.fireEvent()}),100)}fireEvent(){const e=he.getState().surveyState.survey;e||(he.action(pt)({exitIntent:!0}),setTimeout((()=>{e&&(this.surveysRemaining-=1),0===this.surveysRemaining&&this.stopListening()}),500))}startListening(e){const t=e.filter((e=>e.settings.appear_method===n.exitIntent));t.length&&(this.surveysRemaining=t.length,this.html.addEventListener("mouseleave",this.desktopHandler))}stopListening(){this.html.removeEventListener("mouseleave",this.desktopHandler)}}class ft{constructor(){this.html=document.querySelector("html"),this.scrolls=[],this.scrollHandler=bt((()=>{const e=Math.ceil(window.scrollY/(this.html.scrollHeight-this.html.clientHeight)*100);e>=this.scrolls[this.scrolls.length-1]&&this.fireEvent(e)}),100)}fireEvent(e){const t=he.getState().surveyState.survey;t||(he.action(pt)({scroll:e}),setTimeout((()=>{t&&this.scrolls.pop(),this.scrolls.length||this.stopListening()}),500))}startListening(e){const t=e.filter((e=>e.settings.appear_method===n.scroll)).map((e=>e.settings.display_scroll)).sort(dt().descending);t.length&&(this.scrolls=t,window.addEventListener("scroll",this.scrollHandler))}stopListening(){window.removeEventListener("scroll",this.scrollHandler)}}const yt=new class{constructor(){this.TargetingTriggersRules=[...g.isDeviceMobileOrTablet()?[]:[new gt],new ft,ht]}startTargeting(e){this.TargetingTriggersRules.forEach((t=>{t.stopListening(),t.startListening(e)}))}},wt=new(Ve());function xt(e,t){he.setState({backendData:Object.assign(Object.assign({},e.backendData),{surveys:t})}),yt.startTargeting(t),he.action(pt)({force:!0})}function St(e,t){he.setState({backendData:Object.assign(Object.assign({},e.backendData),{audiences:t})})}function kt(e,t=[]){he.setState({backendData:Object.assign(Object.assign({},e.backendData),{themes:t.map((e=>e.type===Je.mobile?e:_t.extendTheme(e)))})})}function Mt(e,t){he.setState({backendData:Object.assign(Object.assign({},e.backendData),{integrations:t})}),wt.init(t,ge.params,he)}function At(e,t){he.setState({backendData:Object.assign(Object.assign({},e.backendData),{workspaceKey:t})})}const Ot={setSurveys:xt,setAudiences:St,setThemes:kt,setIntegrations:Mt,setWorkspaceKey:At},Nt=(e,t)=>{return{integrations:wt.getAPIToAnsweredJsonIntegrations()||void 0,overwrite:e.overwrite||void 0,response_uuid:e.response_uuid,survey_point_id:e.surveyPointId,visit_points:(s=e.answers,r=e.completionRate,i=e.survey,s.map((e=>{const{survey_question_answer_id:t,user_tag:s,content:n,answer_type:o}=e;return{answer_type:o||void 0,completion_rate:r,content:n||void 0,finished:100===r||void 0,survey_question_answer_id:t||void 0,user_tag:Be(s,i.global_tags)}}))),visitor:Fe(t)};var s,r,i};var Tt=s(280);const Pt=({storageService:e,isKioskMode:t},s)=>{he.setState({visitor:s}),t||null==e||e.put({table:Z.all,key:Q.visitor},s)};function It(e){const t=Object.assign({},e.visitor);1===fe.get().views.length&&(t.visitsCount+=1,he.action(Pt)(t))}const Et=(e,t)=>{if(t===C.USER_ID_TRAIT)return!1;if("number"==typeof e||"boolean"==typeof e||e instanceof Date)return!0;return!/^({.*})|(\*\|.*\|\*)|(\[.*\])|(%.*%)|(~.*~)|(--.*--)|(\$.*\$)$/.test(e)};function Ct(e,t){if(!t)return;const s=Object.assign({},e.visitor);Object.keys(t).forEach((e=>{let r=t[e];"number"==typeof r||"boolean"==typeof r||r instanceof Date||(r=`${t[e]}`.substring(0,255)),Et(r,e)&&(s.attributes[e]=r)})),t[C.USER_ID_TRAIT]&&(s.identities.api=s.identities.api||{},s.identities.api={id:t[C.USER_ID_TRAIT]}),he.action(Pt)(s)}function jt(){he.action(Ct)((0,Tt.Y)(ge.params))}function Rt(e,t){const s=Object.assign({},e.visitor);s.tags.includes(t)||(s.tags.push(t),he.action(Pt)(s))}const Ft=(e,t,s)=>{const r={surveyId:t,timestamp:s},i=[...e],n=i.findIndex((e=>(e.surveyId||e)===t));return-1!==n?i[n]=r:i.push(r),i};function Lt(e,{surveyId:t,interactionType:s}){const r=Object.assign({},e.visitor),i=(new Date).valueOf();if(s===de.engaged){r.initialSurveysEngagement=r.initialSurveysEngagement||[];let e=r.initialSurveysEngagement.find((e=>e.surveyId===t));e||(e={surveyId:t,timestamp:i},r.initialSurveysEngagement.push(e)),r.engagedSurveys=Ft([...r.engagedSurveys],t,i)}else s===de.displayed&&(r.displayedSurveys=Ft([...r.displayedSurveys],t,i));he.action(Pt)(r)}const zt={addNewVisit:It,saveVisitor:Pt,setSurveyInteraction:Lt,setVisitorAttributes:Ct,setVisitorAttributesFromURL:jt,setVisitorIdentity:(e,{identityProvider:t,key:s,value:r})=>{const i=Object.assign({},e.visitor),n=Object.assign({},i.identities);n[t]=Object.assign(Object.assign({},n[t]),{[s]:r}),i.identities=n,he.action(Pt)(i)},setVisitorTag:Rt},Dt=e=>{var t,s;return(null===(s=null===(t=e.surveyState)||void 0===t?void 0:t.survey)||void 0===s?void 0:s.integrations)||{}};function qt(s,r){var i;he.action(Lt)({interactionType:de.engaged,surveyId:r.survey.id}),fe.setEngaged(),fe.addAnswer(r.surveyPointId,r.textResponse);const n=Dt(s);let o;if(r.pointType===Ie.form){const e={};r.answers.forEach((t=>{t.answer_type&&t.content&&(e[t.answer_type]=t.content)})),he.action(Ct)(e),o=Object.assign(Object.assign({},r),{contactForm:e})}else{const{surveyState:{survey:e}}=s,t=null==e?void 0:e.points.map((e=>e.id)).indexOf(r.surveyPointId);o=Object.assign(Object.assign({},r),{question:void 0!==t&&-1!==t?`${t+1} - ${r.question}`:r.question})}null===(i=s.backendService)||void 0===i||i.addRequest(Ee.answered,Nt(r,s.visitor),r.survey.id),t.fireEvent(e.questionAnswered,Ue(r.answers,{answer_type:r.answerType,questionId:r.surveyPointId,surveyId:r.survey.id,textResponse:r.textResponse})),je().pushEvent(Re.IntegrationEventTypes.SurveyPointAnswered,o,n)}function $t(s){var r;const{survey:i}=s.surveyState;if(!i)return;const n={visitor:Fe(s.visitor)};!he.getState().visitor.displayedSurveys.some((({surveyId:e})=>e===i.id))&&(n.survey_first_seen=!0),null===(r=s.backendService)||void 0===r||r.addRequest(Ee.seen,n,i.id),he.action(Lt)({interactionType:de.displayed,surveyId:i.id}),fe.addDisplayedSurvey(i.id),t.fireEvent(e.surveyDisplayed,{surveyId:i.id});const o=Dt(s);je().pushEvent(Re.IntegrationEventTypes.SurveySeen,{surveyName:i.name},o)}function Ht(s,r){he.action(Lt)({interactionType:de.engaged,surveyId:r.surveyId}),fe.setEngaged(),he.action(pt)(),t.fireEvent(e.surveyClosed,{surveyId:r.surveyId});const i=Dt(s);je().pushEvent(Re.IntegrationEventTypes.SurveyClosed,r,i)}function Ut(e,t){const s=Dt(e);je().pushEvent(Re.IntegrationEventTypes.SurveyMinimized,t,s)}function Bt(e,t){const s=Dt(e);je().pushEvent(Re.IntegrationEventTypes.SurveyMaximized,t,s)}function Wt(e,t){const s=Dt(e);je().pushEvent(Re.IntegrationEventTypes.SurveyPointSeen,t,s)}const Vt={answered:qt,closed:Ht,maximized:Bt,minimized:Ut,seen:$t,surveyPointSeen:Wt},Gt=e=>{};var Kt;!function(e){e.button="button_next",e.thankYouMessage="empty",e.buttonLink="button_link",e.buttonClose="button_close",e.redirect="redirect_timeout",e.social="social_cta"}(Kt||(Kt={}));const Yt=({answer:e})=>({anonymizedTextResponse:e.possible_answer,answers:[{nextSurveyPointId:e.next_survey_point_id,survey_question_answer_id:e.id,user_tag:e.user_tag}],textResponse:e.possible_answer,value:e}),Zt=({answer:e,comment:t=""})=>({content:t,nextSurveyPointId:e.next_survey_point_id,survey_question_answer_id:e.id,user_tag:e.user_tag}),Qt=({answer:e,point:t,comment:s=""})=>({anonymizedTextResponse:e.possible_answer,answers:[Zt({answer:e,comment:s,point:t})],textResponse:e.possible_answer,value:{answer:e,comment:s||""}}),Jt=({point:e})=>({anonymizedTextResponse:"",answers:[{nextSurveyPointId:e.settings.next_survey_point_id,user_tag:e.settings.user_tag}],textResponse:""}),Xt=({value:e,point:t})=>{let s=null,r=null;const i=t.settings;return e<=6?(s=i.first_range_goto_id,r=i.first_range_tag):e<=8?(s=i.second_range_goto_id,r=i.second_range_tag):(s=i.third_range_goto_id,r=i.third_range_tag),{anonymizedTextResponse:`${e}`,answers:[{content:`${e}`,nextSurveyPointId:s,user_tag:r}],textResponse:`${e}`,value:e}},es={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let ts;const ss=new Uint8Array(16);function rs(){if(!ts&&(ts="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!ts))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ts(ss)}const is=[];for(let e=0;e<256;++e)is.push((e+256).toString(16).slice(1));function ns(e,t=0){return is[e[t+0]]+is[e[t+1]]+is[e[t+2]]+is[e[t+3]]+"-"+is[e[t+4]]+is[e[t+5]]+"-"+is[e[t+6]]+is[e[t+7]]+"-"+is[e[t+8]]+is[e[t+9]]+"-"+is[e[t+10]]+is[e[t+11]]+is[e[t+12]]+is[e[t+13]]+is[e[t+14]]+is[e[t+15]]}const os=function(e,t,s){if(es.randomUUID&&!t&&!e)return es.randomUUID();const r=(e=e||{}).random||(e.rng||rs)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){s=s||0;for(let e=0;e<16;++e)t[s+e]=r[e];return t}return ns(r)},as=(e,t=1)=>{const s=e.pointsDisplayed.length;if(!s)return 0;const{point:r}=e.pointsDisplayed&&e.pointsDisplayed[s-1],i=e.pointsDisplayed[e.pointsDisplayed.length-1].point.answer_type===Kt.thankYouMessage,n="number"==typeof r.max_path?r.max_path:0;return i?100:Math.round((s-t)/(n+s)*100)},cs=e=>as(e,0);var ls,us,vs,_s,ds=s(400),ps=0,ms=[],hs=[],bs=ds.options.__b,gs=ds.options.__r,fs=ds.options.diffed,ys=ds.options.__c,ws=ds.options.unmount;function xs(e,t){ds.options.__h&&ds.options.__h(us,e,ps||t),ps=0;var s=us.__H||(us.__H={__:[],__h:[]});return e>=s.__.length&&s.__.push({__V:hs}),s.__[e]}function Ss(e){return ps=1,ks(Ls,e)}function ks(e,t,s){var r=xs(ls++,2);if(r.t=e,!r.__c&&(r.__=[s?s(t):Ls(void 0,t),function(e){var t=r.__N?r.__N[0]:r.__[0],s=r.t(t,e);t!==s&&(r.__N=[s,r.__[1]],r.__c.setState({}))}],r.__c=us,!us.u)){var i=function(e,t,s){if(!r.__c.__H)return!0;var i=r.__c.__H.__.filter((function(e){return e.__c}));if(i.every((function(e){return!e.__N})))return!n||n.call(this,e,t,s);var o=!1;return i.forEach((function(e){if(e.__N){var t=e.__[0];e.__=e.__N,e.__N=void 0,t!==e.__[0]&&(o=!0)}})),!(!o&&r.__c.props===e)&&(!n||n.call(this,e,t,s))};us.u=!0;var n=us.shouldComponentUpdate,o=us.componentWillUpdate;us.componentWillUpdate=function(e,t,s){if(this.__e){var r=n;n=void 0,i(e,t,s),n=r}o&&o.call(this,e,t,s)},us.shouldComponentUpdate=i}return r.__N||r.__}function Ms(e,t){var s=xs(ls++,3);!ds.options.__s&&Fs(s.__H,t)&&(s.__=e,s.i=t,us.__H.__h.push(s))}function As(e,t){var s=xs(ls++,4);!ds.options.__s&&Fs(s.__H,t)&&(s.__=e,s.i=t,us.__h.push(s))}function Os(e){return ps=5,Ns((function(){return{current:e}}),[])}function Ns(e,t){var s=xs(ls++,7);return Fs(s.__H,t)?(s.__V=e(),s.i=t,s.__h=e,s.__V):s.__}function Ts(e){var t=us.context[e.__c],s=xs(ls++,9);return s.c=e,t?(null==s.__&&(s.__=!0,t.sub(us)),t.props.value):e.__}function Ps(){for(var e;e=ms.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(js),e.__H.__h.forEach(Rs),e.__H.__h=[]}catch(t){e.__H.__h=[],ds.options.__e(t,e.__v)}}ds.options.__b=function(e){us=null,bs&&bs(e)},ds.options.__r=function(e){gs&&gs(e),ls=0;var t=(us=e.__c).__H;t&&(vs===us?(t.__h=[],us.__h=[],t.__.forEach((function(e){e.__N&&(e.__=e.__N),e.__V=hs,e.__N=e.i=void 0}))):(t.__h.forEach(js),t.__h.forEach(Rs),t.__h=[],ls=0)),vs=us},ds.options.diffed=function(e){fs&&fs(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(1!==ms.push(t)&&_s===ds.options.requestAnimationFrame||((_s=ds.options.requestAnimationFrame)||Cs)(Ps)),t.__H.__.forEach((function(e){e.i&&(e.__H=e.i),e.__V!==hs&&(e.__=e.__V),e.i=void 0,e.__V=hs}))),vs=us=null},ds.options.__c=function(e,t){t.some((function(e){try{e.__h.forEach(js),e.__h=e.__h.filter((function(e){return!e.__||Rs(e)}))}catch(s){t.some((function(e){e.__h&&(e.__h=[])})),t=[],ds.options.__e(s,e.__v)}})),ys&&ys(e,t)},ds.options.unmount=function(e){ws&&ws(e);var t,s=e.__c;s&&s.__H&&(s.__H.__.forEach((function(e){try{js(e)}catch(e){t=e}})),s.__H=void 0,t&&ds.options.__e(t,s.__v))};var Is,Es="function"==typeof requestAnimationFrame;function Cs(e){var t,s=function(){clearTimeout(r),Es&&cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(s,100);Es&&(t=requestAnimationFrame(s))}function js(e){var t=us,s=e.__c;"function"==typeof s&&(e.__c=void 0,s()),us=t}function Rs(e){var t=us;e.__c=e.__(),us=t}function Fs(e,t){return!e||e.length!==t.length||t.some((function(t,s){return t!==e[s]}))}function Ls(e,t){return"function"==typeof t?t(e):t}!function(e){e.answered="answered",e.finished="finished",e.opened="opened",e.closed="closed"}(Is||(Is={}));const zs=(e,t)=>{const s=Object.assign({interactionType:e},t),r=new CustomEvent("onSurveyInteraction",{detail:s});document.dispatchEvent(r)},Ds=(0,ds.createContext)({}),qs=({children:e})=>{const[t,s]=Ss();Ms((()=>{document.addEventListener("onSurveyInteraction",(e=>{const{detail:t}=e;s(t)}))}),[]);const r=Ns((()=>({surveyInteraction:t})),[t]);return(0,ds.h)(Ds.Provider,{value:r},e)},$s=({surveyState:e})=>{he.setState({surveyState:Object.assign(Object.assign({},e),{pointsAnswered:{}})})},Hs=e=>{if(!e||!e.length)return!1;const t=e[e.length-1].point.answer_type;return-1!==Object.values(Kt).filter((e=>e!==Kt.button)).indexOf(t)};class Us{constructor(e){this.prefix=e}getStoreKey({table:e,key:t}){return`${this.prefix}${e}${t}`}get(e){return ee.get(this.getStoreKey(e),!0)}put(e,t){ee.set(this.getStoreKey(e),t,!0)}getAll(e){const t=[],s=new RegExp(`${this.prefix}${e}`);return ee.each(((e,r)=>{s.test(r)&&t.push(K(e))})),t}remove(e){ee.remove(this.getStoreKey(e),!0)}}class Bs{constructor(e){this.storage=new Us(`survi::${e}::`)}get(e){return this.storage.get(e)}getAll(e){return this.storage.getAll(e)}put(e,t){return this.storage.put(e,t)}remove(e){return this.storage.remove(e)}}class Ws{static log(e){if(ie.get(le.errorSent))return;ie.set(le.errorSent,!0);const t={message:e.message,stack:e.stack},s=window._svc||{};N("https://respondent.survicate.com").post(`/workspaces/${s.workspaceKey}/logs.json`,{error:t,url:document.location.toString(),user_agent:window.navigator.userAgent,version:"22.3.0"})}static isSurvicateError(e=""){return!e.match(/https:\/\/(?!surveys)[^]*Generator\._invoke/)&&(e.includes("widget_core")||e.includes("page_core"))}static shouldLogError(e){return!(!e||!e.stack)&&(Ws.isSurvicateError(e.stack)&&!ie.get(le.errorSent)&&![/Network Error/,/Navigating/,/quota/,/invalid security context/].some((t=>!!e.message.match(t))))}static initGlobalErrorsWatch(){window.addEventListener("error",(function e(t){Ws.shouldLogError(t.error)&&(Ws.log(t.error),window.removeEventListener("error",e))})),window.addEventListener("unhandledrejection",(function e(t){t.reason&&t.reason.stack&&Ws.shouldLogError(t.reason)&&(Ws.log(t.reason),window.removeEventListener("unhandledrejection",e))}))}}const Vs=Ws,Gs=e=>new Promise((t=>{setTimeout(t,e)}));class Ks{isSuccess(){return!1}}class Ys{isSuccess(){return!0}}var Zs=function(e,t,s,r){return new(s||(s=Promise))((function(i,n){function o(e){try{c(r.next(e))}catch(e){n(e)}}function a(e){try{c(r.throw(e))}catch(e){n(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))};let Qs=0;const Js=(e,t,s)=>Zs(void 0,void 0,void 0,(function*(){return N(t).post(`/workspaces/${e.wId}/surveys/${e.surveyId}/${e.type}`,s).then((()=>new Ys)).catch((e=>Zs(void 0,void 0,void 0,(function*(){const{response:t}=e;return"Network Error"===e.message||!t||t.status>=500?(Qs+=1,yield Gs(Qs>3?15e3:5e3),Promise.resolve(new Ks)):Promise.resolve(new Ys)}))))})),Xs=e=>t=>Zs(void 0,void 0,void 0,(function*(){let s;switch(t.type){case Ee.answered:s=((e,t)=>{const{visit_points:s,visitor:r,survey_point_id:i,overwrite:n,integrations:o}=e,a={visit_points:(c=s,c.map((e=>{const t={completion_rate:e.completion_rate,finished:e.finished||void 0,user_tag:e.user_tag||void 0};return Object.keys(e).forEach((s=>{e[s]&&(t[s]=e[s])})),t}))),survey_point_id:i,visit:t,visitor:r,integrations:o||void 0,response_uuid:e.response_uuid};var c;return n&&(a.overwrite=!0),a})(t.payload,t.visit);break;case Ee.seen:s=(e=>{const{visitor:t}=e;return{visitor:t,survey_first_seen:e.survey_first_seen||void 0}})(t.payload);break;default:return new Ys}return Js(t,e,s)}));class er{constructor(e){this.storage=e}add(e,t){const s=Object.assign(Object.assign({},e),{key:t});return this.storage.put({table:Z.requests,key:t},s),t}getAll(){const e=this.storage.getAll(Z.requests).sort(((e,t)=>e.key<t.key?-1:e.key>t.key?1:0));return e}remove(e){this.storage.remove({table:Z.requests,key:e})}}var tr=function(e,t,s,r){return new(s||(s=Promise))((function(i,n){function o(e){try{c(r.next(e))}catch(e){n(e)}}function a(e){try{c(r.throw(e))}catch(e){n(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))};const{REQUEST_HANDLER_TIMEOUT:sr,REQUEST_HANDLER_REFRESH_INTERVAL:rr,CONSUMPTION_INTERVAL:ir,MUTEX_LOCK_INTERVAL:nr}={CONSUMPTION_INTERVAL:200,MUTEX_LOCK_INTERVAL:30,REQUEST_HANDLER_TIMEOUT:6e3,REQUEST_HANDLER_REFRESH_INTERVAL:1e3};class or{constructor(e,t){this.handlerId=os(),this.isProcessing=!1,this.storage=e,this.requestsStorage=new er(e),this.consumer=t,this.consumeRequests()}addRequest(e){const t=String(Date.now())+os();this.requestsStorage.add(e,t)}setThisRequestHandlerActive(){this.storage.put({table:Z.status,key:Q.requestHandler},{maximumTime:sr+Date.now(),handlerId:this.handlerId})}isThisRequestHandlerActive(){const e=this.storage.get({table:Z.status,key:Q.requestHandler});return!(!e||e.handlerId!==this.handlerId)}isActiveRequestHandlerInstance(){return tr(this,void 0,void 0,(function*(){const e=this.storage.get({table:Z.status,key:Q.requestHandler});return e?e&&e.maximumTime<Date.now()?(this.setThisRequestHandlerActive(),yield Gs(nr),this.isThisRequestHandlerActive()):!(!e||e.handlerId!==this.handlerId)&&(!(e.maximumTime-Date.now()<rr)||(this.setThisRequestHandlerActive(),yield Gs(nr),this.isThisRequestHandlerActive())):(this.setThisRequestHandlerActive(),yield Gs(nr),this.isThisRequestHandlerActive())}))}consumeRequests(){setInterval((()=>tr(this,void 0,void 0,(function*(){if(!this.isProcessing&&(yield this.isActiveRequestHandlerInstance())){this.isProcessing=!0;try{const e=this.requestsStorage.getAll();if(e.length>0){const t=e[0];(yield this.consumer(t)).isSuccess()&&this.requestsStorage.remove(t.key)}}catch(e){e instanceof Error&&Vs.log({message:`RequestHandler: ${e.message}`,stack:e.stack||""})}this.isProcessing=!1}}))),ir)}}class ar{constructor(e){this.requestsHandler=new or(e,Xs("https://respondent.survicate.com")),this.workspaceKey=he.getState().backendData.workspaceKey||window._svc.workspaceKey}static getVisit(){var e;const t=(null===(e=he.getState().surveyState.survey)||void 0===e?void 0:e.type)===Te.PageSurvey;return{device_type:fe.get().device_type,operating_system:fe.get().operating_system,page_url:t?ge.url:window.location.href,platform:window.navigator.platform,referer:fe.get().referrerUrl,translation:he.getState().surveyState.translationLanguage,user_agent:window.navigator.userAgent}}addRequest(e,t,s){window._svc.isPreview||(this.requestsHandler?this.requestsHandler.addRequest({payload:t,surveyId:s,type:e,visit:ar.getVisit(),wId:this.workspaceKey}):Vs.log({message:"No requestsHandler when adding a request.",stack:"Backend.tsx"}))}}var cr;!function(e){e[e.kiosk=0]="kiosk",e[e.normal=1]="normal"}(cr||(cr={}));const lr=e=>{const{storageService:t}=he.getState();let s=Object.assign(Object.assign({},pe),{uuid:os()});if(e===cr.normal){const e=null==t?void 0:t.get({table:Z.all,key:Q.visitor});e&&e.uuid&&(s=e)}he.action(Pt)(s),he.action(It)()},ur=(s,r)=>{const i=r&&r.answer_type===Kt.thankYouMessage;t.fireEvent(e.surveyCompleted,Object.assign({surveyId:s.id},i&&{answer:{answer_type:Kt.thankYouMessage}}));const{backendData:n}=he.getState(),{settings:{kiosk_refresh_enabled:o,kiosk_enabled:a}}=s;yt.startTargeting(n.surveys),he.action(pt)(),a&&(setTimeout((()=>{lr(cr.kiosk)}),5e3),o&&setTimeout((()=>{he.action($s)(),he.action(jt)(),he.action(Wr)(s)}),5010))},vr=({surveyState:e,isPreview:t})=>{if(!e.survey)return;const s=e.pointsDisplayed[e.pointsDisplayed.length-1].point,r=s.id===e.triggeredPointPreview,i=s.answer_type===Kt.thankYouMessage,n=s.answer_type===Kt.redirect;if(r&&(i||n))return;const o=e.survey.type===Te.PageSurvey,a=e.survey.settings.hide_footer,c=e.survey.type===Te.WidgetSurvey,l=o||i||a?3e3:500,u=c&&!Hs(e.pointsDisplayed);if(t){if((o||u)&&he.setState({surveyState:Object.assign(Object.assign({},e),{isFinished:!0,survey:e.survey,theme:e.theme})}),!a&&u)return;const t=he.getState().surveyState.survey;return void setTimeout((()=>{he.action(Wr)(t)}),l)}let v=0;if(c&&!Hs(e.pointsDisplayed))return he.setState({surveyState:Object.assign(Object.assign({},e),{isFinished:!0})}),a&&(v=5e3,zs(Is.finished,{surveyId:e.survey.id}),setTimeout((()=>{he.setState({surveyState:Object.assign(Object.assign({},e),{survey:null,theme:null})})}),v)),void setTimeout((()=>{e.survey&&ur(e.survey,s)}),v);if(!o&&(i||n)){const{settings:e}=s;v=1e3*parseInt(e.timeout_display_count,10),Number.isNaN(v)&&(v=5e3)}setTimeout((()=>{he.setState({surveyState:Object.assign(Object.assign({},e),{isFinished:!0,survey:c?null:e.survey,theme:c?null:e.theme})}),e.survey&&(ur(e.survey,s),zs(Is.finished,{surveyId:e.survey.id}))}),v)},_r=(e,t,s)=>{const r=s.includes(e);switch(t){case E.is:case E.is_ranked_as:return r;case E.is_not:case E.is_not_ranked_as:default:return!r}},dr=(e,t)=>[...e].sort(dt().ascending).join("")===[...t].sort(dt().ascending).join(""),pr=(e,t)=>{const s=e[0],r=t.find((e=>{const{condition:t,operator:r,value:i}=e;return e.condition===E.answer_contains&&j(s,{condition:t,operator:r,value:i})}));return r?r.go_to:null},mr=(e,t)=>{const s=e[0].toLowerCase(),r=t.find((e=>{const{condition:t,operator:r,value:i}=e;return e.condition===E.answer_doesnt_contain&&!j(s,{condition:t,operator:r,value:i})}));return r?r.go_to:null},hr=(e,t)=>{const s=t.find((({condition:t,value:s})=>t===E.doesnt_include_any_of_the_following&&s.every((t=>!e.includes(t)))));return s?s.go_to:null},br=e=>{const t=e.find((({condition:e})=>e===E.has_any_value));return t?t.go_to:null},gr=(e,t)=>{const s=t.find((({condition:t,value:s})=>t===E.includes_all_of_the_following&&s.every((t=>e.includes(t)))));return s?s.go_to:null},fr=(e,t)=>{const s=t.find((({condition:t,value:s})=>t===E.includes_any_of_the_following&&s.some((t=>e.includes(t)))));return s?s.go_to:null},yr=(e,t)=>{const s=e[0],r=t.find((({condition:e,value:t})=>e===E.is&&t.includes(s)));return r?r.go_to:null},wr=(e,t)=>{const s=e[0],r=t.find((({condition:e,value:t})=>e===E.is_between&&R(t,s)));return r?r.go_to:null},xr=(e,t)=>{const s=t.find((({condition:t,value:s})=>t===E.is_exactly&&dr(e,s)));return s?s.go_to:null},Sr=(e,{field_id:t,field_id_operator:s})=>{if(!(null==t?void 0:t.length))return!1;if(-1===t[0])return!!e.length;switch(s){case I.and:return t.every((t=>e.includes(t)));case I.or:return t.some((t=>e.includes(t)))}},kr=(e,t)=>{const s=e[0],r=t.find((({condition:e,value:t})=>e===E.is_not&&!t.includes(s)));return r?r.go_to:null},Mr=(e,{field_id:t,field_id_operator:s})=>{if(!(null==t?void 0:t.length))return!1;if(-1===t[0])return!!e.length;switch(s){case I.and:return t.every((t=>!e.includes(t)));case I.or:return t.some((t=>!e.includes(t)))}},Ar=(e,t)=>{const s=e[0],r=t.find((({condition:e})=>e===E.question_is_answered&&s));return r?r.go_to:null},Or=(e,t)=>{const s=e[0],r=t.find((({condition:e})=>e===E.question_is_not_answered&&!s));return r?r.go_to:null},Nr=(e,t)=>{let s=!1;switch(t.condition){case E.is_between:case E.is_ranked_between:{const{answer_id:r,answer_id_operator:i,value:n}=t,o=r,a=e.filter((e=>null==o?void 0:o.includes(e.answerId))),c=a.map((({value:e})=>R(n,e)));if(a.length){s=i===I.and?!c.includes(!1):c.includes(!0)}else s=!1;break}case E.is:case E.is_ranked_as:case E.is_not:case E.is_not_ranked_as:s=((e,t)=>{const{answer_id:s,value:r,answer_id_operator:i,condition:n}=e;let o=!1;const a=(e=>e.map((e=>`${e.answerId}-${e.value}`)))(t.filter((e=>null==s?void 0:s.includes(e.answerId)))),c=((e,t)=>e.map((e=>t.map((t=>`${e}-${t}`)))).flat())(s,r);switch(i){case I.and:o=a.every((e=>_r(e,n,c)));break;case I.or:o=a.some((e=>_r(e,n,c)))}return o})(t,e);break;case E.is_filled_in:{const{field_id:r,field_id_operator:i}=t;s=Sr(e,{field_id:r,field_id_operator:i});break}case E.is_not_filled_in:{const{field_id:r,field_id_operator:i}=t;s=Mr(e,{field_id:r,field_id_operator:i});break}case E.has_any_value:s=!0}return s},Tr=(e,t)=>{const s=null==t?void 0:t.map((s=>{var r;let i=null;const n=e,o=e;if(null===(r=s.group)||void 0===r?void 0:r.length)i=((e,t)=>{const{group:s,go_to:r,group_operator:i}=e,n=s.map((e=>Nr(t,e)?r:null));return i===I.or?n.find((e=>e))||null:i===I.and&&n.includes(null)?null:n[0]})(s,e);else switch(s.condition){case E.is:i=yr(n,t);break;case E.is_not:i=kr(n,t);break;case E.is_between:i=wr(n,t);break;case E.is_exactly:i=xr(n,t);break;case E.includes_any_of_the_following:i=fr(n,t);break;case E.includes_all_of_the_following:i=gr(n,t);break;case E.doesnt_include_any_of_the_following:i=hr(n,t);break;case E.question_is_answered:i=Ar(o,t);break;case E.question_is_not_answered:i=Or(o,t);break;case E.answer_contains:i=pr(o,t);break;case E.answer_doesnt_contain:i=mr(o,t);break;case E.has_any_value:i=br(t)}return i}));return(null==s?void 0:s.filter(Number)[0])||null};var Pr,Ir;!function(e){e.firstName="first_name",e.lastName="last_name",e.email="email",e.organization="organization",e.job="job_title",e.phone="phone",e.website="website",e.comment="comment",e.addressOne="address_one",e.addressTwo="address_two",e.city="city",e.state="state",e.zip="zip",e.fax="fax",e.annual_revenue="annual_revenue",e.employees="employees",e.industry="industry",e.confirmation="confirmation",e.security_info="security_info"}(Pr||(Pr={})),function(e){e.form="form"}(Ir||(Ir={}));const Er=(e,t)=>t.map((({content:t,survey_question_answer_id:s=0,field_id:r})=>{switch(e){case $e.text:case $e.date:return t||"";case Ir.form:return t&&r?r:"";case $e.ranking:return{answerId:s,value:Number(t)+1};case $e.matrix:return{answerId:s,value:Number(t)};case Le.nps:return Number(t);default:return s}})),Cr=-1,jr=(e,t)=>t.reduce(((s,r,i)=>r.id===e.id?t[i+1]:s),null),Rr=e=>{const{answers:t,answer_type:s}=e;return t.reduce(((e,t)=>{const{id:r,possible_answer:i}=t,n=e;if(s===$e.smileyScale){const e=[He.verySad,He.sad,He.neutral,He.happy,He.veryHappy];n[r]=e.findIndex((e=>e===i))}else n[r]=Number(i);return n}),{})},Fr=(e,t)=>{const s=Rr(e),r=t[0].survey_question_answer_id;return"number"==typeof r?[s[r]]:[]},Lr=e=>{const t=Rr(e);return e.settings.logic.map((e=>Object.assign(Object.assign({},e),{value:e.value.map((e=>t[e]))})))};const zr=({surveyState:e},t)=>{he.setState({surveyState:Object.assign(Object.assign({},e),{responseUuid:t})})},Dr=({surveyState:e},t,s)=>{const{survey:r}=e;if(!r)return;const i=[...e.pointsDisplayed,{point:t}];let n=[...e.pointsForward];n=n.length&&n[0].point.id===t.id?n.slice(1):[];const o=i[i.length-2],a=o.point;i[i.length-2]=Object.assign(Object.assign({},o),{value:s}),he.setState({surveyState:Object.assign(Object.assign({},e),{pointsDisplayed:i,pointsForward:n,pointsAnswered:Object.assign(Object.assign({},e.pointsAnswered),{[a.id]:!0})})}),he.action(Wt)({surveyName:r.name,question:t.content})};function qr({surveyState:e,visitor:t},s){if(!e.survey)return;const{answers:r,textResponse:i,anonymizedTextResponse:n}=s,{point:o}=e.pointsDisplayed[e.pointsDisplayed.length-1],a=e.pointsDisplayed.length+e.pointsForward.length===1,c=a?os():e.responseUuid;a&&(he.action(zr)(c),he.action($s)());const l=function({points:e},t,s){if([Kt.social,Kt.redirect,Kt.buttonLink,Kt.thankYouMessage].includes(t.answer_type))return null;let r=t.settings.logic;if(null==r?void 0:r.length){let i=Er(t.answer_type,s);if([$e.smileyScale,$e.numericalScale,$e.rating].includes(t.answer_type)){const e=t;i=Fr(e,s),r=Lr(e)}const n=Tr(i,r);return n===Cr?null:e.find((e=>e.id===n))||jr(t,e)}return jr(t,e)}(e.survey,o,s.answers),u={anonymizedTextResponse:n,answerType:o.answer_type,answers:r,completionRate:l?cs(e):100,description:o.description||void 0,overwrite:he.getState().surveyState.pointsAnswered[o.id]||void 0,pointType:o.type,question:o.content,response_uuid:c,survey:e.survey,surveyName:e.survey.name,surveyPointId:o.id,textResponse:i,visitor_uuid:t.uuid};he.action(qt)(u),zs(Is.answered,{pointId:o.id}),function(e,t){const s=t.global_tags;e.forEach((e=>{e.user_tag&&e.user_tag.split(";").forEach((e=>{he.action(Rt)(e)}))})),s&&s.split(";").forEach((e=>{he.action(Rt)(e)}))}(r,e.survey),l?he.action(Dr)(l,s.value):he.action(vr)()}const $r=({surveyState:e},t)=>{var s,r;if(!e.survey)return;if(!(!!(null===(s=e.survey.points)||void 0===s?void 0:s.length)&&ge.params.aid&&!e.isAlreadyAnswered&&!e.isAnsweredByEmail||t))return;const i=((e,t)=>{const s=parseInt(e,10);let r;switch(t.answer_type){case $e.smileyScale:return r=t.answers.find((e=>e.id===s)),r?Yt({answer:r,point:t}):null;case $e.single:return r=t.answers.find((e=>e.id===s)),r?Qt({answer:r,point:t}):null;case Le.nps:return 0<=s&&s<=10?Xt({point:t,value:s}):null;case Kt.button:return Jt({point:t});case $e.rating:case $e.numericalScale:case $e.customerSatisfaction:return r=t.answers.find((({id:e})=>e===s)),r?Yt({answer:r,point:t}):null}return null})(t||ge.params.aid,e.survey.points[0]);if(!i)return;he.setState({surveyState:Object.assign(Object.assign({},he.getState().surveyState),{isAnsweredByEmail:!0})});const n=i.value,{embedded_question_confirmation:o}=e.survey.settings;(null===(r=null==n?void 0:n.answer)||void 0===r?void 0:r.add_comment)||o||he.action(qr)(i)},Hr="survicate-core-theme";class Ur{static setMainColorsRules(e,t){const{accent:s,bg_primary:r,bg_secondary:i,text_accent:n,text_primary:o,text_secondary:a}=e;t(".sv-col-accent","color",s),t(".sv-bg-accent","background-color",s),t(".sv-bg-primary","background-color",r),t(".sv-bg-secondary","background-color",i),t(".sv-col-text-accent","color",n),t(".sv-col-text-primary","color",o),t(".sv-col-text-secondary","color",a)}static setSpecificElementsColors(e,t){const{accent:s,text_primary:r,text_secondary:i,overlay:n}=e;t(".sv-col-question","color",r),t(".sv-col-description","color",r),t(".sv-textarea textarea","border-color",s),t(".sv-choice-btn.sv-selected","color",s),t(".sv__form input","color",i),t(".sv__form input","border-bottom-color",i),t(".sv__form input:focus","border-bottom-color",s),t(".sv__form input:focus + .sv__contact-form-field-label","color",s),t(".sv__smiley-scale .sv__labels","color",r),n&&t(".sv-overlay","background-color",(e=>{const t=e.slice(1);return`#${t.slice(2)}${t.slice(0,2)}`})(n)||"#00000000")}static getCss(e){const t={},s=(e,s,r)=>{t[e]||(t[e]=[]),t[e].push({propertyName:s,value:r})};return this.setMainColorsRules(e.color_scheme,s),this.setSpecificElementsColors(e.color_scheme,s),_t.getCssFromRules(t)}static reloadCss(e){let t=document.getElementById(Hr);t||(t=document.createElement("style"),t.id=Hr,document.head.appendChild(t));const s=Ur.getCss(e);t.textContent=s}}const Br=(e,t)=>{const s=(Array.isArray(e.update.themes)&&e.update.themes.length>0?e.update.themes:e.backendData.themes).find((e=>e.id===t.theme_id));if(s)if(s.type===Je.mobile)he.setState({surveyState:Object.assign(Object.assign({},e.surveyState),{theme:s})}),Ur.reloadCss(s);else{const t=_t.extendTheme(s);he.setState({surveyState:Object.assign(Object.assign({},e.surveyState),{theme:t})}),_t.reloadCss(t)}},Wr=(e,t)=>{const s=Object.assign({},t),r=window._svd.translations||null;if(!(s.points&&s.points.length||(s.activated=!1,s.type!==Te.WidgetSurvey)))return;const i=s.points&&s.points.length?[{point:s.points[0]}]:[],n=!e.isPreview&&!b.ruleFulfilled(s,fe.get(),e.visitor);he.setState({surveyState:Object.assign(Object.assign({},e.surveyState),{isAlreadyAnswered:n,isFinished:!1,isMinimized:g.isWidthMobile()?!!s.settings.run_minimalized_mobile:!!s.settings.run_minimalized,isOverlayActive:!!s.settings.overlay,pointsDisplayed:i,pointsForward:[],survey:s,translationLanguage:Pe(s),translations:r||null})});!e.isPreview&&s&&s.activated&&s.points.length&&he.action($t)({surveyId:s.id,surveyName:s.name}),he.action(Br)(s),s.type===Te.PageSurvey&&(he.action($r)(),Gt(s))};var Vr=function(e,t,s,r){return new(s||(s=Promise))((function(i,n){function o(e){try{c(r.next(e))}catch(e){n(e)}}function a(e){try{c(r.throw(e))}catch(e){n(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))};class Gr{static filterUniqueSurveys(e,t,s=[]){for(let r=0;r<s.length;r+=1)if(s[r].id===e.id&&r<t)return!1;return!0}static findSurveyToDisplay(e){return Vr(this,void 0,void 0,(function*(){const t=this.getSurveysToTarget(e),s=(yield Promise.all(t.map((t=>Vr(this,void 0,void 0,(function*(){return(yield Gr.canDisplaySurvey(Object.assign(Object.assign({},e),{survey:t})))?t:null})))))).filter((e=>null!==e));s.length>0&&he.action(Wr)(s[0])}))}static canDisplaySurvey(e){return Vr(this,void 0,void 0,(function*(){return!!e.surveysTriggeredByApi.find((t=>t.id===e.survey.id))?this.canDisplayTriggeredSurvey(e):Gr.surveyHasPoints(e.survey)&&Oe.areFulfilled(e.survey,e.triggers)&&xe.areFulfilled(e)&&B.areFulfilled(e)}))}static canDisplayTriggeredSurvey(e){const t=he.getState().surveyState.forceDisplay?Gr.surveyHasPoints(e.survey):Gr.surveyHasPoints(e.survey)&&Oe.areFulfilled(e.survey,e.triggers)&&b.ruleFulfilled(e.survey,e.visit,e.visitor)&&we.ruleFulfilled(e.survey,e.visit,e.visitor);return t&&he.setState({surveyApiState:Object.assign(Object.assign({},he.getState().surveyApiState),{surveysTriggeredByApi:[]})}),t}static surveyHasPoints(e){return!!e.points}}Gr.getSurveysToTarget=({surveys:e,surveysTriggeredByApi:t})=>{var s;if(null===(s=window._sva)||void 0===s?void 0:s.disableTargeting)return t;return(t?[...t,...e]:e).filter(Gr.filterUniqueSurveys)};function Kr({surveyApiState:e,surveyState:t,backendData:s},r,i={}){const a=s.surveys.find((({id:e})=>e===r));if(!a)return;const c=Object.assign({},a),{settings:l}=c,{forceDisplay:u,displayMethod:v,displayOptions:_}=i;"forceDisplay"in i&&he.setState({surveyState:Object.assign(Object.assign({},t),{forceDisplay:u,survey:null})}),v?(l.appear_method=(e=>{switch(e){case o.immediately:return n.immediately;case o.delayed:return n.delayed;case o.scroll:return n.scroll;case o.exitIntent:return n.exitIntent}return n.immediately})(v),l.appear_method===n.delayed&&_&&_.delay&&(l.display_delay=_.delay),l.appear_method===n.scroll&&_&&_.scrolledPercentage&&(l.display_scroll=_.scrolledPercentage)):l.appear_method=n.immediately;const d=u?[c]:[...e.surveysTriggeredByApi,c];he.setState({surveyApiState:Object.assign(Object.assign({},e),{surveysTriggeredByApi:d})}),l.appear_method===n.immediately?he.action(pt)():yt.startTargeting([...d,...s.surveys].filter(Gr.filterUniqueSurveys))}const Yr={retarget:pt,triggerSurveyByApi:Kr};const Zr=3e3;var Qr;function Jr(e){he.setState({surveyState:Object.assign(Object.assign({},e),{survey:null,theme:null})})}function Xr(e){setTimeout((()=>{he.action(Wr)(e.survey)}),Zr)}function ei(){he.setState({surveyState:Object.assign({},me)})}!function(e){e[e.dontSendEvent=0]="dontSendEvent",e[e.sendEvent=1]="sendEvent"}(Qr||(Qr={}));const ti={clearPointsAnswered:$s,clearSurveyState:ei,close:function({surveyState:e,isPreview:t,visitor:s}){if(Jr(e),!e.survey)return;const r=e.survey.global_close_tags;r&&r.split(";").forEach((e=>{he.action(Rt)(e)}));const i=e.pointsDisplayed.length+e.pointsForward.length===1,n=i?os():e.responseUuid;i&&(he.action(zr)(n),he.action($s)()),he.action(Ht)({response_uuid:n,surveyId:e.survey.id,surveyName:e.survey.name,survey_point_id:e.pointsDisplayed[0].point.id,user_tag:e.survey.global_close_tags,visitor:Fe(s)}),t&&Xr(e),zs(Is.closed,{surveyId:e.survey.id}),ht.resetLoadTime()},finish:vr,hideOverlay:function({surveyState:e}){he.setState({surveyState:Object.assign(Object.assign({},e),{isOverlayActive:!1})})},navigateBackward:function({surveyState:e}){const t=e.pointsDisplayed.length;if(t<=1)return;const s=e.pointsDisplayed.slice(0,-1);he.setState({surveyState:Object.assign(Object.assign({},e),{pointsDisplayed:s,pointsForward:[e.pointsDisplayed[t-1],...e.pointsForward]})})},navigateForward:function({surveyState:e}){if(!e.pointsForward.length)return;const t=[...e.pointsDisplayed,e.pointsForward[0]];he.setState({surveyState:Object.assign(Object.assign({},e),{pointsDisplayed:t,pointsForward:e.pointsForward.slice(1)})})},pointAnswer:qr,setResponseUuid:zr,setSurvey:Wr,setSurveyPoint:Dr,setTheme:Br,toggleMinimize:function({surveyState:e},t){he.setState({surveyState:Object.assign(Object.assign({},e),{isMinimized:t})}),e.survey&&(t?he.action(Ut)({surveyName:e.survey.name}):he.action(Bt)({surveyName:e.survey.name}))}};var si=function(e,t,s,r){return new(s||(s=Promise))((function(i,n){function o(e){try{c(r.next(e))}catch(e){n(e)}}function a(e){try{c(r.throw(e))}catch(e){n(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))};const ri={addEventListener:(e,s)=>t.add(e,s),destroyVisitor:e=>si(void 0,void 0,void 0,(function*(){fe.resetVisit(),he.action(ei)(),lr(cr.kiosk),e&&"function"==typeof e&&e()})),getState:()=>Object.assign(Object.assign({},he.getState()),{visit:fe.get()}),getSurvey:()=>{const{survey:e}=he.getState().surveyState;return e?{id:e.id,name:e.name}:{id:null,name:null}},getVisitorId:()=>he.getState().visitor.uuid,invokeEvent(e,t){he.action(pt)({eventTrigger:{name:e,properties:t}})},removeEventListener:e=>t.remove(e),retarget:()=>{const{surveyApiState:e,backendData:t}=he.getState();yt.startTargeting([...e.surveysTriggeredByApi,...t.surveys].filter(Gr.filterUniqueSurveys)),he.action(pt)()},setVisitorTraits:e=>he.action(Ct)(e),showSurvey:(e,t={})=>{const{backendData:s,surveyState:r}=he.getState(),i=s.surveys.find((t=>t.id===e));return!!i&&(!(!t.forceDisplay&&r.survey)&&(he.action(Kr)(e,t),t.forceDisplay||b.ruleFulfilled(i,fe.get(),he.getState().visitor)))}};var ii,ni,oi;!function(e){e.immediately="immediately",e.delayed="delayed",e.exitIntent="exitIntent",e.scroll="onScroll"}(ii||(ii={})),function(e){e.questionAnswered="question_answered",e.surveyDisplayed="survey_displayed",e.surveyCompleted="survey_completed",e.surveyClosed="survey_closed"}(ni||(ni={})),function(e){e.Finish="finish",e.Security="security",e.Unavailable="unavailable",e.ThankYou="thankYou"}(oi||(oi={}));var ai=s(378);const ci=e=>e===_e.mobile||e!==_e.desktop&&g.isWidthMobile(),li=(e,t)=>t?Object.keys(e).reduce(((s,r)=>{if(!t[r])return Object.assign(Object.assign({},s),{[r]:e[r]});let i;if("string"==typeof t[r]&&(i=t[r]),"settings"===r){const s=e[r].scale;if(s){const n=s.map((e=>{const s={name:t[r].scale[e.id]};return li(e,s)}));i=Object.assign(Object.assign({},e[r]),{scale:n})}else i=li(e[r],t[r])}return"answers"!==r&&"fields"!==r||(i=e[r].map((e=>{const s={["answers"===r?"possible_answer":"label"]:t[r][e.id]};return li(e,s)}))),Object.assign(Object.assign({},s),{[r]:i})}),Object.assign({},e)):e,ui=e=>{const{surveyState:t}=he.getState(),s=t.translations||window._svd.translations,r=t.translationLanguage||Pe(e);return s&&r?li(e.settings.messages,s[e.id][r].settings.messages):e.settings.messages},vi=e=>{const{surveyState:t}=he.getState(),{translations:s,translationLanguage:r}=t,i=t.survey;return s&&r?li(e,s[i.id][r].points[e.id]):e},_i=(e,t)=>{switch(t.type){case"setIsHidden":return Object.assign(Object.assign({},e),{isHidden:t.payload});case"setIsDisabled":return Object.assign(Object.assign({},e),{isDisabled:t.payload});case"shouldRender":return Object.assign(Object.assign({},e),{isVisible:t.payload});case"setText":return Object.assign(Object.assign({},e),{text:t.payload});case"shouldMoveUp":return Object.assign(Object.assign({},e),{shouldMoveUp:t.payload});default:return e}},di=e=>{Ms((()=>(document.addEventListener("sv__onSubmit",e),()=>{document.removeEventListener("sv__onSubmit",e)})),[e])},pi={disable:()=>{},hide:()=>{},isDisabled:!1,isHidden:!1,isVisible:!0,moveUp:()=>{},onSubmit:()=>{},render:()=>{},setText:()=>{},shouldMoveUp:!1,text:"Submit",useEvent:()=>{}},mi=(0,ds.createContext)(pi),hi=(0,ai.$)((e=>({state:e,survey:e.surveyState.survey,surveyPoint:e.surveyState.pointsDisplayed[e.surveyState.pointsDisplayed.length-1],surveyState:e.surveyState,translationLanguage:e.surveyState.translationLanguage,translations:e.surveyState.translations})))((({survey:e,surveyPoint:t,children:s,translations:r,translationLanguage:i,surveyState:n,state:o})=>{var a,c;const l=[Le.nps,$e.customerSatisfaction,$e.numericalScale,$e.rating,$e.single,$e.smileyScale],u=[Kt.social,Kt.thankYouMessage,Kt.redirect],v=[Kt.button,Kt.buttonLink,Kt.buttonClose],_=[...v,$e.ranking],[d,p]=ks(_i,pi),m=new CustomEvent("sv__onSubmit"),h=Ns((()=>Object.assign(Object.assign({},d),{disable:e=>p({payload:e,type:"setIsDisabled"}),hide:e=>p({payload:e,type:"setIsHidden"}),onSubmit:()=>document.dispatchEvent(m),render:e=>p({payload:e,type:"shouldRender"}),setText:e=>p({payload:e,type:"setText"}),useEvent:di})),[d]),b=Ns((()=>{switch(null==e?void 0:e.type){case Te.WidgetSurvey:case Te.PageSurvey:return ui(e);default:return null==e?void 0:e.settings.messages}}),[e]),g=null==t?void 0:t.point.answer_type,f=null===(a=null==t?void 0:t.point.settings)||void 0===a?void 0:a.text;return Ms((()=>{n.isAlreadyAnswered||n.isFinished||(l.includes(g)||p({payload:!0,type:"shouldRender"}),u.includes(g)&&p({payload:!1,type:"shouldRender"}),_.includes(g)&&p({payload:!1,type:"setIsDisabled"}))}),[t]),Ms((()=>{p({payload:b?v.includes(g)&&r?vi(t.point).settings.text||b.submit_text:f||b.submit_text:"Submit",type:"setText"})}),[null==t?void 0:t.point.settings,null===(c=null==e?void 0:e.settings)||void 0===c?void 0:c.messages.submit_text,f,i,r]),Ms((()=>{v.includes(g)&&ci(o.previewDevice)&&!e.settings.hide_footer&&(null==e?void 0:e.type)===Te.PageSurvey&&p({payload:!0,type:"shouldMoveUp"})}),[t,o.previewDevice]),(0,ds.h)(mi.Provider,{value:h},s)})),bi=e=>{if(!e)return"";const t=(e=>(null==e?void 0:e.background_layout)===Xe.repeat?"repeat":"no-repeat")(e);return`\n    background-image: url('${(null==e?void 0:e.background_url)||""}');\n    background-repeat: ${t};\n    background-size: ${(null==e?void 0:e.background_layout)||""};\n    background-position: ${(null==e?void 0:e.background_position)||""};\n  `},gi=e=>Object.keys(e).reduce(((t,s)=>e[s]?[...t,s]:t),[]).join(" "),fi=({buttonLink:e,buttonText:t})=>(0,ds.h)("a",{className:"sv__simple-link-button",type:"button",href:e,target:"_blank",rel:"noreferrer"},t);class yi extends ds.Component{constructor(e){super(e),this.scrollableAreaHeight=0,this.getScrollableAreaHeight=()=>{var e,t;return g.isWidthMobile()?(null===(e=document.querySelector('[data-id="scrollable-area"]'))||void 0===e?void 0:e.clientHeight)||0:this.props.shouldUseAlternateSelectors?(null===(t=document.querySelector('[data-id="branded-point-scrollable-area"]'))||void 0===t?void 0:t.clientHeight)||0:Math.max(document.body.scrollHeight||0,document.documentElement.scrollHeight||0,document.body.offsetHeight||0,document.documentElement.offsetHeight||0,document.body.clientHeight||0,document.documentElement.clientHeight||0)},this.getScrollPercent=()=>{const e=document.querySelector(this.getScrollContainerSelector());return((()=>g.isWidthMobile()||this.props.shouldUseAlternateSelectors?(null==e?void 0:e.scrollTop)||0:window.pageYOffset||document.body.scrollTop||document.documentElement.scrollTop||0)()+(()=>g.isWidthMobile()||this.props.shouldUseAlternateSelectors?(null==e?void 0:e.clientHeight)||0:window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight||0)())/this.getScrollableAreaHeight()*100},this.checkIfActive=bt((()=>{const e=this.getScrollPercent();e>95&&this.state.isActive&&this.setState({isActive:!1}),e<95&&!this.state.isActive&&this.setState({isActive:!0})}),50),this.detectScrollableAreaHeightChange=()=>{const e=this.getScrollableAreaHeight();(this.scrollableAreaHeight!==e||window._svc.isPreview)&&(this.scrollableAreaHeight=e,this.checkIfActive())},this.getScrollContainerSelector=()=>this.props.shouldUseAlternateSelectors?'[data-testid="finish-screen"]':'[data-id="scroll-container"]',this.state={isActive:!1}}componentDidMount(){var e;this.checkIfActive(),window.addEventListener("scroll",this.checkIfActive),null===(e=document.querySelector(this.getScrollContainerSelector()))||void 0===e||e.addEventListener("scroll",this.checkIfActive);const t=window._svc.isPreview?100:1e3;this.scrollableAreaHeightListener=window.setInterval(this.detectScrollableAreaHeightChange,t)}componentWillUnmount(){var e;window.removeEventListener("scroll",this.checkIfActive),null===(e=document.querySelector(this.getScrollContainerSelector()))||void 0===e||e.removeEventListener("scroll",this.checkIfActive),window.clearInterval(this.scrollableAreaHeightListener)}render(){var e;const t={"sv__scroll-indicator":!0,"sv__scroll-indicator-inactive":!(null===(e=this.state)||void 0===e?void 0:e.isActive)};return(0,ds.h)("div",{className:gi(t)},(0,ds.h)("span",null,"Scroll down"))}}const wi=yi,xi=({isClickable:e,imageURL:t,buttonLink:s})=>{const r={sv__background__wrapper:!0,"sv__background__wrapper--unclickable":!e};return(0,ds.h)("a",{className:gi(r),href:s,target:"_blank",rel:"noreferrer"},(0,ds.h)("img",{className:"sv__background","data-testid":"survey-status-background",src:t,alt:"Background"}))};function Si(e){e.styles;var t=Object.assign({},e);return delete t.styles,(0,ds.h)("svg",Object.assign({width:"24px",height:"24px",viewBox:"0 0 24 24",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},t),["\n    ",(0,ds.h)("title",{},["icon / basic / arrow forward"]),"\n    ",(0,ds.h)("defs",{},["\n        ",(0,ds.h)("polygon",{id:"svg-ArrowForward-1-iWS0H",points:"12 2 10.2375 3.7625 17.2125 10.75 2 10.75 2 13.25 17.2125 13.25 10.2375 20.2375 12 22 22 12"},[]),"\n    "]),"\n    ",(0,ds.h)("g",{id:"svg-ArrowForward-2QtnVG5",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},["\n        ",(0,ds.h)("polygon",{id:"svg-ArrowForward-3jY1JFX",points:"0 0 24 0 24 24 0 24"},[]),"\n        ",(0,ds.h)("mask",{id:"svg-ArrowForward-1zPcJy0",fill:"white"},["\n            ",(0,ds.h)("use",{"xlink:href":"#svg-ArrowForward-1-iWS0H"},[]),"\n        "]),"\n        ",(0,ds.h)("use",{id:"svg-ArrowForward-3esRkKp",fill:"#747776","xlink:href":"#svg-ArrowForward-1-iWS0H"},[]),"\n    "]),"\n"])}function ki(e){e.styles;var t=Object.assign({},e);return delete t.styles,(0,ds.h)("svg",Object.assign({width:"90",height:"17",viewBox:"0 0 497 83",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),["\n",(0,ds.h)("path",{d:"M19.7577 61.9935C19.7577 64.798 23.3382 66.4781 28.6099 66.4781C30.7371 66.4781 34.3176 66.1474 34.3176 64.1234C34.3176 62.0993 31.4109 61.6628 20.4315 58.8318C9.22756 55.9214 2.39682 50.5372 2.39682 40.9991C2.39682 29.9 13.4819 23.1797 25.69 23.1797C41.9279 23.1797 51.1104 32.1489 51.1104 42.3485H32.0715C32.0715 39.4381 28.1078 38.8692 26.3638 38.8692C24.131 38.8692 21.4357 39.4381 21.4357 40.9991C21.4357 42.5601 23.4571 42.6924 36.1145 46.6082C51.1104 51.2119 53.2904 58.8318 53.2904 64.5467C53.2904 76.3205 41.3994 82.1544 28.0946 82.1544C12.0285 82.1809 0.666016 75.8971 0.666016 61.9935H19.7577Z",fill:"#171D1A"},[]),"\n",(0,ds.h)("path",{d:"M119.195 24.3311V81.0569H101.279L100.156 74.244C94.5675 78.9535 87.9614 82.1813 80.5625 82.1813C66.2272 82.1813 60.0703 73.1063 60.0703 58.184V24.3311H79.1091V48.9899C79.1091 60.9885 82.2404 64.2429 88.3577 64.2429C93.7351 64.2429 100.117 61.4383 100.117 50.1143V24.3311H119.195Z",fill:"#171D1A"},[]),"\n",(0,ds.h)("path",{d:"M166.002 25.559L163.531 42.2672C161.868 41.5225 160.067 41.1392 158.246 41.1427C152.538 41.1427 148.284 45.8522 148.284 59.7559V81.0545H129.271V24.3287H147.187L147.967 29.3689C151.442 25.559 155.366 23.2042 159.501 23.2042C161.89 23.1183 164.22 23.9623 166.002 25.559",fill:"#171D1A"},[]),"\n",(0,ds.h)("path",{d:"M239.12 24.3311L215.272 81.0569H193.208L169.359 24.3311H190.644L204.306 60.6578L217.848 24.3311H239.12Z",fill:"#171D1A"},[]),"\n",(0,ds.h)("path",{d:"M263.762 81.0562H244.723V24.3304H263.762V81.0562ZM245.264 9.30226C245.264 7.52831 245.79 5.7942 246.774 4.31921C247.758 2.84423 249.157 1.69461 250.794 1.01575C252.431 0.336892 254.232 0.159274 255.97 0.505354C257.708 0.851434 259.304 1.70567 260.556 2.96004C261.809 4.21441 262.662 5.81258 263.008 7.55244C263.354 9.2923 263.176 11.0957 262.498 12.7346C261.82 14.3735 260.672 15.7744 259.199 16.7599C257.726 17.7455 255.994 18.2715 254.222 18.2715C251.877 18.2998 249.616 17.3947 247.936 15.7552C246.257 14.1156 245.296 11.8756 245.264 9.52715V9.30226Z",fill:"#171D1A"},[]),"\n",(0,ds.h)("path",{d:"M303.728 41.1715C298.245 41.1715 291.744 45.2063 291.744 52.7204C291.744 60.2344 298.245 64.2693 303.728 64.2693C305.974 64.3436 308.212 63.965 310.31 63.156C312.407 62.3469 314.32 61.1239 315.936 59.5597V77.4982C311.407 80.7368 305.934 82.3834 300.372 82.1813C283.46 82.1813 271.596 68.6216 271.596 52.6939C271.596 37.0044 283.487 23.2065 300.372 23.2065C305.94 23.0198 311.413 24.6852 315.936 27.9425V45.6561C314.296 44.1414 312.373 42.9656 310.278 42.1961C308.183 41.4265 305.957 41.0784 303.728 41.1715",fill:"#171D1A"},[]),"\n",(0,ds.h)("path",{d:"M350.091 23.2061C358.719 23.2061 364.876 27.1747 367.267 31.8446L368.39 24.3305H386.306V81.0563H368.337L367.228 73.5423C364.876 78.146 358.719 82.1808 350.052 82.1808C333.814 82.1808 322.623 68.9518 322.623 52.6934C322.623 36.435 333.814 23.2061 350.052 23.2061H350.091ZM353.408 64.2159C354.984 64.3247 356.566 64.108 358.056 63.5791C359.546 63.0502 360.911 62.2205 362.067 61.1413C363.223 60.0622 364.145 58.7568 364.776 57.306C365.407 55.8552 365.733 54.29 365.735 52.7076C365.737 51.1252 365.414 49.5592 364.786 48.107C364.159 46.6548 363.239 45.3472 362.086 44.2654C360.932 43.1837 359.569 42.3508 358.081 41.8185C356.593 41.2862 355.011 41.0658 353.434 41.171C350.375 41.171 347.441 42.3878 345.278 44.5536C343.115 46.7194 341.9 49.6569 341.9 52.7199C341.9 55.7828 343.115 58.7204 345.278 60.8862C347.441 63.052 350.375 64.2688 353.434 64.2688",fill:"#171D1A"},[]),"\n",(0,ds.h)("path",{d:"M436.671 42.2696H422.878V81.057H403.839V42.2696H394.102V24.3312H403.839V7.50391H422.878V24.3312H436.671V42.2696Z",fill:"#171D1A"},[]),"\n",(0,ds.h)("path",{d:"M496.664 58.5268H459.049C459.273 61.1726 461.625 65.3529 469.46 65.3529C471.345 65.399 473.215 65.0088 474.925 64.2126C476.634 63.4163 478.137 62.2356 479.316 60.7625L495.884 62.4426C494.801 70.0625 485.922 82.1802 469.341 82.1802C451.319 82.1802 440.01 68.2765 440.01 52.3489C440.01 36.6593 450.87 23.2451 468.337 23.2451C485.803 23.2451 496.664 37.0297 496.664 53.6718V58.5268ZM477.625 45.6285C477.4 42.7182 473.926 40.0195 468.376 40.0195C462.827 40.0195 459.313 42.6652 459.128 45.6285H477.625Z",fill:"#171D1A"},[]),"\n"])}const Mi=({buttonLink:e})=>(0,ds.h)("a",{className:"sv__branded-footer",type:"button",href:e,target:"_blank",rel:"noreferrer"},(0,ds.h)("div",{className:"sv__branded-footer__content"},(0,ds.h)("p",{className:"sv__branded-footer__text"}," Your turn to use "),(0,ds.h)(ki,{className:"sv__survicate-wordmark"}),(0,ds.h)(Si,{className:"sv__arrow-forward"}))),Ai=({texts:{button:e,paragraphs:{mobile:t},titles:s},buttonLink:r="",screenType:i,point:n})=>{const o=i===oi.Finish,a={alt:o?"Completed icon":"Survey unavailable icon",url:"https://surveys-static.survicate.com/images/"+(o?"surveyCompletedIcon.svg":"surveyUnavailableIcon.svg")},c={alt:o?"Completed icon":"Thank you icon",url:"https://surveys-static.survicate.com/images/"+(o?"mobileCompleted.svg":"mobileThankYou.svg")};return(0,ds.h)("div",{className:"sv__survey-status-view--with-branding"},n?(0,ds.h)(ds.Fragment,null,n,(0,ds.h)(Mi,{buttonLink:r})):(0,ds.h)(ds.Fragment,null,(0,ds.h)("img",{className:"sv__survi-logo",src:"https://surveys-static.survicate.com/images/surviLogoDark.svg",alt:"Survicate Logo"}),(0,ds.h)("div",{className:"Mask"}),(0,ds.h)("img",{className:"sv__status-emoji",src:a.url,alt:a.alt}),(0,ds.h)("div",{className:"sv__content"},(0,ds.h)("div",{className:"sv__title-wrapper"},(0,ds.h)("p",{className:"sv__title"}," ",o?s.mobile:s.unavailable," "),(0,ds.h)("p",{className:"sv__emoji"},o?"🙌":"😔"," ")),(0,ds.h)("p",{className:"sv__paragraph"},(o?t.finish:t.unavailable).map((e=>(0,ds.h)("div",{key:e.substring(0,5)}," ",e," "))))),(0,ds.h)("img",{className:"sv__status-logo",src:c.url,alt:c.alt}),(0,ds.h)(fi,{buttonLink:r,buttonText:e})))},Oi=JSON.parse('{"titles":{"desktop":["Congratulations!","You\'ve completed the survey"],"mobile":"Thank you for completing the survey! ","unavailable":"Uh-oh! This survey is currently unavailable "},"paragraphs":{"desktop":["Don\'t let that stop you! Create your own survey in just a few clicks.","With Survicate, a user journey survey software, you can get continuous user insights at all stages of the funnel:"],"mobile":{"unavailable":["Don\'t let that stop you! Create your own survey in just a few clicks.","Find out how Survicate can help you gain valuable insights."],"finish":["But hey, why stop here? You can create surveys like this one and get feedback from your own customers too.","See how to get valuable insights in no time with Survicate."]}},"list":["Better understand your audience with website surveys","Validate your product ideas with in-app feedback surveys","Identify churn reasons to improve customer experience"],"button":"LEARN MORE","security":"Your browser doesn’t meet our security standards. Please update your browser to answer this survey."}'),Ni=({backgroundImage:e,screenType:t,point:s,isMobile:r,themeSettings:i})=>{var n,o,a;const c=t===oi.Unavailable,l=t===oi.ThankYou,u=null===(n=window._svc)||void 0===n?void 0:n.workspaceKey,v=window._svd.survey.id,_=`https://survicate.com/?utm_source=${l||t===oi.Finish?"Survey+branding+thank+you+page":"Survey_unavailable"}&utm_medium=PageSurvey&utm_content=${u}&utm_term=${v}`,{paragraphs:d,list:p,button:m,titles:h}=Oi,b=t===oi.Finish,{color_scheme:g}=(null===(o=window._svd)||void 0===o?void 0:o.themes)[0],f=i||(null===(a=window._svd)||void 0===a?void 0:a.themes)[0].settings,y={"sv__survey-status-view--with-branding":!0,"sv__thank-you":l},w={surveyAvailable:{emoji:"🎉",subtitle:h.desktop[0],title:h.desktop[1]},surveyUnavailable:{emoji:"😔",subtitle:null,title:h.unavailable}},x=c?w.surveyUnavailable:w.surveyAvailable;if(r)return(0,ds.h)(Ai,{buttonLink:_,screenType:t,texts:Oi,point:s});const S=(0,ds.h)("div",{className:"sv__content"},(0,ds.h)("img",{className:"sv__content__logo",src:"https://surveys-static.survicate.com/images/surviLogoDark.svg",alt:"Survicate Logo"}),(0,ds.h)("div",{className:"sv__title__wrapper"},x.subtitle&&(0,ds.h)("h4",{className:"sv__subtitle"}," ",x.subtitle," "),(0,ds.h)("div",{className:"sv__title-emoji__wrapper"},(0,ds.h)("h1",{className:"sv__title"}," ",x.title," "),(0,ds.h)("p",{className:"sv__emoji"},x.emoji," "))),c&&(0,ds.h)(ds.Fragment,null,(0,ds.h)("p",{className:"sv__content__paragraph"},d.desktop.map((e=>(0,ds.h)("div",{key:e.substring(0,5)}," ",e," ")))),(0,ds.h)("ul",{className:"sv__content__list"},p.map((e=>(0,ds.h)("li",{className:"sv__content__list--element",key:e.substring(0,5)},(0,ds.h)("img",{src:"https://surveys-static.survicate.com/images/iconTick.svg",alt:"tick"}),(0,ds.h)("div",null," ",e," "))))),(0,ds.h)(fi,{buttonLink:_,buttonText:m}))),k=(0,ds.h)("div",{className:`sv__branded-point-wrapper sv__branded-${null==s?void 0:s.props.point.answer_type}-point-wrapper`},s,(0,ds.h)(wi,{shouldUseAlternateSelectors:!0}));return(0,ds.h)("div",{className:gi(y),style:l?`${bi(f)}\n        background-color: ${g.background};`:"","data-testid":"finish-screen"},s?k:S,(0,ds.h)(xi,{isClickable:b,buttonLink:_,imageURL:e}))},Ti=({text:e,theme:t})=>{const{color_scheme:s,settings:r}=t,i=(null==s?void 0:s.answer)?s.answer:"#29292a",n=(null==s?void 0:s.background)&&!(null==r?void 0:r.background_url)?s.background:"";return(0,ds.h)("div",{className:"sv__survey-status-view--non-branded",style:{backgroundColor:n}},(0,ds.h)("div",{className:"sv__intro-text",style:{color:i}}),(0,ds.h)("div",{className:"sv__main-text__wrapper"},(0,ds.h)("span",{className:"sv__main-text","data-testid":"survey-status-main-text",style:{color:i}},e)))},Pi=({text:e,screenType:t})=>{var s;document.body.style.margin="0";const r=Ts(mi),i=t===oi.Finish,n=t===oi.Security,o=(e=>{var t,s,r,i,n;return e===oi.Unavailable?null===(r=null===(s=null===(t=window._svd)||void 0===t?void 0:t.survey)||void 0===s?void 0:s.settings)||void 0===r?void 0:r.hide_footer:null===(n=null===(i=he.getState().surveyState.survey)||void 0===i?void 0:i.settings)||void 0===n?void 0:n.hide_footer})(t),a=ci(he.getState().previewDevice),{security:c}=Oi,l=(null===(s=window._svd)||void 0===s?void 0:s.themes)[0],{settings:u}=l,v={finishURL:"https://surveys-static.survicate.com/images/backgroundFinish.svg",surveyUnavailableURL:"https://surveys-static.survicate.com/images/surveyUnavailable.svg"},_={survicate_unavailable_GfpPU:!i,sv__finish:i,"sv__is-mobile":a,"sv__survey-status-view":!0,sv__unavailable:!i};return Ms((()=>{r.render(!1)}),[]),(0,ds.h)("div",{className:gi(_),"data-testid":"survey-status-gate",style:n||!o?"":bi(u)},n||o?(0,ds.h)(Ti,{text:n?c:e,theme:l}):(0,ds.h)(Ni,{screenType:t,backgroundImage:i?v.finishURL:v.surveyUnavailableURL,isMobile:a}))};var Ii=function(e,t,s,r){return new(s||(s=Promise))((function(i,n){function o(e){try{c(r.next(e))}catch(e){n(e)}}function a(e){try{c(r.throw(e))}catch(e){n(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))};const Ei=(0,ds.createContext)({}),Ci=({children:e,surveyType:t})=>{var s;const r=window._svd||{},i=window._svc||{},n=t===Te.PageSurvey,o=t===Te.WidgetSurvey,a=!!i.isPreview,c=t===Te.PageSurvey?`surveys/${null===(s=r.survey)||void 0===s?void 0:s.id}`:"web_surveys",l={isPage:n,isPreview:a,isWidget:o,pageSurvey:n?r.survey:null,surveyType:t,surveyUpdated:!1,update:{},widgetSurveys:a&&o?[r.survey]:r.surveys},[u,v]=Ss(l),_=()=>Ii(void 0,void 0,void 0,(function*(){var e;try{const t=yield d();if(!t)return;(null===(e=t.surveys)||void 0===e?void 0:e.length)&&(t.surveys=t.surveys.filter((e=>e.type!==Te.FeedbackButtonSurvey))),v((e=>Object.assign(Object.assign({},e),{surveyUpdated:!0,update:t}))),setTimeout((()=>v((e=>Object.assign(Object.assign({},e),{surveyUpdated:!1})))),100)}catch(e){console.error("Error updating survey:",e)}})),d=()=>Ii(void 0,void 0,void 0,(function*(){if(navigator.onLine)return p();window.addEventListener("online",m)})),p=()=>Ii(void 0,void 0,void 0,(function*(){try{const e=yield N("https://survey.survicate.com").get(`/workspaces/${i.workspaceKey}/${c}.json`);return null==e?void 0:e.data}catch(e){return console.error("Error retrieving survey data:",e),null}})),m=()=>{navigator.onLine&&(window.removeEventListener("online",m),_())};return Ms((()=>{if(a)return;const e=setInterval(_,18e5);return()=>{clearInterval(e),window.removeEventListener("online",m)}}),[]),(0,ds.h)(Ei.Provider,{value:u},e)},ji=({children:e})=>{var t,s;const{pageSurvey:r,widgetSurveys:i,isPreview:n,update:o,isWidget:a}=Ts(Ei),c=!!o&&Object.keys(o).length>0,l=c?!!o.surveys.length:!!(null==i?void 0:i.length),u=null===(t=c?o.survey:r)||void 0===t?void 0:t.activated,v=!(r&&(n||u&&(null===(s=r.points)||void 0===s?void 0:s.length))),_=!v||l;let d="";return v&&(d=r?ui(r).disabled_text:"This survey is currently unavailable."),_?e:a?null:(0,ds.h)(Pi,{text:d,screenType:oi.Unavailable})},Ri={chrome:"<63",edge:"<80",firefox:"<52",opera:"<42",safari:"<9"},Fi=s(616).default||s(616),Li=()=>({isSupportedBrowser:(()=>{try{const e="function"==typeof crypto.getRandomValues,t=!!document.createEvent("Event");return e&&t}catch(e){return!1}})()&&!Fi(navigator.userAgent)&&!G().getParser(window.navigator.userAgent).satisfies(Ri)}),zi=({children:e})=>{const{isSupportedBrowser:t}=Li(),{isPage:s}=Ts(Ei);return t?e:s?(0,ds.h)(Pi,{screenType:oi.Security}):null},Di=()=>{const{surveyInteraction:e}=Ts(Ds),t=e=>{var t;if(!e)return!1;const s=`${ce.state}:${e}`,r=(null===(t=ee.get(s))||void 0===t?void 0:t.timestamp)||0;return Date.now()-r>2592e6};return Ms((()=>{(null==e?void 0:e.interactionType)!==Is.answered&&ee.remove(`${ce.state}:${null==e?void 0:e.surveyId}`)}),[e]),{isCacheOutdated:t,preserveState:e=>{if(!e)return;const t=`${ce.state}:${e}`;ee.set(t,{surveyApiState:he.getState().surveyApiState,surveyState:he.getState().surveyState,timestamp:Date.now()})},retrieveState:e=>{var s,r,i,n;const o=he.getState();if(!e||o.isPreview||(null===(r=null===(s=o.surveyState.survey)||void 0===s?void 0:s.settings)||void 0===r?void 0:r.kiosk_enabled))return;const a=`${ce.state}:${e}`,c=null===(i=ee.get(a))||void 0===i?void 0:i.surveyApiState,l=null===(n=ee.get(a))||void 0===n?void 0:n.surveyState;l&&c&&(t(e)?ee.remove(`${ce.state}:${e}`):he.setState(Object.assign(Object.assign({},o),{surveyState:Object.assign(Object.assign({},l),c)})))}}},qi=(0,ai.$)((e=>{var t;return{isPreview:e.isPreview,state:e,surveyId:null===(t=e.surveyState.survey)||void 0===t?void 0:t.id}}))((({surveyId:e,children:t,state:s})=>{const{update:r,surveyUpdated:i,isWidget:n}=Ts(Ei),{isCacheOutdated:o}=Di();return Ms((()=>{var t;if(!i||!e||!o(e))return;const a=Array.isArray(r.surveys)&&r.surveys.length>0?r.surveys.find((t=>t.id===e)):null,c=n?a:r.survey;if(!c)return he.setState(Object.assign(Object.assign({},s),{surveyState:Object.assign(Object.assign({},s.surveyState),{survey:null}),update:r})),void he.action(pt)();const l=n?null==a?void 0:a.theme_id:null===(t=r.survey)||void 0===t?void 0:t.theme_id,u=r.themes.find((e=>e.id===l));let v=s.surveyState.theme;u&&(v=_t.extendTheme(u),_t.reloadCss(v));const _=n?null==a?void 0:a.points[0]:r.survey.points[0],d=null==a?void 0:a.settings;let p=!1;n&&(p=g.isWidthMobile()?!!(null==d?void 0:d.run_minimalized_mobile):!!(null==d?void 0:d.run_minimalized)),he.setState(Object.assign(Object.assign({},s),{surveyState:Object.assign(Object.assign({},s.surveyState),{isAlreadyAnswered:!1,isFinished:!1,isMinimized:p,isOverlayActive:!(!n||!d)&&!!d.overlay,pointsAnswered:[],pointsDisplayed:[{point:_}],pointsForward:[],responseUuid:"",survey:c,theme:v}),update:r}))}),[i,r,s.surveyState]),t})),$i=()=>{const e=Ts(mi),{pageSurvey:t}=Ts(Ei),s=ui(t);return Ms((()=>{e.render(!1)}),[]),(0,ds.h)("div",{className:"sv__opened-in-new-tab"},(0,ds.h)("img",{src:"https://surveys-static.survicate.com/images/refresh.svg",alt:"refresh"}),(0,ds.h)("p",null,(null==s?void 0:s.opened_text)||"The survey was opened in a new tab. Refresh this page to continue filling out this survey."))},Hi=e=>{const{isPreview:t}=Ts(Ei),s={key:`${ce.tabId}:${e}`,value:os()};let r;const[i,n]=Ss(!1);return Ms((()=>(ee.set(s.key,s.value),r=setInterval((()=>{(()=>{if(t)return void n(!1);ee.get(s.key)!==s.value&&n(!0)})()}),1e3),()=>{clearInterval(r)})),[]),{isMultiTab:i}},Ui=(0,ai.$)((e=>{var t;return{surveyId:null===(t=e.surveyState.survey)||void 0===t?void 0:t.id}}))((e=>{const{children:t,surveyId:s}=e,{isPage:r}=Ts(Ei),{isMultiTab:i}=Hi(s);return i?r?(0,ds.h)($i,null):null:t}));function Bi(e,t){he.setState({tabId:t})}function Wi(e,t){he.setState({isPreview:t})}function Vi(){return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Yr),Ot),ti),Vt),zt),{setTabId:Bi})}const Gi=e=>e.map((e=>"value"in e?{attribute_type:"string",name:e.name,operator:e.type===v.any?e.type:v.is_equal,values:e.value?[e.value]:null}:e)),Ki=e=>(null==e?void 0:e.length)?e.map((e=>{const t=e.filters.map((e=>{var t,s;const r=null===(t=e.parameters)||void 0===t?void 0:t.attributes,i=null===(s=e.parameters)||void 0===s?void 0:s.cookies;let n=Object.assign({},e.parameters);return(null==r?void 0:r.length)&&(n=Object.assign(Object.assign({},n),{attributes:Gi(r),relation:n.relation||_.or})),(null==i?void 0:i.length)&&(n=Object.assign(Object.assign({},n),{cookies:Gi(i),relation:n.relation||_.or})),Object.assign(Object.assign({},e),{parameters:n})}));return Object.assign(Object.assign({},e),{filters:t,filters_relation:e.filters_relation||_.and})})):[];var Yi=function(e,t,s,r){return new(s||(s=Promise))((function(i,n){function o(e){try{c(r.next(e))}catch(e){n(e)}}function a(e){try{c(r.throw(e))}catch(e){n(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))};const Zi=e=>Yi(void 0,void 0,void 0,(function*(){var t;he.action(At)(window._svc.workspaceKey);const s=Ki(null!==(t=window._svd.audiences)&&void 0!==t?t:[]);he.action(St)(s),he.action(kt)(window._svd.themes),he.action(Wi)(window._svc&&window._svc.isPreview),function(e){const t=new Bs(e),s=new ar(t);he.setState({storageService:t,backendService:s})}(window._svc.workspaceKey),(()=>{var e;const t=null===(e=window._svd.permissions)||void 0===e?void 0:e.targeting_javascript_api,s=()=>{console.warn("The _sva object is unavailable on your current plan. \n Upgrade your account to get access to JavaScript targeting feature")};window._sva=Object.assign(Object.assign({},window._sva),Object.keys(ri).reduce(((e,r)=>{const i=ri[r],n="setVisitorTraits"===r||t?i:s;return Object.assign(Object.assign({},e),{[r]:n})}),{})),window._svx={showSurveyPoint:e=>{var t;const s=null===(t=he.getState().surveyState.survey)||void 0===t?void 0:t.points.find((({id:t})=>t===Number(e)));s&&he.setState({surveyState:Object.assign(Object.assign({},he.getState().surveyState),{pointsDisplayed:[{point:s}]})})}}})();e===Te.WidgetSurvey&&window._svd.surveys?yield Yi(void 0,void 0,void 0,(function*(){var e,t;const s=null===(e=window._svd.surveys)||void 0===e?void 0:e.filter((e=>e.type!==Te.FeedbackButtonSurvey));lr(cr.normal),he.action(Mt)(window._svd.integrations),(null===(t=window._sva)||void 0===t?void 0:t.traits)&&he.action(Ct)(window._sva.traits),he.action(Bi)(os()),he.action(xt)(s)})):window._svd.survey&&(yield Yi(void 0,void 0,void 0,(function*(){var e;ge.params[be.multiple_responses]&&(window._svd.survey.kiosk_enabled=!0);const t=window._svd.survey.settings.kiosk_enabled||window._svc.isPreview;he.setState({isKioskMode:t});const s=t?cr.kiosk:cr.normal;lr(s),he.action(Mt)(window._svd.integrations),he.action(jt)(),ge.replaceWindowUrl(),(null===(e=window._sva)||void 0===e?void 0:e.traits)&&he.action(Ct)(window._sva.traits),he.action(Wr)(window._svd.survey)}))),function(){const e=document.createEvent("Event");e.initEvent("SurvicateReady",!0,!0),window._svc.initialized=!0,window.dispatchEvent(e)}()})),Qi=e=>{const{surveyType:t}=Ts(Ei);return As((()=>{Zi(t)}),[t]),(0,ds.h)(ai.z,{store:he},e.children)},Ji=(0,ai.$)((e=>{var t;return{surveyId:null===(t=e.surveyState.survey)||void 0===t?void 0:t.id}}))((e=>{const{surveyId:t}=e,{surveyInteraction:s}=Ts(Ds),r=Os(!0),{retrieveState:i,preserveState:n}=Di(),[o,a]=Ss(null);return Ms((()=>{var t;i(null===(t=he.getState().surveyState.survey)||void 0===t?void 0:t.id),a(e.children)}),[t]),Ms((()=>{r.current?r.current=!1:s&&s.interactionType!==Is.closed&&s.interactionType!==Is.finished&&n(t)}),[s]),o})),Xi=({surveyType:e,surveyComponent:t})=>(0,ds.h)(Ci,{surveyType:e},(0,ds.h)(zi,null,(0,ds.h)(ji,null,(0,ds.h)(Qi,null,(0,ds.h)(qs,null,(0,ds.h)(Ji,null,(0,ds.h)(qi,null,(0,ds.h)(Ui,null,(0,ds.h)(hi,null,(0,ds.h)((()=>t),null))))))))));Vs.initGlobalErrorsWatch();const en=(e,t,s=0)=>{if(!document.body)return void(s<10?setTimeout((()=>en(e,t,s+1)),250):Vs.log({message:"Failed to load survey after a maximum of 10 retries.",stack:"loadSurvey.tsx"}));const r=document.createElement("div");r.id="survicate-box",document.body.appendChild(r),(0,ds.render)((0,ds.h)(Xi,{surveyType:e,surveyComponent:t}),r)},tn=(e,t)=>{const s=()=>en(e,t);"complete"!==document.readyState&&"interactive"!==document.readyState?document.addEventListener("DOMContentLoaded",(()=>setTimeout(s,1))):setTimeout(s,1)},sn=(0,ai.$)((({surveyState:e})=>({overlay:e.survey&&e.isOverlayActive?e.survey.settings.overlay:null})),Vi)((({overlay:e,hideOverlay:t})=>{if(!e)return null;const s={survicate_dark_Wdv2U:e===i.dark,survicate_light_JL8G_:e===i.light,survicate_overlay_stIWL:!0,sv__overlay:!0,"sv__overlay--dark":e===i.dark,"sv__overlay--light":e===i.light};return(0,ds.h)("div",{role:"button",tabIndex:0,className:gi(s),onClick:t,onKeyDown:t,label:"hide-overlay"})})),rn=sn,nn=(e,t,s={})=>{"Enter"!==e.key&&" "!==e.key||(s.preventDefault&&e.preventDefault(),s.stopPropagation&&e.stopPropagation(),t(e))},on=()=>{const e=Ts(mi),t={"sv-bg-bs":!0,"sv-col-fs":!0,"sv__submit-button":!0,"sv__submit-button--hidden":e.isHidden},s={"sv__submit-button__wrapper":!0,"sv__submit-button__wrapper--moved-up":e.shouldMoveUp};return(0,ds.h)("div",{className:gi(s)},(0,ds.h)("button",{disabled:e.isDisabled,type:"button",className:gi(t),onClick:t=>{t.target instanceof HTMLButtonElement&&t.target.blur(),e.onSubmit()},onKeyDown:t=>{nn(t,e.onSubmit,{preventDefault:!0})},"data-testid":"submit-button"},e.text,(0,ds.h)("span",{className:"sv__submit-button-next-arrow"})))};class an{static isSurveyUp(){const{survey:e}=he.getState().surveyState;if(e)return e.presentation_style===a.topLeft||e.presentation_style===a.topRight;throw new Error("No survey, when looking at isSurveyUp.")}static isBackgroundLight(){const{theme:e}=he.getState().surveyState;return!e||(e=>{const{R:t,G:s,B:r}=Ye(e);return 1-(t+s+r)/765})(e.color_scheme.bg_widget)<.6}static isSimpleTheme(){return an.themeType()===Je.simple}static isMicroTheme(){return an.themeType()===Je.micro}static isMobileTheme(){return an.themeType()===Je.mobile}static isMicroThemeAndMobile(){var e;return this.isMicroTheme()&&(null===(e=he.getState().surveyState.survey)||void 0===e?void 0:e.type)===Te.MobileSurvey}static themeType(){const{theme:e}=he.getState().surveyState;return e?e.type:null}}function cn(e){e.styles;var t=Object.assign({},e);return delete t.styles,(0,ds.h)("svg",Object.assign({width:"40px",height:"40px",viewBox:"3.968 3.968 40.065 40.064",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},t),["\n  ",(0,ds.h)("g",{id:"svg-CloseIcon-OdlnnTv",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd",transform:"matrix(0, 0.813242, -0.813242, 0, 31.264067, 18.278988)",style:""},["\n    ",(0,ds.h)("g",{id:"svg-CloseIcon-1-RfPIO",transform:"translate(-3.000000, -3.000000)",fill:"#29292A"},["\n      ",(0,ds.h)("polygon",{id:"svg-CloseIcon-YnjGPzk",points:"21 4.81285714 19.1871429 3 12 10.1871429 4.81285714 3 3 4.81285714 10.1871429 12 3 19.1871429 4.81285714 21 12 13.8128571 19.1871429 21 21 19.1871429 13.8128571 12"},[]),"\n    "]),"\n  "]),"\n"])}function ln(e){e.styles;var t=Object.assign({},e);return delete t.styles,(0,ds.h)("svg",Object.assign({width:"40",height:"40",viewBox:"0 0 40 40",xmlns:"http://www.w3.org/2000/svg"},t),["\n  ",(0,ds.h)("rect",{fill:"#29292A",opacity:"0.1",x:"0",y:"0",width:"40",height:"40",rx:"3"},[]),"\n  ",(0,ds.h)("g",{fill:"#29292A",opacity:"0.5"},["\n    ",(0,ds.h)("rect",{x:"11",y:"27",width:"18",height:"2"},[]),"\n  "]),"\n"])}const un=({close:e,children:t})=>(0,ds.h)("button",{type:"button",title:"Close survey","aria-label":"Close survey",onClick:e,onKeyDown:t=>nn(t,e,{preventDefault:!0}),className:"sv-col-small-button-bw sv__btn-close"},t),vn=({toggleMinimize:e,showBackground:t,children:s})=>{const r={"sv-col-small-button-bw":!0,"sv__btn-minimize":!0,"sv__btn-minimize--padded":t};return(0,ds.h)("button",{type:"button",title:"Minimize survey","aria-label":"Minimize survey",onClick:t=>{t.preventDefault(),t.stopPropagation(),e()},onKeyDown:t=>nn(t,e,{preventDefault:!0}),className:gi(r)},s)},_n=e=>{const{close:t,showCloseBtn:s,showMinimizeBtn:r,toggleMinimize:i}=e;if(!s&&!r)return null;return(0,ds.h)("div",{className:gi({"survicate_survey-buttons_3ws-x":!0,"sv__bar-buttons":!0})},r&&(0,ds.h)(vn,{toggleMinimize:i,showBackground:!s},(0,ds.h)(ln,null)),s&&(0,ds.h)(un,{close:t},(0,ds.h)(cn,null)))};function dn(e){e.styles;var t=Object.assign({},e);return delete t.styles,(0,ds.h)("svg",Object.assign({width:"18px",height:"18px",viewBox:"0 0 18 18",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},t),["\n    ",(0,ds.h)("title",{},["Shape"]),"\n    ",(0,ds.h)("g",{id:"svg-checkbox-WVa6d7V",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},["\n        ",(0,ds.h)("g",{id:"svg-checkbox-21K9kaa",fill:"#161616","fill-rule":"nonzero"},["\n            ",(0,ds.h)("path",{fill:"currentColor",d:"M16,0 L2,0 C0.8954305,0 0,0.8954305 0,2 L0,16 C0,17.1045695 0.8954305,18 2,18 L16,18 C17.1045695,18 18,17.1045695 18,16 L18,2 C18,0.8954305 17.1045695,0 16,0 Z M7,14 L2,9 L3.41,7.59 L7,11.17 L14.59,3.58 L16,5 L7,14 Z",id:"svg-checkbox-YnjGPzk"},[]),"\n        "]),"\n    "]),"\n"])}var pn,mn;!function(e){e[e.bw=0]="bw",e[e.nestedInBw=1]="nestedInBw"}(pn||(pn={})),function(e){e[e.circle=0]="circle",e[e.square=1]="square"}(mn||(mn={}));const hn=e=>{const{display:t,colors:s,invalid:r,isSelected:i,testId:n}=e,o=t===mn.circle,a=an.isSimpleTheme(),c={"sv-bg-bw":s===pn.bw&&!a,"sv-bg-main":a&&o&&i,"sv-invalid":r||!1,"sv-nested-bg-bw":s!==pn.bw&&!a,sv__checkbox:!0,sv__circle:o,sv__selected:a&&i,sv__square:!o},l={"sv-bg-fa":a||!a&&o,"sv-checkbox-tick-border-color":!0,sv__tick:!0};return(0,ds.h)("div",{"data-testid":n,tabIndex:0,role:"button",className:gi(c),onClick:t=>e.onClick(t),onKeyDown:t=>nn(t,(()=>e.onKeyboardClick(t)),{preventDefault:!0,stopPropagation:!0})},i&&(o?(0,ds.h)("span",{className:gi(l)}):(0,ds.h)(dn,null)))},bn=({content:e,className:t="",inline:s=!1})=>s?(0,ds.h)("span",{className:t,dangerouslySetInnerHTML:{__html:e}}):(0,ds.h)("div",{className:t,dangerouslySetInnerHTML:{__html:e}});function gn(e){e.styles;var t=Object.assign({},e);return delete t.styles,(0,ds.h)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",height:"14px",viewBox:"0 0 24 24",width:"14px",fill:"#ffffff"},t),[(0,ds.h)("path",{d:"M0 0h24v24H0z",fill:"none"},[]),(0,ds.h)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"},[])])}const fn=JSON.parse('{"email":{"message":"Please enter a valid email address."},"phone":{"message":"Please enter a valid phone number."},"zip":{"message":"Please enter a valid ZIP code."},"date":{"message":"Please enter a valid date."},"select":{"message":"Please select an option from the list"}}'),yn=({children:e,invalid:t,type:s})=>{const[r,i]=Ss(""),n=he.getState().surveyState.survey,o=n&&"PageSurvey"===n.type,a=an.isMicroTheme();return Ms((()=>{if(!t)return i("");const e=s in fn?fn[s].message:"This field is required";i(e)}),[t]),(0,ds.h)(ds.Fragment,null,(o||a)&&t&&r&&(0,ds.h)("div",{className:"sv__validation"},(0,ds.h)(gn,null),(0,ds.h)("span",{className:"sv__validation__message"},r)),e)},wn=({isConfirmed:e,isInvalid:t,setConfirmation:s,label:r})=>(0,ds.h)("div",{role:"button",className:"sv__contact-form-confirmation sv__contact-form-field",onClick:()=>{an.isSimpleTheme()&&s()}},(0,ds.h)(yn,{invalid:t,type:"confirmation"},(0,ds.h)(hn,{isSelected:e,onKeyboardClick:s,onClick:e=>{e.stopPropagation(),s()},display:mn.square,colors:pn.nestedInBw,invalid:t}),(0,ds.h)("div",{role:"button",className:"sv-col-fw sv__contact-form-agreement-label",onClick:()=>{an.isSimpleTheme()||s()},"data-testid":"confirmation-label"},(0,ds.h)(bn,{content:r,className:"sv__contact-form-confirmation__content"})))),xn=e=>{const t=Os(null),{label:s,required:r,value:i,invalid:n,type:o,placeholder:a}=e,c=`${s}${r?"*":""}`,l=he.getState().surveyState.survey,u=l&&"PageSurvey"===l.type,v=an.isMicroTheme(),_=os(),d=l&&"MobileSurvey"===l.type,p={"sv__contact-form-field":!0,"sv__contact-form-field-filled":!!i,sv__dark:!d&&an.isBackgroundLight(),sv__invalid:!!n,[`sv__contact-form-${e.type}`]:!0,sv__light:!d&&!an.isBackgroundLight()},m={"sv-nested-bg-bw sv-nested-bg-hover-bw sv-col-fw sv__input":!an.isSimpleTheme()};return(0,ds.h)("div",{className:gi(p)},(u||v)&&s&&(0,ds.h)("label",{className:"sv__contact-form-field-label",htmlFor:_},c),(0,ds.h)(yn,{invalid:n,type:o},(0,ds.h)("input",{ref:t,id:_,"data-testid":s,className:gi(m),type:"text",placeholder:v?"":a||(u?"":c),value:i,onInput:t=>{t.target instanceof HTMLInputElement&&e.onInput&&e.onInput(t.target.value)},onBlur:t=>{e.onBlur&&t.target instanceof HTMLInputElement&&e.onBlur&&e.onBlur(t.target.value)}})),!u&&!v&&(0,ds.h)("span",{onClick:()=>{t.current&&t.current.focus()},className:"sv-bg-bw-before sv__contact-form-field-label"},c))},Sn=(e,t)=>{switch(t.type){case"setIsConfirmed":return Object.assign(Object.assign({},e),{isConfirmed:t.payload});case"setInvalid":return Object.assign(Object.assign({},e),{invalid:t.payload});case"setValues":return Object.assign(Object.assign({},e),{values:t.payload})}},kn=()=>{const e={"sv-col-small-button-bw":!an.isSimpleTheme(),"sv__contact-form-field":!0,"sv__contact-form-security":!0};return gi(e)};class Mn{static getChangedAnswers(e,t){const s=this.filterMissingAnswers(e,t),r=this.addMissingAnswers(e,s);return this.getModifiedAnswers(e.answers,r)}static filterMissingAnswers(e,t){const s=e.answers;return e.settings.randomize_answers?t.filter((e=>s.some((t=>e.id===t.id)))):s}static addMissingAnswers(e,t){const s=t,r=e.answers.filter((e=>!t.some((t=>t.id===e.id))));return e.settings.randomize_answers&&!e.settings.randomize_except_last?(r.forEach((e=>{s.splice(Math.floor(Math.random()*s.length)+1,0,e)})),s):t.concat(r)}static getModifiedAnswers(e,t){return t.map((t=>Object.assign(Object.assign({},t),{possible_answer:e.find((e=>e.id===t.id)).possible_answer})))}static reduceAnswers(e){return e.reduce(((e,t)=>`${e}${t.possible_answer}${t.add_comment}${t.next_survey_point_id}`),"")}static reduceContactForm(e){const t=e.fields.reduce(((e,t)=>`${e}${t.label}${t.required}`),"");let s,r;if(e.settings){const{consent:t,disclaimer:i,consent_text:n,disclaimer_text:o}=e.settings;s=t?n:"",r=i?o:""}return`${t}${s}${r}`}static reorderContactFormValues(e,t,s){return t.map((t=>{const r=s.findIndex((e=>e.id===t.id));return-1!==r?e[r]:""}))}}const An=(e=window)=>{e&&"function"==typeof e.scrollTo&&e.scrollTo(0,0)};function On(e){e.styles;var t=Object.assign({},e);return delete t.styles,(0,ds.h)("svg",Object.assign({width:"16",height:"16",viewBox:"2 -1 16 16",xmlns:"http://www.w3.org/2000/svg"},t),[" ",(0,ds.h)("path",{d:"M13.33,9.31a0.63,0.63,0,0,1,.47.2A0.67,0.67,0,0,1,14,10v4.81a0.67,0.67,0,0,1-.2.48,0.63,0.63,0,0,1-.47.2H6.67a0.63,0.63,0,0,1-.47-0.2A0.67,0.67,0,0,1,6,14.81V10a0.67,0.67,0,0,1,.2-0.48,0.63,0.63,0,0,1,.47-0.2H7.33V7.25a2.69,2.69,0,0,1,.78-1.94,2.6,2.6,0,0,1,3.77,0,2.69,2.69,0,0,1,.78,1.94V9.31h0.67ZM8.67,7.25V9.31h2.67V7.25a1.35,1.35,0,0,0-.39-1,1.31,1.31,0,0,0-1.89,0A1.35,1.35,0,0,0,8.67,7.25Z"},[])," "])}function Nn(e){e.styles;var t=Object.assign({},e);return delete t.styles,(0,ds.h)("svg",Object.assign({width:"16px",height:"21px",viewBox:"0 0 16 21",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},t),["\n    ",(0,ds.h)("title",{},["Shape"]),"\n    ",(0,ds.h)("g",{id:"svg-LockIconPageSurvey-OdlnnTv",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},["\n        ",(0,ds.h)("g",{id:"svg-LockIconPageSurvey-2sOzLBS",transform:"translate(-4.000000, -1.000000)",fill:"#000000","fill-rule":"nonzero"},["\n            ",(0,ds.h)("g",{id:"svg-LockIconPageSurvey-2PLrhI7"},["\n                ",(0,ds.h)("path",{d:"M18,8 L17,8 L17,6 C17,3.24 14.76,1 12,1 C9.24,1 7,3.24 7,6 L7,8 L6,8 C4.9,8 4,8.9 4,10 L4,20 C4,21.1 4.9,22 6,22 L18,22 C19.1,22 20,21.1 20,20 L20,10 C20,8.9 19.1,8 18,8 Z M12,17 C10.9,17 10,16.1 10,15 C10,13.9 10.9,13 12,13 C13.1,13 14,13.9 14,15 C14,16.1 13.1,17 12,17 Z M15.1,8 L8.9,8 L8.9,6 C8.9,4.29 10.29,2.9 12,2.9 C13.71,2.9 15.1,4.29 15.1,6 L15.1,8 Z",id:"svg-LockIconPageSurvey-YnjGPzk"},[]),"\n            "]),"\n        "]),"\n    "]),"\n"])}const Tn=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,Pn=e=>{var t;const s=Ts(mi),{answer:r,children:i,point:n,value:o}=e,a=()=>({confirmation:!1,values:l.map((()=>!1))}),{confirmation:c,fields:l,security:u}=(()=>{const e=n.fields.filter((({field_type:e})=>e!==Pr.confirmation&&e!==Pr.security_info)).sort(dt("order_number").ascending);return{confirmation:n.settings.consent?n.settings.consent_text:"",fields:e,security:n.settings.disclaimer?n.settings.disclaimer_text:""}})(),v={confirmation:c,fields:l,invalid:a(),isConfirmed:!!o,pointId:n.id,reducedState:Mn.reduceContactForm(n),security:u,values:o||l.map((()=>""))};Ms((()=>{d({payload:a(),type:"setInvalid"})}),[n]);const[_,d]=ks(Sn,v),{values:p,invalid:m,isConfirmed:h}=_,b=(e,t)=>{const s=[...p];s[t]=e,d({payload:s,type:"setValues"})},g=(e,t)=>{const s=e.trim();b(s,t),((e,t)=>{const s=[...m.values];s[t]=!1,l[t].field_type!==Pr.email&&l[t].required&&!e&&(s[t]=!0),l[t].field_type===Pr.email&&e&&!Tn.test(e)&&(s[t]=!0),d({payload:Object.assign(Object.assign({},m),{values:s}),type:"setInvalid"})})(s,t)},f=(null===(t=he.getState().surveyState.survey)||void 0===t?void 0:t.type)===Te.PageSurvey,y=an.isMicroTheme();return Ms((()=>{const e=l.some(((e,t)=>e.required&&!p[t]));s.disable(e)}),[p,m,h]),s.useEvent((()=>{(()=>{const e=a();let t=!0;return c&&!h&&(e.confirmation=!0,t=!1),l.forEach(((s,r)=>{const i=p[r];s.required&&!i&&(e.values[r]=!0,t=!1),s.field_type===Pr.email&&i&&!Tn.test(i)&&(e.values[r]=!0,t=!1)})),d({payload:e,type:"setInvalid"}),t})()?r({anonymizedTextResponse:"",answers:l.map(((e,t)=>({answer_type:e.field_type,content:p[t],field_id:e.id,nextSurveyPointId:n.settings.next_survey_point_id,user_tag:n.settings.user_tag}))),textResponse:"",value:p}):setTimeout((()=>{const e=document.querySelector(".sv__invalid input");e&&(e.focus(),An())}),0)})),(0,ds.h)("div",{className:"sv__contact-form"},(0,ds.h)("div",{className:"sv__scroll-container"},i&&[...i],l.map(((e,t)=>(0,ds.h)(xn,{key:e.id,label:e.label,required:e.required,value:p[t],invalid:m.values[t],type:e.field_type,onInput:e=>b(e,t),onBlur:e=>g(e,t)}))),c&&(0,ds.h)(wn,{isConfirmed:h,isInvalid:m.confirmation,setConfirmation:()=>d({payload:!h,type:"setIsConfirmed"}),label:c}),(f||y)&&u&&(0,ds.h)("div",{className:kn()},(0,ds.h)("div",{className:"sv__lock-icon"},(0,ds.h)(Nn,null)),(0,ds.h)(bn,{className:"sv__contact-form-agreement-label",inline:!0,content:u}))),!f&&!y&&u&&(0,ds.h)("div",{className:kn()},(0,ds.h)(On,null),(0,ds.h)(bn,{inline:!0,content:u})))},In=({point:e,answer:t,close:s,children:r})=>{const i=Ts(mi),n=vi(e).settings;return i.useEvent((()=>{if(e.answer_type===Kt.buttonClose&&"function"==typeof s)return void s();t(Jt({point:e}));const r=n,{isPreview:i}=he.getState(),{link:o,open_new_card:a}=r;o&&(i&&a||!i)&&window.open(o,a?"_blank":"_self")})),(0,ds.h)("div",{className:"sv__cta","data-testid":"button-next"},r&&(0,ds.h)("div",{className:"sv__scroll-container"},[...r]))},En=({point:e,answer:t,children:s})=>{const{user_tag:r,facebook_link:i,twitter_link:n,linkedin_link:o}=e.settings,a={anonymizedTextResponse:"",answers:[{nextSurveyPointId:-1,user_tag:r}],textResponse:""},c={"sv__social-button":!0};return(0,ds.h)("div",{className:"sv__social"},s&&(0,ds.h)("div",{className:"sv__scroll-container"},[...s]),i&&(0,ds.h)("a",{className:`${gi(c)} sv__fb`,href:i,target:"_blank",rel:"noopener noreferrer",onClick:()=>t(a),onKeyDown:e=>nn(e,(()=>t(a)),{preventDefault:!0}),"data-testid":"social-fb"},(0,ds.h)("svg",{width:"20",height:"20",xmlns:"http://www.w3.org/2000/svg"},(0,ds.h)("path",{d:"m6.490006,20l0,-9.12l2.95,0l0.44,-3.56l-3.39,0l0,-2.27a1.45,1.45 0 0 1 1.7,-1.73l1.81,0l0,-3.18a23.39,23.39 0 0 0 -2.64,-0.14c-2.61,0 -4.4,1.66 -4.4,4.7l0,2.62l-3,0l0,3.56l3,0l0,9.12l3.54,0l-0.01,0z"})),"Like"),n&&(0,ds.h)("a",{className:`${gi(c)} sv__twitter`,href:n,target:"_blank",rel:"noopener noreferrer",onClick:()=>t(a),onKeyDown:e=>nn(e,(()=>t(a)),{preventDefault:!0}),"data-testid":"social-twitter"},(0,ds.h)("svg",{width:"17",height:"15",xmlns:"http://www.w3.org/2000/svg"},(0,ds.h)("path",{d:"m17,1.78a6.55,6.55 0 0 1 -2,0.6a3.76,3.76 0 0 0 1.53,-2.09a6.66,6.66 0 0 1 -2.21,0.92a3.36,3.36 0 0 0 -2.55,-1.2a3.65,3.65 0 0 0 -3.49,3.79a4.1,4.1 0 0 0 0.09,0.86a9.67,9.67 0 0 1 -7.19,-4a4,4 0 0 0 -0.47,1.9a3.88,3.88 0 0 0 1.55,3.15a3.27,3.27 0 0 1 -1.58,-0.47l0,0a3.72,3.72 0 0 0 2.8,3.71a3.23,3.23 0 0 1 -1.58,0.06a3.54,3.54 0 0 0 3.26,2.63a6.66,6.66 0 0 1 -4.33,1.62a6.56,6.56 0 0 1 -0.83,-0.05a9.32,9.32 0 0 0 5.35,1.7c6.42,0 9.92,-5.77 9.92,-10.77q0,-0.25 0,-0.49a7.45,7.45 0 0 0 1.73,-1.87z"})),"Follow"),o&&(0,ds.h)("a",{className:`${gi(c)} sv__linkedin`,href:o,target:"_blank",rel:"noopener noreferrer",onClick:()=>t(a),onKeyDown:e=>nn(e,(()=>t(a)),{preventDefault:!0}),"data-testid":"social-linkedin"},(0,ds.h)("svg",{width:"21px",height:"21px"},(0,ds.h)("path",{d:"M1.06284545,7.43996625 L5.21369002,7.43996625 L5.21369002,20.793119 L1.06284545,20.793119 L1.06284545,7.43996625 Z M3.13521243,0.793994886 C4.45946716,0.793994886 5.53580603,1.87221749 5.53580603,3.19878807 C5.53580603,4.52535865 4.45946716,5.60620323 3.13608537,5.60620323 C1.80988051,5.60331939 0.735360446,4.52731106 0.732,3.19878807 C0.732,2.56054285 0.985278036,1.94847675 1.43604323,1.49741533 C1.88680842,1.0463539 2.4980818,0.793300051 3.13521243,0.793994886 M7.80545816,7.43996625 L11.7790953,7.43996625 L11.7790953,9.26498457 L11.8340907,9.26498457 C12.3875366,8.2156209 13.7388526,7.10854222 15.7623348,7.10854222 C19.9576994,7.10854222 20.732,9.87448997 20.732,13.469435 L20.732,20.7939935 L16.5916307,20.7939935 L16.5916307,14.2984323 C16.5916307,12.7506209 16.5636966,10.7568299 14.438953,10.7568299 C12.2827835,10.7568299 11.9510651,12.4445565 11.9510651,14.1847513 L11.9510651,20.7904956 L7.81156877,20.7904956 L7.81156877,7.43734284 L7.80545816,7.43996625 Z"})),"Follow"))},Cn=(0,ai.$)((({isPreview:e})=>({isPreview:e})),Vi)((({point:e,answer:t,children:s,isPreview:r})=>{const i=Ts(mi),n=e.answer_type===Kt.redirect,{timeout_display_count:o,user_tag:a,link:c,open_new_card:l}=e.settings;return Ms((()=>{const e={anonymizedTextResponse:"",answers:[{nextSurveyPointId:-1,user_tag:a}],textResponse:""};if(t(e),n){const s=parseInt(o||"0",10);setTimeout((()=>{r||(t(e),window.open(c,l?"_blank":"_self"))}),1e3*s)}}),[e]),Ms((()=>{i.render(!1)}),[]),(0,ds.h)("div",{className:"sv__cta"+(n?"-redirect":""),"data-testid":n?"redirect-cta":"thank-you-cta"},s&&(0,ds.h)("div",{className:"sv__scroll-container"},[...s]))})),jn=e=>{const{answer:t,content:s,indexes:{current:r,last:i}}=e,{lowestValueText:n,highestValueText:o}=s||{};return(0,ds.h)(ds.Fragment,null,`${t}${n&&0===r?` - ${n}`:o&&r===i?` - ${o}`:""}`)},Rn=e=>{var t,s,r,i;const n=Ts(mi),{previewDevice:o,point:a,children:c}=e,l=ge.params.aid,u=[0,1,2,3,4,5,6,7,8,9,10],v=a.id===(null===(t=he.getState().surveyState.survey)||void 0===t?void 0:t.points[0].id)?l:void 0,_=e.value||0===e.value?String(e.value):v,d=!!a.settings.mandatory_submit_button,p=(null===(r=null===(s=he.getState().surveyState)||void 0===s?void 0:s.survey)||void 0===r?void 0:r.type)===Te.PageSurvey,m=an.isMicroTheme(),[h,b]=Ss(_),f=Ns((()=>o===_e.mobile||o!==_e.desktop&&g.isWidthMobile()),[o]),y=null!==(i=a.settings.answers_layout)&&void 0!==i?i:ze.default,w=(p||m)&&f&&y===ze.default,x=t=>{h||d?b(String(t)):e.answer(Xt({point:a,value:t}))},S={sv__nps:!0,"sv__nps--horizontal":m&&f&&y===ze.horizontal,"sv__nps--vertical":w,"sv__nps-wrapper":!0,"sv__nps-wrapper--mobile":w},k={sv__buttons:!0,"sv__buttons--vertical":w},M=e=>{const t=e===Number(h);return gi({"sv-bg-hov-ba":!0,"sv-col-fa":!0,"sv-col-main":t,sv__button:!0,"sv__button--selected":t,"sv__nps--selected":t,"sv__nps-button":!0})},A=a.settings.text_on_the_left,O=a.settings.text_on_the_right,N={highestValueText:O,lowestValueText:A};return Ms((()=>{n.render(!!l||!!h||d)}),[h,d]),Ms((()=>{n.disable(!h)}),[h]),n.useEvent((()=>{h&&e.answer(Xt({point:a,value:Number(h)}))})),(0,ds.h)("div",{className:gi(S)},(0,ds.h)("div",{className:"sv__scroll-container"},c&&[...c],(0,ds.h)("div",{className:gi(k)},u.map(((e,t)=>{const s={current:t,last:u.length-1};return(0,ds.h)("button",{key:e,className:M(e),type:"button","data-value":e,onClick:()=>x(e),onKeyDown:t=>nn(t,(()=>x(e)),{preventDefault:!0}),"data-testid":`button-label-${e}`},(0,ds.h)(jn,Object.assign({},w&&{content:N},{answer:e,indexes:s})))}))),!w&&(0,ds.h)("div",{className:gi({"sv-col-fw":!0,sv__labels:!0,"sv__nps-labels":!0}),"data-testid":"nps-labels"},A&&(0,ds.h)("div",{className:"sv__label sv__label--left"},"0 - ",A),O&&(0,ds.h)("div",{className:"sv__label sv__label--right"},"10 - ",O))))},Fn=({text:e,shouldShow:t})=>t&&e?(0,ds.h)("p",{className:"sv__answer-hint","data-testid":"answer-hint"},e):null,Ln=(e,t=0)=>{e.style.height="5px",e.style.height=`${Math.max(t,e.scrollHeight)}px`},zn=e=>{var t;const{answer:s,answerRequiredText:r,comment:i,display:n,isSelected:o,mandatoryComment:a,select:c,textPlaceholder:l,updateComment:u}=e,v=(0,ds.createRef)(),_=e=>{e.currentTarget instanceof HTMLDivElement&&(e.currentTarget.blur(),e.stopPropagation()),c()},d=e=>{e.preventDefault();let t="";if(e.target instanceof HTMLTextAreaElement){const s=h||m?0:44;Ln(e.target,s),t=e.target.value}u&&u(t)};Ms((()=>{o&&(null==v?void 0:v.current)&&v.current.focus()}),[o]);const p=o&&s.add_comment,m=an.isMicroTheme(),h=(null===(t=he.getState().surveyState.survey)||void 0===t?void 0:t.type)===Te.PageSurvey,b={"sv-bg-ba":!0,"sv-bg-shaded-ba":o,"sv-col-fa":!0,"sv__choice-button":!0,"sv__choice-button--selected":o,"sv__choice-button--selected--expanded":m&&!!p,sv__selected:h&&o},g={"sv-col-fa":!0,"sv-col-main":h&&e.isSelected,"sv__answer-text":m},f={"sv__textarea-wrapper":!0,"sv__textarea-wrapper--narrower":!!a&&!!p&&!!r},y=h||m?"sv__textarea sv-border-color-main":"sv-bg-bw sv-col-fw sv-border-top-ba";return(0,ds.h)("div",{className:"sv__choice-button-wrapper"},(0,ds.h)("div",{role:"button",className:gi(b),onClick:e=>_(e),tabIndex:-1,onKeyDown:()=>null,"data-testid":"choice-button"},h||m?(0,ds.h)(ds.Fragment,null,(0,ds.h)("div",{className:"sv__choice-button-question"},(0,ds.h)(hn,{colors:pn.bw,display:n,isSelected:o,onClick:e=>_(e),onKeyboardClick:()=>c()}),(0,ds.h)(bn,{className:gi(g),content:s.possible_answer})),p&&(0,ds.h)("div",{className:gi(f)},(0,ds.h)(Fn,{text:r||"",shouldShow:!!a}),(0,ds.h)("textarea",{className:y,"data-gramm_editor":"false","data-testid":`comment-field-${s.id}`,name:"comment",onClick:e=>e.stopPropagation(),onInput:e=>{d(e)},onKeyDown:e=>e.stopPropagation(),placeholder:l,ref:v,title:"comment",value:i}))):(0,ds.h)(ds.Fragment,null,(0,ds.h)(hn,{colors:pn.bw,display:n,isSelected:o,onClick:e=>_(e),onKeyboardClick:()=>c()}),(0,ds.h)("div",null,(0,ds.h)(bn,{className:gi(g),content:s.possible_answer}),p&&(0,ds.h)(ds.Fragment,null,(0,ds.h)(Fn,{text:r||"",shouldShow:!!a}),(0,ds.h)("textarea",{className:y,"data-gramm_editor":"false","data-testid":`comment-field-${s.id}`,name:"comment",onClick:e=>e.stopPropagation(),onInput:e=>{d(e)},onKeyDown:e=>e.stopPropagation(),placeholder:l,ref:v,title:"comment",value:i}))))))},Dn=e=>{const t=e.slice(0);for(let s=e.length-1;s>0;s-=1){const e=Math.floor(Math.random()*(s+1));[t[s],t[e]]=[t[e],t[s]]}return t},qn=e=>{const t=e.answers,{randomize_answers:s,randomize_except_last:r}=e.settings;return $n(t,s,r)},$n=(e,t,s)=>t?s?[...Dn(e.slice(0,-1)),e[e.length-1]]:Dn(e):e,Hn=(e,t)=>{switch(t.type){case"setAnswers":return Object.assign(Object.assign({},e),{answers:t.payload});case"setComments":return Object.assign(Object.assign({},e),{comments:t.payload});case"setPointId":return Object.assign(Object.assign({},e),{pointId:t.payload});case"setReducedAnswers":return Object.assign(Object.assign({},e),{reducedAnswers:t.payload});case"setSelectedAnswer":return Object.assign(Object.assign({},e),{selectedAnswer:t.payload});case"setSelectedAnswers":return Object.assign(Object.assign({},e),{selectedAnswers:t.payload})}},Un=(e,t)=>{const s={};return e.answers.forEach((e=>{e.add_comment&&((null==t?void 0:t.comments)?s[e.id]=(null==t?void 0:t.comments[e.id])||"":s[e.id]="")})),(null==t?void 0:t.comment)&&(s[null==t?void 0:t.answer.id]=null==t?void 0:t.comment),s},Bn=e=>{var t,s,r,i,n,o;const{point:a,value:c}=e,{mandatory_comment:l,next_survey_point_id:u,randomize_answers:v,randomize_except_last:_}=a.settings,d=he.getState().surveyState.survey,p=d&&d.type===Te.MobileSurvey,m={answers:qn(a),comments:Un(a,c),pointId:a.id,reducedAnswers:Mn.reduceAnswers(qn(a)),selectedAnswers:(null==c?void 0:c.answers)||[]},[h,b]=ks(Hn,m),g=Ts(mi),f=h.selectedAnswers.reduce(((e,t)=>Object.assign(Object.assign({},e),{[t.id]:h.comments[t.id]||""})),{}),y=l&&h.selectedAnswers.some((e=>e.add_comment&&!h.comments[e.id]));Ms((()=>{h.reducedAnswers!==Mn.reduceAnswers(a.answers)&&(b({payload:a.answers,type:"setAnswers"}),b({payload:Mn.reduceAnswers(a.answers),type:"setReducedAnswers"}))}),[a.answers]),Ms((()=>{const e=h.answers.filter((e=>h.selectedAnswers.find((t=>e.id===t.id))));b({payload:e,type:"setSelectedAnswers"})}),[h.answers]),Ms((()=>{b({payload:qn(a),type:"setAnswers"})}),[v,_,a.id]);const w=(null===(s=null===(t=e.point.settings)||void 0===t?void 0:t.choice)||void 0===s?void 0:s.min)||1,x=(null===(i=null===(r=e.point.settings)||void 0===r?void 0:r.choice)||void 0===i?void 0:i.max)||0,{selectedAnswers:S}=h,k=w<=S.length&&(!x||x>=S.length);return g.useEvent((()=>{const t=h.selectedAnswers.reduce(((e,t)=>e?`${e}, ${t.possible_answer}`:`${t.possible_answer}`),"");(p||h.selectedAnswers.length)&&e.answer({anonymizedTextResponse:t,answers:h.selectedAnswers.map((e=>({content:h.comments[e.id]||null,nextSurveyPointId:u,survey_question_answer_id:e.id,user_tag:e.user_tag}))),textResponse:t,value:{answers:h.selectedAnswers,comments:f}})})),Ms((()=>{const e=!(p||S.length&&k&&!y);g.disable(e)}),[S,l,h.comments]),(0,ds.h)("div",{className:"sv__multiple-choice"},(0,ds.h)("div",{className:"sv__scroll-container"},e.children&&[...e.children],(0,ds.h)(Fn,{shouldShow:!!(null===(n=e.point.settings.choice)||void 0===n?void 0:n.text),text:null===(o=e.point.settings.choice)||void 0===o?void 0:o.text}),h.answers.map((t=>{const s=!!h.selectedAnswers.find((e=>e.id===t.id));return(0,ds.h)(zn,{answerRequiredText:e.answerRequiredText,mandatoryComment:e.point.settings.mandatory_comment,textPlaceholder:e.textPlaceholder,key:t.id,answer:t,display:mn.square,isSelected:s,comment:h.comments[t.id],updateComment:e=>{return s=e,r=t.id,void b({payload:Object.assign(Object.assign({},h.comments),{[r]:s}),type:"setComments"});var s,r},select:()=>(e=>{let t=[...h.selectedAnswers];t.find((t=>t.id===e.id))?t=t.filter((t=>t.id!==e.id)):t.push(e),b({payload:t,type:"setSelectedAnswers"})})(t),"data-testid":t.id})}))))},Wn=e=>{const{answer:t,answerRequiredText:s,point:r,textPlaceholder:i,value:n,children:o}=e,{mandatory_submit_button:a,mandatory_comment:c,randomize_answers:l,randomize_except_last:u}=r.settings,v=ge.params.aid,_=r.answers.find((({id:e})=>e===Number(v))),d={answers:qn(r),comments:Un(r,n),pointId:r.id,reducedAnswers:Mn.reduceAnswers(r.answers),selectedAnswer:_},[p,m]=ks(Hn,d),h=Ts(mi);Ms((()=>{_||m({payload:null==n?void 0:n.answer,type:"setSelectedAnswer"})}),[n]),Ms((()=>{m({payload:qn(r),type:"setAnswers"})}),[l,u]),Ms((()=>{const e=Mn.reduceAnswers(r.answers);p.reducedAnswers!==e&&(m({payload:r.answers,type:"setAnswers"}),m({payload:e,type:"setReducedAnswers"}))}),[r.answers]);const{answers:b,selectedAnswer:g,comments:f}=p;return Ms((()=>{h.render(!!g||!!a)}),[g,a]),Ms((()=>{const e=!g||!(!c||!(null==g?void 0:g.add_comment)||f[g.id]);h.disable(e)}),[g,c,f]),h.useEvent((()=>{if(p.selectedAnswer){const e=p.comments[p.selectedAnswer.id];if(c&&!e&&p.selectedAnswer.add_comment)return;t(Qt({answer:p.selectedAnswer,comment:e,point:r}))}})),(0,ds.h)("div",{className:"sv__single-choice"},(0,ds.h)("div",{className:"sv__scroll-container"},o&&[...o],b.map((e=>(0,ds.h)(zn,{answerRequiredText:s,mandatoryComment:c,textPlaceholder:i,key:e.id,answer:e,display:mn.circle,isSelected:(null==g?void 0:g.id)===e.id,comment:f[e.id],updateComment:t=>{return s=t,r=e.id,void m({payload:Object.assign(Object.assign({},p.comments),{[r]:s}),type:"setComments"});var s,r},select:()=>(e=>{if(e.add_comment||a)m({payload:e,type:"setSelectedAnswer"});else if(p.selectedAnswer)m({payload:e,type:"setSelectedAnswer"});else{const s=p.comments[e.id]||"";t(Qt({answer:e,comment:s,point:r}))}})(e),"data-testid":e.id})))))},Vn=({answers:e,selectedAnswer:t,handleAnswer:s})=>(0,ds.h)(ds.Fragment,null,e.map((e=>(0,ds.h)(zn,{key:e.id,answer:e,display:mn.circle,isSelected:(null==t?void 0:t.id)===e.id,select:()=>s(e),"data-testid":e.id})))),Gn=({answers:e,handleAnswer:t})=>(0,ds.h)("div",{className:"sv__buttons sv__buttons--vertical"},e.map((e=>(0,ds.h)("button",{"data-testid":e.id,key:e.id,type:"button",className:"sv__button",onClick:()=>t(e)},(0,ds.h)("span",{className:"sv__buttons__answer"},e.possible_answer))))),Kn=e=>{const t=Ts(mi),{point:s,value:r}=e,{mandatory_submit_button:i}=s.settings,n=ge.params.aid,o=s.answers.find((({id:e})=>e===Number(n))),[a,c]=Ss(r||o),l=an.isMicroTheme(),u=t=>{a||i?c(t):e.answer(Yt({answer:t,point:s}))};return Ms((()=>{t.render(!!a||!!n||!!i)}),[a,i]),Ms((()=>{t.disable(!a)}),[a]),t.useEvent((()=>{a&&e.answer(Yt({answer:a,point:s}))})),(0,ds.h)("div",{className:"sv__customer-satisfaction"},(0,ds.h)("div",{className:"sv__scroll-container"},e.children&&[...e.children],l?(0,ds.h)(Gn,{answers:s.answers,handleAnswer:u}):(0,ds.h)(Vn,{answers:s.answers,selectedAnswer:a,handleAnswer:u})))};class Yn extends ds.Component{constructor(e){super(),this.timeUnit=20,this.ref=null,this.updateTranslate=e=>{const{optionHeight:t,options:s}=this.props;this.setState({translate:2*t-s.indexOf(e)*this.props.optionHeight})},this.touchStart=e=>{this.setState({touchStart:e.clientY||e.touches[0].clientY,transitionTime:0})},this.touchMove=bt((e=>{if(!this.state.touchStart)return;const t=e.clientY||e.touches[0].clientY;this.setState((e=>{if(!e.touchStart)return{};const s=t-e.touchStart;let r=e.translate+s;return r=Math.max(e.translateMin-2*this.props.optionHeight,Math.min(r,e.translateMax+2*this.props.optionHeight)),{speed:s,touchStart:t,translate:r}}))}),this.timeUnit),this.getTransitionTime=e=>Math.max(e*this.timeUnit*3,600),this.touchEnd=()=>{this.state.touchStart&&this.setState((e=>{const t=e.speed,s=Math.abs(t/-5);let r=Math.abs(-5)*s*(s/2);t<0&&(r*=-1);let i=Math.round((e.translate+r)/this.props.optionHeight)*this.props.optionHeight;i=Math.max(e.translateMin,Math.min(i,e.translateMax));const n=e.translate-i,o=Math.abs(n)/t,a=(i-e.translateMax)/this.props.optionHeight;return this.props.setValue(Math.abs(a)),{speed:null,touchStart:null,transitionTime:this.getTransitionTime(o),translate:i}}))},this.tryTouchStart=e=>{let t,s=0,r=0;if(e.clientX?(t=e,s=t.clientX,r=t.clientY):e.touches&&(t=e,s=t.touches[0].clientX,r=t.touches[0].clientY),!this.ref)return;const i=this.ref.getBoundingClientRect();this.isPointInRect(s,r,i)&&this.touchStart(t)};const t=e.options.indexOf(e.value);this.state={speed:null,touchStart:null,transitionTime:0,translate:2*e.optionHeight-t*e.optionHeight,translateMax:2*e.optionHeight,translateMin:2*e.optionHeight-e.optionHeight*(e.options.length-1)}}componentDidUpdate(e){e.value!==this.props.value&&this.updateTranslate(this.props.value)}isPointInRect(e,t,s){return s.left<=e&&e<=s.right&&s.top<=t&&t<=s.bottom}componentWillMount(){document.addEventListener("mousemove",this.touchMove),document.addEventListener("mousedown",this.tryTouchStart),document.addEventListener("mouseup",this.touchEnd),document.addEventListener("touchstart",this.tryTouchStart),document.addEventListener("touchmove",this.touchMove),document.addEventListener("touchend",this.touchEnd)}componentWillUnmount(){document.removeEventListener("mousedown",this.tryTouchStart),document.removeEventListener("mousemove",this.touchMove),document.removeEventListener("mouseup",this.touchEnd)}render(){const{translate:e,transitionTime:t}=this.state,{options:s,optionHeight:r}=this.props;return(0,ds.h)("div",{className:gi({"sv__datepicker--roller--wrapper":!0,sv__roller__wrapper:!0}),ref:e=>{this.ref=e}},(0,ds.h)("div",{className:gi({"sv__datepicker--roller":!0,sv__roller:!0}),style:`\n            -webkit-transition: transform ${t}ms cubic-bezier(.62,1.51,.57,.95);\n            -webkit-transform: translate3d(0,${e}px,0);`},s.map((e=>(0,ds.h)("div",{key:e,className:"sv__roller__option",style:{height:r}},e)))))}}const Zn=Yn,Qn=(e,t)=>{const s=[];for(let r=e;r<=t;r+=1)s.push(r);return s},Jn=({setValue:e,optionHeight:t,optionCount:s})=>{const r=new Date,[i,n]=Ss(r.getDate()),[o,a]=Ss(r.getMonth()+1),[c,l]=Ss(r.getFullYear()),u=()=>new Date(c,o,0).getDate(),v=Ns((()=>u()),[o]),_=Ns((()=>Qn(1,v).map((e=>`${e}`))),[v]),d=Ns((()=>Qn(1920,c+1).map((e=>`${e}`))),[]),p=()=>{const e=new Date,{isPreview:t,surveyState:{translationLanguage:s}}=he.getState(),r=t&&s?s:window.navigator.language.substring(0,2);return Array.from(Array(12).keys()).map((t=>(e.setDate(1),e.setMonth(t),e.toLocaleDateString(r,{month:"long"}))))};Ms((()=>{e({day:i,month:o,year:c})}),[i,o,c]),Ms((()=>{n(Math.min(i,u()))}),[o]);return(0,ds.h)("div",{className:gi({sv__datepicker:!0,"sv__mobile-datepicker":!0}),style:{height:t*s}},(0,ds.h)("div",{className:gi({"sv__datepicker--selected":!0,"sv__mobile-datepicker--selected":!0}),style:{height:t}}),(0,ds.h)(Zn,{optionHeight:t,"data-testid":"day",value:i.toString(),options:_,setValue:e=>n(e+1)}),(0,ds.h)(Zn,{optionHeight:t,"data-testid":"month",value:p()[o-1],options:p(),setValue:e=>a(e+1)}),(0,ds.h)(Zn,{optionHeight:t,"data-testid":"year",value:c.toString(),options:d,setValue:e=>l(e+1920)}))},Xn=(e,t)=>{switch(t.type){case"setError":return Object.assign(Object.assign({},e),{error:t.payload});case qe.day:return Object.assign(Object.assign({},e),{[qe.day]:t.payload});case qe.month:return Object.assign(Object.assign({},e),{[qe.month]:t.payload});case qe.year:return Object.assign(Object.assign({},e),{[qe.year]:t.payload});case"setContainerClass":return Object.assign(Object.assign({},e),{containerClass:t.payload});case"setPointId":return Object.assign(Object.assign({},e),{pointId:t.payload});default:return e}},eo=(e,t)=>e.padStart(t,"0");var to,so;!function(e){e.YMD="YMD",e.MDY="MDY",e.DMY="DMY"}(to||(to={})),function(e){e.dash="-",e.slash="/",e.dot="."}(so||(so={}));const ro=(e,t)=>{const s=parseInt(t[e],10);if(Number.isNaN(s))return!1;const r={[qe.day]:{max:31,min:1},[qe.month]:{max:12,min:1},[qe.year]:{max:5e3,min:1e3}}[e];if(!r)throw new Error("TimeUnit is incorrect.");return s>=r.min&&s<=r.max},io=e=>{var t,s,r;const i=Ts(mi),n=[Os(null),Os(null),Os(null)],{point:o,value:a}=e,c={[qe.day]:null!==(t=null==a?void 0:a[qe.day])&&void 0!==t?t:"",[qe.month]:null!==(s=null==a?void 0:a[qe.month])&&void 0!==s?s:"",[qe.year]:null!==(r=null==a?void 0:a[qe.year])&&void 0!==r?r:"",containerClass:"",error:!1,pointId:o.id},[l,u]=ks(Xn,c),v=(e,t,s)=>{let r="";e.target instanceof HTMLInputElement&&(r=e.target.value),r=r.replace(/\D/g,""),u({payload:r,type:t});const i=n[s+1];((e,t)=>e===qe.year?4===t.length:e===qe.month?2===t.length||parseInt(t,10)>1:2===t.length||parseInt(t,10)>3)(t,r)&&s<2&&i&&i.current&&i.current.focus()},_=e=>{u({payload:e,type:"setContainerClass"})},{point:{settings:{mandatory:d,date_separator:p,date_order:m}},answerRequiredText:h,previewDevice:b}=e,f=(e=>{switch(e){case to.DMY:return[qe.day,qe.month,qe.year];case to.MDY:return[qe.month,qe.day,qe.year];case to.YMD:default:return[qe.year,qe.month,qe.day]}})(m),y=!l[qe.year]||!l[qe.month]||!l[qe.day],w=d&&y,x=an.isMicroTheme(),S=ci(b)&&x||b!==_e.desktop&&g.isWidthMobile()&&x,k={sv__date:!0,sv__invalid:l.error,[l.containerClass]:!!l.containerClass},M={"sv-col-fw":!0,sv__date__input:!0};return Ms((()=>{i.disable(w)}),[d,l[qe.day],l[qe.month],l[qe.year]]),i.useEvent((()=>{const{mandatory:t,next_survey_point_id:s,user_tag:r}=e.point.settings,i=ro(qe.year,l)&&ro(qe.month,l)&&ro(qe.day,l),n=!l[qe.year]&&!l[qe.month]&&!l[qe.day];if(!i)return!t&&n?e.answer({anonymizedTextResponse:"",answers:[{content:"",user_tag:r}],textResponse:""}):u({payload:!0,type:"setError"}),void(()=>{const e=Array.from(document.querySelectorAll(".sv__survey input"));if(e.length){const t=e.find((e=>!e.value));t&&t.focus()}})();const o=eo(l[qe.day],2),a=eo(l[qe.month],2),c=l[qe.year];e.answer({anonymizedTextResponse:`${c}-${a}-${o}`,answers:[{content:`${c}-${a}-${o}`,nextSurveyPointId:s,user_tag:r}],textResponse:`${c}-${a}-${o}`,value:{[qe.day]:o,[qe.month]:a,[qe.year]:c}})})),(0,ds.h)("div",{className:gi({"sv__date-wrapper":!0,sv__date__wrapper:!0})},(0,ds.h)("div",{className:"sv__scroll-container"},e.children&&[...e.children],S?(0,ds.h)(Jn,{setValue:e=>(({day:e,month:t,year:s})=>{const r=[qe.day,qe.month,qe.year],i=[e,t,s];r.forEach(((e,t)=>{u({payload:`${i[t]}`,type:e})}))})(e),optionHeight:56,optionCount:5}):(0,ds.h)(ds.Fragment,null,(0,ds.h)(Fn,{shouldShow:d,text:h}),(0,ds.h)("div",{className:gi(k),role:"button"},f.map(((e,t)=>[(0,ds.h)(yn,{"data-testid":`${e}-input-validation`,invalid:l.error,key:e,type:"date"},(0,ds.h)("input",{className:gi(M),"data-testid":e,maxLength:e.length,onBlur:()=>_(""),onFocus:()=>_("focused"),onInput:s=>v(s,e,t),placeholder:e,ref:n[t],type:"text",value:l[e]})),2!==t?(0,ds.h)("div",{className:"sv__date__separator"},p):null]))))))},no=(e,t)=>{switch(t.type){case"setAnswers":return Object.assign(Object.assign({},e),{answers:t.payload});case"setError":return Object.assign(Object.assign({},e),{error:t.payload});case"setPointId":return Object.assign(Object.assign({},e),{pointId:t.payload});case"setReducedAnswers":return Object.assign(Object.assign({},e),{reducedAnswers:t.payload});case"setValue":return Object.assign(Object.assign({},e),{value:t.payload})}},oo=(e,t)=>{switch(t.type){case"setFocusPosition":return Object.assign(Object.assign({},e),{focusPosition:t.payload});case"setIsOpen":return Object.assign(Object.assign({},e),{isOpen:t.payload});case"setSearch":return Object.assign(Object.assign({},e),{search:t.payload});case"setSelected":return Object.assign(Object.assign({},e),{selected:t.payload})}};function ao(e){e.styles;var t=Object.assign({},e);return delete t.styles,(0,ds.h)("svg",Object.assign({width:"10px",height:"7px",viewBox:"0 0 10 7",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},t),["\n    ",(0,ds.h)("title",{},["Path"]),"\n    ",(0,ds.h)("g",{id:"svg-CaretDownIcon-OdlnnTv",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},["\n        ",(0,ds.h)("g",{id:"svg-CaretDownIcon-1PxQxlW",transform:"translate(-5.000000, -7.000000)",fill:"#161616"},["\n            ",(0,ds.h)("polygon",{id:"svg-CaretDownIcon-3jY1JFX",points:"13.825 7.15833333 10 10.975 6.175 7.15833333 5 8.33333333 10 13.3333333 15 8.33333333"},[]),"\n        "]),"\n    "]),"\n"])}const co=e=>{var t,s;const r="PageSurvey"===(null===(s=null===(t=he.getState().surveyState)||void 0===t?void 0:t.survey)||void 0===s?void 0:s.type),i=an.isMicroTheme();return(0,ds.h)("div",{className:gi({"sv__select-buttons":!0,sv__select__buttons:!0})},e.shouldShowClearButton&&(r||i)&&(0,ds.h)("button",{"aria-label":"Close",title:"Close",type:"button",onClick:e.clearInput,className:gi({"sv__clear-input-icon":!0,"sv__select-icon":!0,"sv__select__clear-input":!0}),"data-testid":"clear-button"},(0,ds.h)(cn,null)),(0,ds.h)("div",{className:"sv__caret sv__select-icon",onClick:e.toggleDropdown,onInput:e.searchHandler,onKeyDown:e.keyDownHandler,role:"button",tabIndex:0},(r||i)&&!e.shouldShowClearButton&&(0,ds.h)(ao,null)))},lo=({text:e,highlight:t})=>{const s=t?e.toLowerCase().indexOf(t.toLowerCase()):-1;return-1===s?(0,ds.h)("span",null,e):(0,ds.h)("span",null,e.substring(0,s),(0,ds.h)("strong",null,e.substring(s,s+t.length)),e.substring(s+t.length,e.length)," ")},uo=e=>{var t;const s=(null===(t=he.getState().surveyState.survey)||void 0===t?void 0:t.type)===Te.PageSurvey,r=t=>{const r=t===e.position;return gi({"sv-col-fa":!s,"sv-nested-bg-bw":!s,"sv-nested-bg-hover-bw":!s,"sv-nested-bg-selected-bw":!s&&r,"sv__select-button":!0,"sv__select-button--focused":s&&r})};return(0,ds.h)("ul",{"data-testid":"select-list",className:"sv__select-list"},e.options.map(((t,s)=>(0,ds.h)("li",{"data-testid":"select-list-element",className:"sv__select-list__element",key:t.value},(0,ds.h)("button",{"aria-label":"Select option",className:r(s),type:"button",onClick:()=>e.selectOption(t),onKeyDown:s=>nn(s,(()=>e.selectOption(t))),"data-testid":`select-list-button-${s}`},(0,ds.h)(lo,{text:t.label,highlight:e.search}))))))},vo=e=>{var t,s,r,i;const n=Ts(mi),o=Os(null),a=Os(null),c=e.options.find((t=>t.value===e.inputValue))||null,l={focusPosition:-1,isOpen:!1,search:c?c.label:"",selected:c},u=e=>{(null==o?void 0:o.current)&&!o.current.contains(e.target)&&(_({payload:-1,type:"setFocusPosition"}),_({payload:!1,type:"setIsOpen"}))},[v,_]=ks(oo,l),d=t=>{let s="";t.target instanceof HTMLInputElement&&(s=t.target.value),_({payload:!!h().length,type:"setIsOpen"}),_({payload:s,type:"setSearch"}),_({payload:null,type:"setSelected"}),e.onSelect("")},p=e=>{v.isOpen&&e.target.blur(),_({payload:!v.isOpen,type:"setIsOpen"}),_({payload:"",type:"setSearch"})},m=t=>{_({payload:0,type:"setFocusPosition"}),_({payload:!1,type:"setIsOpen"}),_({payload:"",type:"setSearch"}),_({payload:t,type:"setSelected"}),e.onSelect(t.value)},h=()=>{const{search:t,selected:s}=v,{options:r}=e;return(null==s?void 0:s.label)?r.filter((e=>e.value!==s.value)):t?r.filter((e=>e.label.toLowerCase().includes(t.toLowerCase()))):r},b=e=>{const t=h()[v.focusPosition];switch(e.key){case"Enter":return e.preventDefault(),void(v.isOpen&&t&&m(t));case"Escape":return e.preventDefault(),void _({payload:!1,type:"setIsOpen"});case"ArrowUp":return v.isOpen||_({payload:!0,type:"setIsOpen"}),void g(-1);case"ArrowDown":v.isOpen||_({payload:!0,type:"setIsOpen"}),g(1)}},g=e=>{const t=h().length;if(!t)return;const s=(v.focusPosition+e+t)%t;_({payload:s,type:"setFocusPosition"})},f=!!(null===(t=null==a?void 0:a.current)||void 0===t?void 0:t.value)&&e.showClearButton,y=(null===(r=null===(s=he.getState().surveyState)||void 0===s?void 0:s.survey)||void 0===r?void 0:r.type)===Te.WidgetSurvey,w=!h().length||!!e.isError,x={"sv-invalid":w,sv__select:!0,"sv__select--open":v.isOpen,"sv__survey-up":y&&an.isSurveyUp()};return Ms((()=>(document.addEventListener("click",u,!1),()=>{document.removeEventListener("click",u,!1)})),[]),Ms((()=>{const t=e.options.find((t=>t.value===e.inputValue))||null;_({payload:t?t.label:"",type:"setSearch"}),_({payload:t,type:"setSelected"})}),[e.inputValue]),Ms((()=>{e.shouldHideSubmitButton&&n.hide(v.isOpen)}),[v.isOpen]),(0,ds.h)("div",{ref:o,"data-testid":"select",className:gi(x)},(0,ds.h)(yn,{invalid:w,type:"select"},(0,ds.h)("input",{ref:a,className:"sv__input",type:"text",value:v.search||(null===(i=v.selected)||void 0===i?void 0:i.label),onInput:d,onKeyDown:b,placeholder:e.dropdownPlaceholder,onClick:p,autoComplete:"off",readOnly:!e.allowSearch,"data-testid":"select-input"})),v.isOpen&&!!h().length&&(0,ds.h)(uo,{selectOption:m,search:v.search,position:v.focusPosition,options:h()}),(0,ds.h)(co,{shouldShowClearButton:f,clearInput:()=>{_({payload:"",type:"setSearch"}),_({payload:null,type:"setSelected"}),f&&a.current&&(e.onSelect(""),_({payload:-1,type:"setFocusPosition"}),a.current.value="")},toggleDropdown:p,searchHandler:d,keyDownHandler:b}))},_o=e=>{const t=Ts(mi),{answerRequiredText:s,dropdownPlaceholder:r,point:{answers:i,id:n,settings:{mandatory:o}},value:a}=e,c=i.reduce(((e,t)=>`${e}${t.possible_answer}`),""),l={answers:qn(e.point),error:!1,pointId:n,reducedAnswers:c,value:a||null},[u,v]=ks(no,l),_=document.querySelector('[data-testid="select-input"]'),d=()=>null==u?void 0:u.answers.map((e=>({label:e.possible_answer.replace("&amp;","&"),value:e.id})));Ms((()=>{window._svc.isPreview&&v({payload:qn(e.point),type:"setAnswers"}),d()}),[i]);return Ms((()=>{const e=!u.value&&(o||!!(null==_?void 0:_.value));t.disable(e)}),[u.value,null==_?void 0:_.value,o]),t.useEvent((()=>{const t=u.value;if(!t)return o?void v({payload:!0,type:"setError"}):void e.answer({anonymizedTextResponse:"",answers:[],textResponse:""});e.answer({anonymizedTextResponse:t.possible_answer,answers:[{nextSurveyPointId:t.next_survey_point_id,survey_question_answer_id:t.id,user_tag:t.user_tag}],textResponse:t.possible_answer,value:t})})),(0,ds.h)("div",{className:gi({"sv__dropdown-wrapper":!0,sv__dropdown__wrapper:!0})},e.children&&(0,ds.h)("div",{className:"sv__scroll-container"},[...e.children]),(0,ds.h)(Fn,{shouldShow:o,text:s}),(0,ds.h)(vo,{dropdownPlaceholder:r||"Please select an answer",options:d(),onSelect:e=>{v({payload:i.find((t=>t.id===e))||null,type:"setValue"})},inputValue:u.value?u.value.id:null,allowSearch:!0,isError:u.error,pointId:u.pointId,showClearButton:!0,shouldHideSubmitButton:!0}))},po=e=>{var t,s;const r=Ts(mi),{value:i,point:n,children:o,previewDevice:a}=e,{answers:c,settings:l}=n,{text_on_the_left:u,text_on_the_right:v,mandatory_submit_button:_}=l,d=ge.params.aid,p=c.find((({id:e})=>e===Number(d))),[m,h]=Ss(null!=i?i:p),b="PageSurvey"===(null===(s=null===(t=he.getState().surveyState)||void 0===t?void 0:t.survey)||void 0===s?void 0:s.type),f=an.isMicroTheme(),y=a===_e.mobile||a!==_e.desktop&&g.isWidthMobile(),w=y&&b||y&&f&&e.point.answers.length>=6,x={"sv__numerical-scale":!0,"sv__numerical-scale--mobile":w,"sv__numerical-scale--vertical":w},S={sv__buttons:!0,"sv__buttons--vertical":w,"sv__numerical-scale__buttons":!0},k=e=>{const t={sv__button:!0,sv__selected:e.id===(null==m?void 0:m.id)};return gi(t)};return Ms((()=>{r.render(!!m||!!d||!!_)}),[m,_]),Ms((()=>{r.disable(!m)}),[m]),r.useEvent((()=>{m&&e.answer(Yt({answer:m,point:e.point}))})),(0,ds.h)("div",{className:gi(x)},(0,ds.h)("div",{className:"sv__numerical-scale__wrapper"},(0,ds.h)("div",{className:"sv__scroll-container"},o&&[...o],(0,ds.h)("div",{className:gi(S)},c.map(((t,s)=>(0,ds.h)("div",{className:k(t),key:t.id,onClick:()=>(t=>{m||_?h(t):e.answer(Yt({answer:t,point:e.point}))})(t),onKeyUp:()=>null,role:"button",tabIndex:t.id,"data-testid":t.id},((e,t)=>w?0===t&&u?`${e} - ${u}`:t===c.length-1&&v?`${e} - ${v}`:e:e)(t.possible_answer,s))))),!w&&(0,ds.h)("div",{className:"sv__labels"},u&&(0,ds.h)("div",{className:"sv__label sv__label--left"},u),v&&(0,ds.h)("div",{className:"sv__label sv__label--right"},v)))))},mo=({shape:e})=>{const t=an.isMicroThemeAndMobile();switch(e.toLowerCase()){case De.thumbs:return t?(0,ds.h)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 22.99 22"},(0,ds.h)("g",{id:"Warstwa_2","data-name":"Warstwa 2"},(0,ds.h)("g",{id:"Warstwa_1-2","data-name":"Warstwa 1"},(0,ds.h)("path",{d:"M22.2,12.21A3.13,3.13,0,0,0,23,10.08a2.79,2.79,0,0,0-2.75-2.75H16.29A2.3,2.3,0,0,1,16.41,7a1.87,1.87,0,0,1,.15-.32,1.84,1.84,0,0,0,.14-.25c.17-.33.31-.6.4-.81a6.14,6.14,0,0,0,.27-.86,4.37,4.37,0,0,0,.13-1.08V3.11a4.78,4.78,0,0,0-.07-.65,3.5,3.5,0,0,0-.17-.71,3.36,3.36,0,0,0-.34-.65,1.94,1.94,0,0,0-.57-.57,3.14,3.14,0,0,0-.86-.38A4.66,4.66,0,0,0,14.31,0a.91.91,0,0,0-.65.27,2.52,2.52,0,0,0-.48.72,4.16,4.16,0,0,0-.28.74c-.05.21-.11.5-.18.88s-.15.69-.19.86a5.13,5.13,0,0,1-.25.69,2.08,2.08,0,0,1-.44.69,21.61,21.61,0,0,0-1.45,1.72A22.37,22.37,0,0,1,9,8.3q-.73.81-1.08.84a1,1,0,0,0-.62.3.85.85,0,0,0-.25.63v9.18a.8.8,0,0,0,.27.63.88.88,0,0,0,.64.28,10.54,10.54,0,0,1,2.26.63l1.72.57c.41.13,1,.26,1.73.41a11,11,0,0,0,2.06.23h1.84a3.54,3.54,0,0,0,2.81-1.12,3.43,3.43,0,0,0,.7-2.59,2.86,2.86,0,0,0,.77-1.35,3,3,0,0,0,0-1.67,3,3,0,0,0,.61-2A3.41,3.41,0,0,0,22.2,12.21Zm-17.13-3H.92a.85.85,0,0,0-.65.27.91.91,0,0,0-.27.64v9.17a.91.91,0,0,0,.27.64.89.89,0,0,0,.65.27H5.07A.93.93,0,0,0,6,19.25V10.08A.93.93,0,0,0,5.07,9.17Z"})))):(0,ds.h)("svg",{viewBox:"3.90125 3.62625 55.96725 52.51425",xmlns:"http://www.w3.org/2000/svg"},(0,ds.h)("path",{d:"M45.958 55H19.703V21.919L37.622 4l3.085 3.02c.284.327.52.738.705 1.23.186.492.28.957.28 1.395v.853l-2.823 11.42h14.965c1.29 0 2.434.499 3.43 1.494.995.996 1.493 2.139 1.493 3.43v5.12c0 .306-.028.628-.082.968-.055.339-.137.65-.246.935l-7.746 18.05c-.372.875-1.012 1.608-1.92 2.199-.907.59-1.843.886-2.805.886zM14.78 21.919V55H5V21.919h9.78z",fill:"#D1D2D1","fill-rule":"nonzero"}));case De.stars:return t?(0,ds.h)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 23"},(0,ds.h)("g",{id:"Warstwa_2","data-name":"Warstwa 2"},(0,ds.h)("g",{id:"Warstwa_1-2","data-name":"Warstwa 1"},(0,ds.h)("path",{d:"M12,0l3.71,7.57L24,8.79l-6,5.89L19.42,23,12,19.07,4.58,23,6,14.68,0,8.79,8.29,7.57Z"})))):(0,ds.h)("svg",{viewBox:"4.33125 4.05625 54.3375 50.8875",xmlns:"http://www.w3.org/2000/svg"},(0,ds.h)("path",{d:"m15.255 55 4.394-18.874L5 23.453l19.317-1.67L31.846 4l7.529 17.784 19.316 1.669-14.649 12.673L48.437 55 31.846 44.984z",fill:"#D1D2D1","fill-rule":"nonzero"}));default:return t?(0,ds.h)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 23.59 21.22"},(0,ds.h)("g",{id:"Warstwa_2","data-name":"Warstwa 2"},(0,ds.h)("g",{id:"Warstwa_1-2","data-name":"Warstwa 1"},(0,ds.h)("path",{d:"M21.64,2a6.57,6.57,0,0,0-9.42,0l-.42.43L11.37,2A6.57,6.57,0,0,0,2,2a6.87,6.87,0,0,0,0,9.59l9.17,9.35h0a.92.92,0,0,0,1.33,0l9.17-9.35A6.87,6.87,0,0,0,21.64,2Z"})))):(0,ds.h)("svg",{viewBox:"2.78125 2.50625 57.154375 53.431875",xmlns:"http://www.w3.org/2000/svg"},(0,ds.h)("path",{d:"m31.818 55-3.852-3.46c-4.72-4.259-8.622-7.933-11.707-11.022-3.085-3.09-5.537-5.856-7.358-8.3-1.82-2.445-3.092-4.691-3.816-6.74A18.742 18.742 0 0 1 4 19.193c0-4.328 1.45-7.942 4.35-10.842C11.252 5.45 14.866 4 19.194 4c2.439 0 4.76.523 6.965 1.57 2.204 1.045 4.091 2.543 5.66 4.493 1.64-1.95 3.543-3.448 5.706-4.494A15.69 15.69 0 0 1 44.444 4c4.327 0 7.941 1.45 10.842 4.35 2.9 2.901 4.35 6.515 4.35 10.843 0 2.142-.361 4.237-1.085 6.285-.723 2.049-1.996 4.295-3.816 6.74-1.82 2.444-4.273 5.21-7.358 8.3-3.084 3.089-6.987 6.763-11.707 11.023L31.818 55z",fill:"#D1D2D1","fill-rule":"nonzero"}))}},ho=e=>{const t=Ts(mi),{point:{answers:s,settings:r},value:i,children:n,previewDevice:o}=e,{shape:a,text_on_the_left:c,text_on_the_right:l,mandatory_submit_button:u}=r,v=ge.params.aid,_=s.find((({id:e})=>e===Number(v))),[d,p]=Ss(i||_),[m,h]=Ss(void 0),b=an.isMicroTheme(),f=o===_e.mobile||o!==_e.desktop&&g.isWidthMobile(),y=f&&b&&e.point.answers.length>=6,w=t=>{d||u?p(t):e.answer(Yt({answer:t,point:e.point}))},x=e=>{h(e)},S={sv__rating:!0,"sv__rating--short":e.point.answers.length<=7,"sv__rating--vertical":y,"sv__short-rating":e.point.answers.length<=7},k={sv__buttons:!0,"sv__buttons--vertical":y,sv__rating__buttons:!0},M=e=>{const t=e<=s.findIndex((({id:e})=>e===(null==d?void 0:d.id))),r=void 0!==m&&e<=m;return gi({"sv-rating":!0,"sv-rating-selected":t||r,sv__button:!0,"sv__button--selected":t||r&&!f})},A={highestValueText:l,lowestValueText:c};return Ms((()=>{t.render(!!d||!!v||!!u)}),[d,u]),Ms((()=>{t.disable(!d)}),[d]),t.useEvent((()=>{d&&e.answer(Yt({answer:d,point:e.point}))})),(0,ds.h)("div",{className:gi(S)},(0,ds.h)("div",{className:"sv__rating__wrapper"},(0,ds.h)("div",{className:"sv__scroll-container"},n&&[...n],(0,ds.h)("div",{className:gi(k)},[...s].map(((e,t)=>{const r={current:t,last:s.length-1};return(0,ds.h)("button",{key:e.id,type:"button","data-value":e.possible_answer,className:M(t),onClick:()=>w(e),onKeyDown:t=>nn(t,(()=>w(e)),{preventDefault:!0}),onMouseOver:()=>x(t),onMouseOut:()=>x(void 0),onFocus:()=>x(t),onBlur:()=>x(void 0),"data-testid":e.id},(0,ds.h)(mo,{shape:a}),(0,ds.h)("div",{className:"sv__rating__number sv-col-fa "},(0,ds.h)(jn,Object.assign({},y&&{content:A},{answer:e.possible_answer,indexes:r}))))}))),!y&&(0,ds.h)("div",{className:"sv__labels sv-col-fw"},c&&(0,ds.h)("div",{className:"sv__label sv__label--left"},c),l&&(0,ds.h)("div",{className:"sv__label sv__label--right"},l)))))},bo=({smileyIcon:e})=>{var t;const s=(null===(t=he.getState().surveyState.survey)||void 0===t?void 0:t.type)===Te.MobileSurvey;if(!e)throw new Error("Invalid Smiley Type");return s&&!an.isMicroTheme()?(0,ds.createElement)(e.svg,{}):(0,ds.h)("div",{role:"img","aria-label":e.ariaLabel,className:`sv__smiley-scale__icon-container ${e.className}`,"data-testid":e.ariaLabel})};const go={[He.verySad]:{ariaLabel:"very sad",className:"sv__very-sad",svg:function(e){e.styles;var t=Object.assign({},e);return delete t.styles,(0,ds.h)("svg",Object.assign({role:"img","aria-label":"very sad",className:"sv__very-sad",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 44 44"},t),["\n  ",(0,ds.h)("path",{d:"M22,25c-5.08,0-11,4-11,9,6-2,16-2,22,0C33,29,27,25,22,25Z"},[]),(0,ds.h)("path",{d:"M19.69,14.74c0,2.48-1.09,4.54-2.41,4.54s-2.36-2.06-2.36-4.54,1.05-4.46,2.36-4.46S19.69,12.25,19.69,14.74Zm9.23,0c0,2.48-1.09,4.54-2.41,4.54s-2.36-2.06-2.36-4.54,1-4.46,2.36-4.46S28.92,12.25,28.92,14.74Z"},[]),"\n"])}},[He.sad]:{ariaLabel:"sad",className:"sv__sad",svg:function(e){e.styles;var t=Object.assign({},e);return delete t.styles,(0,ds.h)("svg",Object.assign({role:"img","aria-label":"sad",className:"sv__sad",viewBox:"0 0 60 60"},t),["\n  ",(0,ds.h)("path",{d:"M27,19.84c0,2.76-1.56,5-3.44,5s-3.38-2.29-3.38-5,1.49-5,3.38-5S27,17.07,27,19.84Zm13.18,0c0,2.76-1.56,5-3.44,5s-3.38-2.29-3.38-5,1.49-5,3.38-5S40.16,17.07,40.16,19.84ZM30,34.08a16,16,0,0,0-15,9.53L18.51,45A12.38,12.38,0,0,1,30,37.69,12.54,12.54,0,0,1,41.49,45.1L45,43.62A16.36,16.36,0,0,0,30,34.08Z"},[]),"\n"])}},[He.neutral]:{ariaLabel:"neutral",className:"sv__neutral",svg:function(e){e.styles;var t=Object.assign({},e);return delete t.styles,(0,ds.h)("svg",Object.assign({role:"img","aria-label":"neutral",className:"sv__neutral",viewBox:"0 0 60 60"},t),["\n  ",(0,ds.h)("path",{d:"M27.16,19.84c0,2.76-1.56,5-3.44,5s-3.38-2.29-3.38-5,1.49-5,3.38-5S27.16,17.07,27.16,19.84Zm13.18,0c0,2.76-1.56,5-3.44,5s-3.38-2.29-3.38-5,1.49-5,3.38-5S40.35,17.07,40.35,19.84ZM17,38.5H43a1,1,0,0,1,1,1v2a1,1,0,0,1-1,1H17a1,1,0,0,1-1-1v-2A1,1,0,0,1,17,38.5Z"},[]),"\n"])}},[He.happy]:{ariaLabel:"happy",className:"sv__happy",svg:function(e){e.styles;var t=Object.assign({},e);return delete t.styles,(0,ds.h)("svg",Object.assign({role:"img","aria-label":"happy",className:"sv__happy",viewBox:"0 0 60 60"},t),["\n  ",(0,ds.h)("path",{d:"M27,19.84c0,2.76-1.56,5-3.44,5s-3.38-2.29-3.38-5,1.49-5,3.38-5S27,17.07,27,19.84Zm13.18,0c0,2.76-1.56,5-3.44,5s-3.38-2.29-3.38-5,1.49-5,3.38-5S40.16,17.07,40.16,19.84ZM30,45.48a16,16,0,0,1-15-9.53l3.51-1.42A12.38,12.38,0,0,0,30,41.87a12.54,12.54,0,0,0,11.49-7.41L45,35.95A16.36,16.36,0,0,1,30,45.48Z"},[]),"\n"])}},[He.veryHappy]:{ariaLabel:"very happy",className:"sv__very-happy",svg:function(e){e.styles;var t=Object.assign({},e);return delete t.styles,(0,ds.h)("svg",Object.assign({role:"img","aria-label":"very happy",className:"sv__very-happy",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 44 44"},t),["\n  ",(0,ds.h)("path",{d:"M26.51,19.28c1.32,0,2.41-2.06,2.41-4.54s-1.09-4.46-2.41-4.46-2.36,2-2.36,4.46S25.19,19.28,26.51,19.28Zm-9.23,0c1.32,0,2.41-2.06,2.41-4.54s-1.09-4.46-2.41-4.46-2.36,2-2.36,4.46S16,19.28,17.28,19.28ZM11,25c0,5,6,9,11,9s11-4,11-9C27,27,17,27,11,25Z"},[]),"\n"])}}},fo=e=>{const t=Ts(mi),{point:{answers:s,settings:r},value:i,children:n}=e,{text_on_the_left:o,text_on_the_right:a,mandatory_submit_button:c}=r,l=ge.params.aid,u=s.find((({id:e})=>e===Number(l))),[v,_]=Ss(i||u),d=t=>{v||c?_(t):e.answer(Yt({answer:t,point:e.point}))},p={"sv__smiley-scale":!0,"sv__three-smileys":3===e.point.answers.length},m=e=>{const t={sv__selected:e.id===(null==v?void 0:v.id),"sv__smiley-scale__button":!0,[`sv__btn-${e.possible_answer.split(" ").join("_")}`]:!0};return gi(t)};return Ms((()=>{t.render(!!v||!!l||!!c)}),[v,c]),Ms((()=>{t.disable(!v)}),[v]),t.useEvent((()=>{v&&e.answer(Yt({answer:v,point:e.point}))})),(0,ds.h)("div",{className:gi(p)},(0,ds.h)("div",{className:"sv__smiley-scale__wrapper"},(0,ds.h)("div",{className:"sv__scroll-container"},n&&[...n],(0,ds.h)("div",{className:"sv__smiley-scale__buttons"},s.map((e=>(0,ds.h)("button",{"aria-label":"Smiley button",key:e.id,className:m(e),type:"button",onClick:()=>d(e),onKeyDown:t=>nn(t,(()=>d(e)),{preventDefault:!0}),"data-testid":e.id},(0,ds.h)(bo,{smileyIcon:go[e.possible_answer]}))))),(0,ds.h)("div",{className:"sv__labels sv-col-fw"},o&&(0,ds.h)("div",{className:"sv__label sv__label--left"},o),a&&(0,ds.h)("div",{className:"sv__label sv__label--right"},a)))))},yo=e=>{const t=Ts(mi),{answer:s,answerRequiredText:r,point:i,textPlaceholder:n,children:o,value:a}=e,[c,l]=Ss({content:null!=a?a:"",error:!1,pointId:i.id}),{error:u,content:v}=c,{settings:{mandatory:_}}=i,d={"sv-border-color-main":an.isSimpleTheme(),"sv-invalid":u,"sv__text-question":!0,sv__textarea:!0};return Ms((()=>{t.disable(!v&&i.settings.mandatory)}),[v,i.settings.mandatory]),t.useEvent((()=>{const{next_survey_point_id:e,user_tag:t,mandatory:r}=i.settings;if(!v&&r)return l((e=>Object.assign(Object.assign({},e),{error:!0}))),void(()=>{const e=document.querySelector(".sv__survey textarea");e&&e.focus()})();s({anonymizedTextResponse:"",answers:[{content:v,nextSurveyPointId:e,user_tag:t}],textResponse:v,value:v})})),(0,ds.h)("div",{className:gi({"sv__text-question":!0,"sv__text-question-wrapper":!0})},(0,ds.h)("div",{className:"sv__scroll-container"},o&&[...o],(0,ds.h)(yn,{invalid:u,type:"text"},(0,ds.h)(Fn,{shouldShow:_,text:r}),(0,ds.h)("textarea",{className:gi(d),placeholder:n,value:v,onInput:e=>{(e=>{e.preventDefault();let t="";e.target instanceof HTMLTextAreaElement&&(Ln(e.target),t=e.target.value),l((e=>Object.assign(Object.assign({},e),{content:t,error:!1})))})(e)},"data-gramm_editor":"false","data-testid":"text-area"}))))},wo=/\{\{\s?([a-z]+)(?:\.([a-zA-Z_-]+))?(?::([a-z0-9_-]+))?(?:\s?\|\s?"([^"]*)")?\s?\}\}/g;var xo,So;!function(e){e.visitor="visitor",e.answer="answer"}(xo||(xo={}));class ko{static replaceTags(e){return e.replace(wo,((e,t,s,r,i="")=>{let n;switch(t){case xo.visitor:n=this.getVisitorAttribute(s);break;case xo.answer:n=this.getAnswer(parseInt(r,10));break;default:n=""}return n||i}))}static getVisitorAttribute(e){return(e=>{const{visitor:t}=he.getState();return t.attributes[e]})(e)}static getAnswer(e){return fe.getAnswer(e)}}!function(e){e[e.question=0]="question",e[e.description=1]="description"}(So||(So={}));const Mo=({text:e,type:t,allowHTML:s=!0})=>{const r={"sv__point-description sv-col-description":t===So.description,"sv__point-question sv-col-question":t===So.question,"sv__point-text":!0};if(!s){const t=/&/g,s="&",i=e.replace(t,s);return(0,ds.h)("div",{className:gi(r)},ko.replaceTags(i))}return(0,ds.h)(bn,{className:gi(r),content:ko.replaceTags(e)})},Ao=e=>{const t=vi(e.point),s=document.querySelector(".sv__point");s&&An(s);const{answer:r,close:i,previewDevice:n,value:o,answerRequiredText:a,dropdownPlaceholder:c}=e,l={"sv__point-texts":!0,"sv__point-texts--empty":!t.description&&!t.content},u=(0,ds.h)("div",{className:gi(l),"data-testid":"point-texts"},t.description&&(0,ds.h)(Mo,{text:t.description,type:So.description}),t.content&&(0,ds.h)(Mo,{text:t.content,type:So.question})),v=`sv__point sv__${t.answer_type}-survey-point`;return(0,ds.h)("div",{className:v},(0,ds.h)("div",{className:"sv__point-wrapper"},(()=>{const e={[$e.single]:Wn,[$e.multiple]:Bn,[$e.text]:yo,[$e.smileyScale]:fo,[$e.date]:io,[$e.dropdown]:_o,[$e.rating]:ho,[$e.numericalScale]:po,[$e.customerSatisfaction]:Kn,[Le.nps]:Rn,[Kt.button]:In,[Kt.buttonLink]:In,[Kt.redirect]:Cn,[Kt.social]:En,[Kt.thankYouMessage]:Cn,[Kt.buttonClose]:In,[Ir.form]:Pn}[t.answer_type||t.type];if(!e)return setTimeout((()=>r({anonymizedTextResponse:"",answers:[],textResponse:""}))),null;const{answer_type:s}=t,l=[$e.date,$e.text,$e.dropdown,$e.single,$e.multiple].includes(s),v=[Le.nps,$e.date,$e.numericalScale,$e.rating].includes(s);return(0,ds.createElement)(e,Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({answer:r},t.answer_type===Kt.buttonClose&&{close:i}),l&&{answerRequiredText:a}),t.answer_type===$e.dropdown&&{dropdownPlaceholder:c}),{key:(()=>{switch(t.answer_type){case $e.matrix:case Le.nps:case $e.customerSatisfaction:case $e.numericalScale:case $e.rating:case $e.smileyScale:case $e.dropdown:case $e.multiple:case $e.single:case $e.date:case $e.text:case Ir.form:return t.id;default:return null}})(),point:t}),v&&{previewDevice:n}),{value:o}),[u])})()))};const Oo=new class{constructor(){this.MAX_DESKTOP_SURVEY_HEIGHT=664,this.WINDOW_HEIGHT_PERCENTAGE=.9,this.PREVIEW_WINDOW_HEIGHT_PERCENTAGE=.65,this.PREVIEW_IFRAME_OFFSET=100,this.handleTouchMove=e=>{e.preventDefault()}}getSurvey(){return document.querySelector('[data-testid="survey"]')}lockBodyScroll(){const e=this.getSurvey();e&&e.addEventListener("touchmove",this.handleTouchMove)}removeBodyScrollListeners(){const e=this.getSurvey();e&&e.removeEventListener("touchmove",this.handleTouchMove)}getSurveyMaxHeight(e,t){var s,r,i;const n=ci(e),o=window.innerHeight,c=t?"preview":"live",l=(null===(i=null===(r=null===(s=he.getState().surveyState)||void 0===s?void 0:s.survey)||void 0===r?void 0:r.settings)||void 0===i?void 0:i.place_to_show)===a.fullscreen,u={live:o>this.MAX_DESKTOP_SURVEY_HEIGHT,preview:o-this.PREVIEW_IFRAME_OFFSET>this.MAX_DESKTOP_SURVEY_HEIGHT},v={default:this.MAX_DESKTOP_SURVEY_HEIGHT,live:o*this.WINDOW_HEIGHT_PERCENTAGE,preview:o*this.PREVIEW_WINDOW_HEIGHT_PERCENTAGE};let _=v.default;return n||u[c]||(_=v[c]),n&&(_=v.live),l&&(_=o),_}setSurveyHeight(e,t){const s=this.getSurvey();if(!s)return;const r=this.getSurveyMaxHeight(e,t);s.style.maxHeight=`${r}px`}},No=JSON.parse('{"LI":"LEARN MORE","ZP":"Thank you for taking part in our survey","eF":"Thanks for completing the survey! 🎉","An":["Want to create surveys like this and gather feedback from your customers?","Discover how Survicate can help you collect insights in minutes."]}'),To=({message:e,hideBranding:t})=>{var s;const r=Ts(mi),i=`https://survicate.com/?utm_source=Survey+branding+thank+you+screen&utm_medium=${Te.WidgetSurvey}&utm_content=${window.location.hostname}&utm_term=${null===(s=he.getState().surveyState.survey)||void 0===s?void 0:s.id}`;return Ms((()=>{r.render(!1)}),[]),(0,ds.h)("div",{className:"sv__finish-view"},t?(0,ds.h)("p",{className:"sv__thank-you-message","data-testid":"non-branded-finish-screen-message"},null!=e?e:No.ZP):(0,ds.h)("div",{className:"sv__branded-finish-view--content"},(0,ds.h)("p",{className:"sv__introduction","data-testid":"branded-finish-screen-message"},No.eF),(0,ds.h)("div",{className:"sv__paragraph__container"},No.An.map((e=>(0,ds.h)("p",{key:e.substring(0,3),className:"sv__paragraph__item"},e)))),(0,ds.h)("img",{className:"sv__finish-logo",src:"https://surveys-static.survicate.com/images/mobileCompleted.svg",alt:"Survey completed logo"})),!t&&(0,ds.h)("div",{className:"sv__simple-link-button__wrapper"},(0,ds.h)(fi,{buttonLink:i,buttonText:No.LI})))},Po=({buttonLink:e})=>{var t,s;const r=an.isMicroTheme(),i=(null===(s=null===(t=he.getState().surveyState)||void 0===t?void 0:t.survey)||void 0===s?void 0:s.type)===Te.PageSurvey,n={"sv-col-small-button-bw":!r||!i,sv__footer__button:!0};return(0,ds.h)("div",{className:"sv__footer"},(0,ds.h)("a",{href:e,rel:"noopener noreferrer",target:"_blank",title:"Survicate",className:gi(n)},(0,ds.h)("small",{className:"sv__footer__small-text"},"Powered by"),r?(0,ds.h)(ki,null):(0,ds.h)("small",{className:"sv__footer__small-text"}," Survicate")))},Io=e=>{var t,s,r,i,n;const o=window._svd,a=null!==(s=null===(t=null==o?void 0:o.survey)||void 0===t?void 0:t.type)&&void 0!==s?s:null===(i=null===(r=null==o?void 0:o.surveys)||void 0===r?void 0:r[0])||void 0===i?void 0:i.type,{hide:c,pointAnswerType:l,isWidgetSurvey:u}=e,v=[Kt.buttonLink,Kt.redirect,Kt.social,Kt.thankYouMessage,Kt.buttonClose].includes(l)&&u,_=`https://survicate.com/?utm_source=${"Survey+branding"+(v?"+thank+you+screen":"")}&utm_medium=${a}&utm_content=${window.location.hostname}&utm_term=${null===(n=he.getState().surveyState.survey)||void 0===n?void 0:n.id}`,d={"sv__branded-footer--with-border":v&&!c,sv__footer__wrapper:!0};return(0,ds.h)("div",{className:gi(d)},!c&&(v?(0,ds.h)(Mi,{buttonLink:_}):(0,ds.h)(Po,{"data-testid":"footer",buttonLink:_})))},Eo=({progress:e,surveyType:t,text:s})=>{const r=t===Te.PageSurvey;return(0,ds.h)("div",{className:"sv__progress-bar__wrapper"},r&&(0,ds.h)("div",{"data-testid":"progress-bar-description",className:"sv__progress-bar-description"},(0,ds.h)("span",{className:"sv__progress-bar-number"},e,"% "),s),(0,ds.h)("div",{className:gi({"survicate_progress-bar_oTwfq":!0,"sv-progress-bar":!0,"sv__progress-bar":!0})},(0,ds.h)("div",{className:"sv__progress-bar-fill sv-progress-bar-fill",style:{width:`${e}%`}})))},Co=e=>{const{avatar_image:t,children:s,company_logo:r,completionRate:i,personalization:n,className:o,short_text_message:a,showProgressBar:c,isFinished:l,hideBranding:u}=e,v={"sv__micro-top-bar":!0,"sv__micro-top-bar--branded":!u,"sv__micro-top-bar--flat":![r,t,a].some((e=>!!e)),"sv__micro-top-bar--with-logo":!!r,[e.className]:!!o,"sv__micro-top-bar--with-personalization":!!r||!!a};return l&&!u?(0,ds.h)("div",{className:gi(v)},(0,ds.h)("div",{className:"sv__micro-top-bar__row"},(0,ds.h)("img",{className:"sv__survicate__logo",src:"https://surveys-static.survicate.com/images/surviLogoDark.svg",alt:"Survicate Logo"}),s)):(0,ds.h)("div",{className:gi(v)},(0,ds.h)("div",{className:"sv__micro-top-bar__row"},r&&(0,ds.h)("img",{className:"sv__micro-top-bar__logo",src:r,alt:"logo"}),n&&(0,ds.h)("div",{className:"sv__micro-top-bar__personalization"},t&&(0,ds.h)("img",{className:"sv__micro-top-bar__logo sv__micro-top-bar__avatar",src:t,alt:"avatar"}),a&&(0,ds.h)("div",{className:"sv__micro-top-bar__short-text"},a)),s),c&&(0,ds.h)(Eo,{"data-testid":"progress-bar",progress:i}))};class jo{static MicroThemeSettings(){const{theme:e}=he.getState().surveyState;return(null==e?void 0:e.settings)||null}static printWidgetSurveyClasses(){var e,t,s;const{surveyState:{survey:r,isMinimized:i,pointsDisplayed:n,isFinished:o},previewDevice:c}=he.getState(),l=null===(e=null==r?void 0:r.settings)||void 0===e?void 0:e.place_to_show,u=null===(t=n[n.length-1])||void 0===t?void 0:t.point.answer_type,v=!(!r||r.type!==Te.MobileSurvey),_=!(null===(s=null==r?void 0:r.settings)||void 0===s?void 0:s.hide_footer);if(!r)return"";const d=c===_e.mobile||c!==_e.desktop&&g.isWidthMobile(),p=!r.settings.hide_footer,m={"sv-bg-bw":!0,"sv__micro-theme":an.isMicroTheme()||an.isMobileTheme(),sv__minimized:i,"sv__mobile-survey":v,"sv__position-center":l===a.center,"sv__position-fullscreen":l===a.fullscreen,"sv__position-left":l===a.left,"sv__position-mobile":!!v||d,"sv__position-right":l===a.right,"sv__position-top-left":l===a.topLeft,"sv__position-top-right":l===a.topRight,sv__survey:!0,"sv__survey--branded":_,"sv__survey--finished":o&&!v,"sv__survey--with-footer":p&&v,[`sv__survey--${u}`]:!!u};return gi(m)}}const Ro=e=>{var t;const s=Os(!0),r=Ns((()=>({current:"",next:""})),[]),[i,n]=Ss(e.surveyPoint),[o,a]=Ss(null),[c,l]=Ss(r);Ms((()=>{s.current||n(e.surveyPoint)}),[e.surveyPoint]);Ms((()=>{var t,i;s.current?s.current=!1:e.surveyPoint&&e.previousPoint&&(t=e.previousPoint,i=e.surveyPoint,n(t),a(i),l({current:"sv__survey--slide-out",next:"sv__survey--slide-in"}),setTimeout((()=>{n(i),a(null),l(r)}),300))}),[null===(t=e.surveyPoint)||void 0===t?void 0:t.point.id]);const u=Object.assign(Object.assign({},e),{className:c.current,close:()=>{l({current:"sv__survey--slide-down",next:r.next});const{isPreview:t,surveyState:s}=he.getState();setTimeout((()=>{t?(Jr(s),Xr(s)):e.close(),l(r)}),300)},surveyPoint:i}),v=Object.assign(Object.assign({},e),{className:c.next,surveyPoint:o});return(0,ds.h)(ds.Fragment,null,i&&(0,ds.h)(Fo,Object.assign({},u)),o&&(0,ds.h)(Fo,Object.assign({},v)))};class Fo extends ds.Component{constructor(){super(...arguments),this.debouncedSettingOfWidgetHeight=bt((()=>{this.setWidgetScrollContainerHeight()}),100)}setWidgetScrollContainerHeight(){Oo.setSurveyHeight(this.props.previewDevice,this.props.isPreview)}componentDidMount(){this.props.isMicroTheme&&(window.addEventListener("resize",this.debouncedSettingOfWidgetHeight.bind(this)),this.setWidgetScrollContainerHeight())}componentWillUnmount(){window.removeEventListener("resize",this.debouncedSettingOfWidgetHeight.bind(this))}componentDidUpdate(){var e;this.props.isMicroTheme&&(this.setWidgetScrollContainerHeight(),Oo.removeBodyScrollListeners(),(null===(e=this.props.surveyPoint)||void 0===e?void 0:e.point.answer_type)===$e.date&&Oo.lockBodyScroll())}render(){var e,t,s,r,i;const{className:n,close:o,completionRate:a,isFinished:c,pointsDisplayed:l,isWidgetSurvey:u,microThemeSettings:v,pointAnswer:_,previewDevice:d,survey:p,surveyPoint:m}=this.props;if(!p)return null;const h=c&&!Hs(l),b=ui(p);return m?(0,ds.h)("div",{className:`${jo.printWidgetSurveyClasses()}${n?` ${n}`:""}`,"data-testid":"survey"},(0,ds.h)(Co,Object.assign({},v,{completionRate:a,className:m?`sv__${m.point.answer_type}__micro-top-bar`:"",showProgressBar:!c&&p.settings.show_progress_bar,isFinished:c,hideBranding:null===(e=p.settings)||void 0===e?void 0:e.hide_footer}),(0,ds.h)(_n,{showCloseBtn:this.props.isFinished||!!(null===(t=this.props.survey)||void 0===t?void 0:t.settings.show_close),showMinimizeBtn:!this.props.isFinished&&!!(null===(s=this.props.survey)||void 0===s?void 0:s.settings.show_minimize),toggleMinimize:()=>this.props.toggleMinimize(!0),close:this.props.close})),h?(0,ds.h)(To,{message:b.thankyou_text,hideBranding:null===(r=p.settings)||void 0===r?void 0:r.hide_footer}):(0,ds.h)(Ao,{answerRequiredText:b.answer_required_text,dropdownPlaceholder:b.dropdown_placeholder,point:m.point,value:m.value,close:o,answer:_,previewDevice:d}),(0,ds.h)(mi.Consumer,null,(e=>e.isVisible&&(0,ds.h)(on,null))),(0,ds.h)(Io,{isWidgetSurvey:u,hide:c||(null===(i=p.settings)||void 0===i?void 0:i.hide_footer),pointAnswerType:m.point.answer_type})):null}}const Lo=(0,ai.$)((({surveyState:e,previewDevice:t,isPreview:s})=>{var r,i;return{completionRate:as(e),isFinished:e.isFinished,isMicroTheme:(null===(r=e.theme)||void 0===r?void 0:r.type)===Je.micro,isPreview:s,isWidgetSurvey:(null===(i=e.survey)||void 0===i?void 0:i.type)===Te.WidgetSurvey,microThemeSettings:jo.MicroThemeSettings(),pointsDisplayed:e.pointsDisplayed,previewDevice:t,previousPoint:e.pointsDisplayed[e.pointsDisplayed.length-2],survey:e.survey,surveyPoint:e.pointsDisplayed[e.pointsDisplayed.length-1]}}),Vi)((e=>an.isMicroThemeAndMobile()?(0,ds.h)(Ro,Object.assign({},e)):(0,ds.h)(Fo,Object.assign({},e))));function zo(e){e.styles;var t=Object.assign({},e);return delete t.styles,(0,ds.h)("svg",Object.assign({width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},t),["\n    ",(0,ds.h)("defs",{},["\n        ",(0,ds.h)("path",{id:"svg-arrow-forward-1HGzT8b",d:"M10 0 8.238 1.762l6.975 6.988H0v2.5h15.213l-6.975 6.988L10 20l10-10z"},[]),"\n    "]),"\n    ",(0,ds.h)("g",{fill:"none","fill-rule":"evenodd"},["\n        ",(0,ds.h)("path",{d:"M0 0h24v24H0z"},[]),"\n        ",(0,ds.h)("g",{transform:"translate(2 2)"},["\n            ",(0,ds.h)("mask",{id:"svg-arrow-forward-2GksUkA",fill:"#fff"},["\n                ",(0,ds.h)("use",{"xlink:href":"#svg-arrow-forward-1HGzT8b"},[]),"\n            "]),"\n            ",(0,ds.h)("use",{fill:"#29292A","xlink:href":"#svg-arrow-forward-1HGzT8b"},[]),"\n            ",(0,ds.h)("path",{fill:"#29292A",mask:"url(#svg-arrow-forward-2GksUkA)",d:"M-2-2h24v24H-2z"},[]),"\n        "]),"\n    "]),"\n"])}const Do=(0,ai.$)((({surveyState:e})=>{const{survey:t}=e;return{text:t&&(null==t?void 0:t.settings).messages.tooltip?ui(t).tooltip:"Please answer our short survey."}}),Vi)((({text:e,toggleMinimize:t})=>{const s=an.isMicroTheme(),r={[jo.printWidgetSurveyClasses()]:!0,"sv-col-question":!0},i={"survicate_plus-button_OvC0J":!s,"sv-col-question":!s,"sv__btn-maximize-plus":!0,"sv__minimized-symbol":!0};return(0,ds.h)("div",{role:"button",tabIndex:0,className:gi(r),onClick:()=>t(!1),onKeyDown:e=>nn(e,(()=>t(!1)))},(0,ds.h)("div",{className:"sv__minimized__text"},e),(0,ds.h)("div",{className:gi(i)},s?(0,ds.h)(zo,{className:"sv__forward-arrow"}):"+"))})),qo=Do;var $o=s(379),Ho=s.n($o),Uo=s(795),Bo=s.n(Uo),Wo=s(569),Vo=s.n(Wo),Go=s(565),Ko=s.n(Go),Yo=s(216),Zo=s.n(Yo),Qo=s(589),Jo=s.n(Qo),Xo=s(901),ea={};ea.styleTagTransform=Jo(),ea.setAttributes=Ko(),ea.insert=Vo().bind(null,"head"),ea.domAPI=Bo(),ea.insertStyleElement=Zo();Ho()(Xo.Z,ea);Xo.Z&&Xo.Z.locals&&Xo.Z.locals;const ta=(0,ai.$)((({surveyState:e,previewDevice:t})=>{var s;return{isMinimized:e.isMinimized,previewDevice:t,survey:e.survey,themeType:null===(s=e.theme)||void 0===s?void 0:s.type}}),Vi)((e=>{const{survey:t,isMinimized:s,close:r,retarget:i}=e,n=()=>{(null==t?void 0:t.settings.close_on_urlchange)&&r(),fe.setCurrentView(),i()};return Ms((()=>{mt.startInterval(n)}),[t]),(0,ds.h)("div",{className:"sv-box-child"},(0,ds.h)(rn,null),!!t&&(s?(0,ds.h)(qo,null):(0,ds.h)(Lo,null)))})),sa=ta;var ra=function(e,t,s,r){return new(s||(s=Promise))((function(i,n){function o(e){try{c(r.next(e))}catch(e){n(e)}}function a(e){try{c(r.throw(e))}catch(e){n(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))};const ia=Object.assign(Object.assign({},ri),{ApiEvent:ni,AppearMethod:ii,init:e=>ra(void 0,void 0,void 0,(function*(){var t;const s=yield N("https://survey.survicate.com").get(`/workspaces/${e.workspaceKey}/web_surveys.json`).catch((e=>(console.error("Error fetching survey data:",e),null)));if(!s)return null;window._svc={initialized:!1,isPreview:!1,workspaceKey:e.workspaceKey},window._svd=yield s.data,(null===(t=window._svd.permissions)||void 0===t?void 0:t.web_surveys_npm_package)?tn(Te.WidgetSurvey,(0,ds.createElement)(sa,{})):console.warn("Failed to init Survicate. \n Upgrade your account to get access to npm package feature")}))}),na=ia})(),r=r.default})()));
